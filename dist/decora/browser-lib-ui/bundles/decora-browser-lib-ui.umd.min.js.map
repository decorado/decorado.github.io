{"version":3,"sources":["ng://@decora/browser-lib-ui/lib/services/configuration/configuration.service.ts","ng://@decora/browser-lib-ui/lib/services/api/decora-api.service.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete/autocomplete.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete/autocomplete.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-account/autocomplete-account.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-account/autocomplete-account.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-company/autocomplete-company.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-company/autocomplete-company.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-complexity/autocomplete-complexity.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-complexity/autocomplete-complexity.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-country/autocomplete-country.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-country/autocomplete-country.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-department/autocomplete-department.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-department/autocomplete-department.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-role/autocomplete-role.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-role/autocomplete-role.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-squads/autocomplete-squads.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-squads/autocomplete-squads.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-product/autocomplete-product.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-product/autocomplete-product.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-project/autocomplete-project.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-project/autocomplete-project.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-quote/autocomplete-quote.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-quote/autocomplete-quote.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-tags/autocomplete-tags.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-tags/autocomplete-tags.module.ts","ng://@decora/browser-lib-ui/lib/components/breadcrumb/breadcrumb.component.ts","ng://@decora/browser-lib-ui/lib/components/breadcrumb/breadcrumb.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-carousel/dec-carousel-item/dec-carousel-item.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-carousel/dec-carousel.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-carousel/dec-carousel.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-date-picker/dec-date-picker.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-date-picker/dec-date-picker.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-events-list/dec-events-list-event/dec-events-list-event.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-events-list/dec-events-list.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-events-list/dec-events-list.module.ts","ng://@decora/browser-lib-ui/lib/components/gallery/carousel-config.ts","ng://@decora/browser-lib-ui/lib/components/gallery/dec-gallery.component.ts","ng://@decora/browser-lib-ui/lib/directives/image/image.directive.constants.ts","ng://@decora/browser-lib-ui/lib/directives/image/image.directive.ts","ng://@decora/browser-lib-ui/lib/directives/image/image.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-zoom/dec-image-zoom.component.ts","null","ng://@decora/browser-lib-ui/lib/components/upload/upload.component.ts","ng://@decora/browser-lib-ui/lib/components/upload/upload.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-zoom/dec-image-zoom.module.ts","ng://@decora/browser-lib-ui/lib/components/gallery/dec-gallery.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-area/dec-zoom-area.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-markdowns-comment/dec-markdowns-comment.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-markdowns-comment/dec-markdowns-comment.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-marks/models/marker.model.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-marks/models/comment.model.ts","ng://@decora/browser-lib-ui/lib/components/dec-render-comment/dec-render-comment.service.ts","ng://@decora/browser-lib-ui/lib/components/dec-render-comment/dec-render-comment.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-marks/dec-marks.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-render-comment/dec-render-comment.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-marks/dec-marks.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-icon/dec-icon.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-icon/dec-icon.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-area/dec-zoom-area.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-marks/dec-zoom-marks.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-marks/dec-zoom-marks.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-marks-gallery/dec-zoom-marks-gallery.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-markdowns-zoom-area/dec-markdowns-zoom-area.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-markdowns-zoom-area/dec-markdowns-zoom-area.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-zoom-marks-gallery/dec-zoom-marks-gallery.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-grid/dec-grid-row/dec-grid-row.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-grid/dec-grid.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-grid/dec-grid.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-label/dec-label.component.ts","ng://@decora/browser-lib-ui/lib/directives/color/contrast-font-with-bg/dec-contrast-font-with-bg.directive.ts","ng://@decora/browser-lib-ui/lib/directives/color/contrast-font-with-bg/dec-contrast-font-with-bg.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-label/dec-label.module.ts","ng://@decora/browser-lib-ui/lib/services/color/dec-colors.map.ts","ng://@decora/browser-lib-ui/lib/services/color/dec-color.service.ts","ng://@decora/browser-lib-ui/lib/components/dec-label-status/dec-label-status.component.ts","ng://@decora/browser-lib-ui/lib/services/color/dec-color-service.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-label-status/dec-label-status.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list.models.ts","ng://@decora/browser-lib-ui/lib/components/list/list-filter/list-tabs-filter/list-tabs-filter.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-advanced-filter/list-advanced-filter.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-filter/list-filter.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-active-filter-resume/list-active-filter-resume.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-active-filter-resume/list-active-filter-resume.module.ts","ng://@decora/browser-lib-ui/lib/directives/permission/dec-permission.directive.ts","ng://@decora/browser-lib-ui/lib/directives/permission/dec-permission.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-filter/list-filter.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-grid/list-grid.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-table-column/list-table-column.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-table/list-table.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-table/list-table.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-footer/list-footer.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-advanced-filter/list-advanced-filter.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-spinner/dec-spinner.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-spinner/dec-spinner.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-actions/list-actions.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-actions/list-actions.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list.module.ts","ng://@decora/browser-lib-ui/lib/components/page-forbiden/page-forbiden.component.ts","ng://@decora/browser-lib-ui/lib/components/page-forbiden/page-forbiden.module.ts","ng://@decora/browser-lib-ui/lib/components/page-not-found/page-not-found.component.ts","ng://@decora/browser-lib-ui/lib/components/page-not-found/page-not-found.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-product-measures-comparison/dec-product-measures-comparison.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-product-measures-comparison/dec-product-measures-comparison.module.ts","ng://@decora/browser-lib-ui/lib/components/product-spin/product-spin.component.ts","ng://@decora/browser-lib-ui/lib/components/product-spin/product-spin.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-job-round/dec-job-round.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-job-round/dec-job-round-item/dec-job-round-item.component.ts","ng://@decora/browser-lib-ui/lib/pipes/time-ago/time-ago.pipe.ts","ng://@decora/browser-lib-ui/lib/pipes/time-ago/time-ago.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-countdown/dec-countdown.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-countdown/dec-countdown.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-job-round/dec-job-round-item/dec-job-round-item.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-job-round/dec-job-round.module.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-toolbar-title/dec-sidenav-toolbar-title.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-toolbar/dec-sidenav-toolbar.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-item/dec-sidenav-menu-item.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-title/dec-sidenav-menu-title.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/sidenav.service.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-left/dec-sidenav-menu-left.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-right/dec-sidenav-menu-right.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/sidenav.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-content/dec-sidenav-content.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu/dec-sidenav-menu.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/sidenav.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-sketchfab/dec-sketchfab.service.ts","ng://@decora/browser-lib-ui/lib/components/dec-sketchfab/dec-sketchfab.component.ts","ng://@decora/browser-lib-ui/lib/services/script-loader/dec-script-loader.service.ts","ng://@decora/browser-lib-ui/lib/services/script-loader/dec-script-loader.module.ts","ng://@decora/browser-lib-ui/lib/components/sketchfab-view/dec-sketchfab-view.component.ts","ng://@decora/browser-lib-ui/lib/components/sketchfab-view/dec-sketchfab-view.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-sketchfab/dec-sketchfab.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-steps-list/dec-steps-list.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-steps-list/dec-steps-list.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-string-array-input/dec-string-array-input.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-string-array-input/dec-string-array-input.module.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tab/tab.component.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tab-menu/tab-menu.component.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tabs.component.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tab/tab.module.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tabs.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-marks/dec-image-marks.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-marks/dec-image-marks.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-marker/dec-comment-dialog/dec-comment-dialog.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-marker/dec-image-marker.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-marker/dec-comment-dialog/dec-comment-dialog.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-image-marker/dec-image-marker.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-gallery-marks/dec-gallery-marks.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-gallery-marks/dec-gallery-marks.module.ts","ng://@decora/browser-lib-ui/lib/services/color-picker/color-picker.service.ts","ng://@decora/browser-lib-ui/lib/components/dec-color-picker/dec-color-picker-modal/dec-color-picker-modal.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-color-picker/dec-color-picker.component.ts","ng://@decora/browser-lib-ui/lib/services/color-picker/color-picker.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-color-picker/dec-color-picker.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-avatar/dec-avatar.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-avatar/dec-avatar.module.ts","ng://@decora/browser-lib-ui/lib/guard/auth-guard.service.ts","ng://@decora/browser-lib-ui/lib/guard/guard.module.ts","ng://@decora/browser-lib-ui/lib/pipes/category/category-pipe.service.ts","ng://@decora/browser-lib-ui/lib/pipes/category/category.pipe.ts","ng://@decora/browser-lib-ui/lib/pipes/category/category-pipe.module.ts","ng://@decora/browser-lib-ui/lib/services/api/decora-api.module.ts","ng://@decora/browser-lib-ui/lib/services/api/decora-api.model.ts","ng://@decora/browser-lib-ui/lib/services/configuration/configuration-service.module.ts","ng://@decora/browser-lib-ui/lib/services/dialog/dec-dialog.component.ts","ng://@decora/browser-lib-ui/lib/services/dialog/dec-dialog.models.ts","ng://@decora/browser-lib-ui/lib/services/dialog/dec-dialog.service.ts","ng://@decora/browser-lib-ui/lib/services/dialog/dec-dialog.module.ts","ng://@decora/browser-lib-ui/lib/services/confirm-dialog/dec-confirm-dialog.component.ts","ng://@decora/browser-lib-ui/lib/services/confirm-dialog/dec-confirm-dialog.models.ts","ng://@decora/browser-lib-ui/lib/services/confirm-dialog/dec-confirm-dialog.service.ts","ng://@decora/browser-lib-ui/lib/services/confirm-dialog/dec-confirm-dialog.module.ts","ng://@decora/browser-lib-ui/lib/services/snack-bar/dec-snack-bar.service.ts","ng://@decora/browser-lib-ui/lib/services/snack-bar/dec-snack-bar.module.ts","ng://@decora/browser-lib-ui/lib/services/permission-guard/dec-permission-guard.service.ts","ng://@decora/browser-lib-ui/lib/services/permission-guard/dec-permission-guard.module.ts","ng://@decora/browser-lib-ui/lib/services/loader/dec-loader.service.ts","ng://@decora/browser-lib-ui/lib/services/loader/dec-loader.module.ts","ng://@decora/browser-lib-ui/lib/services/ws-client/ws-client.service.ts","ng://@decora/browser-lib-ui/lib/services/ws-client/ws-client.module.ts","ng://@decora/browser-lib-ui/lib/services/initializer/dec-app-initializer.ts"],"names":["DecConfigurationService","http","serviceConfiguration","this","Object","defineProperty","prototype","_config","v","loadConfig","_this","path","basePath","call","get","toPromise","then","res","console","log","profile","isValidProfile","config","err","error","availableProfiles","keys","indexOf","Injectable","HttpClient","Optional","type","Inject","args","DecApiService","decConfig","BehaviorSubject","undefined","loginData","endpoint","getResourceUrl","options","headers","newHeaderWithSessionToken","body","HttpParams","set","email","password","postMethod","pipe","tap","extratSessionToken","user$","next","throwError","status","notified","message","facebookToken","keepLogged","toString","redirectToLoginPage","sessionToken","goToLoginPage","search","endopintUrl","params","transformDecFilterInParams","getMethod","deleteMethod","payload","patchMethod","putMethod","id","put","post","bodyMessage","bodyError","statusText","authHost","msg","uuid","Math","random","slice","Date","now","loadingMap","emitLoading","hasLoading","length","loadingMessage","loadingStream$","subscribeToUser","subscribeToLoading","ngOnDestroy","unsubscribeToUser","api","upload","files","formData","createFilesFormData","HttpHeaders","requestMethod","handShake","tryToLoadSignedInUser","useMockApi","mockApiHost","replace","url","startLoading","withCredentials","callObservable","finalize","stopLoading","catchError","handleError","shareObservable","patch","delete","req","HttpRequest","request","filter","serializedFilter","page","limit","filterGroups","filterWithValueAsArray","getFilterWithValuesAsArray","filterObjectToQueryString","projectView","sort","textSearch","obj","JSON","stringify","filterGroupCopy","parse","map","filterGroup","filters","Array","isArray","value","FormData","forEach","file","index","formItemName","append","name","window","location","href","split","authUrlWithRedirect","getParamsDivider","fetchCurrentLoggedUser","account","session","userSubscripion","subscribe","user","unsubscribe","loading$","debounceTime","share","noop","AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","DecAutocompleteComponent","multi","service","FormControl","ENTER","COMMA","EventEmitter","item","label","labelFn","labelAttr","ensureString","selectableOptions","repeat","option","optionValue_1","extractValue","optionsSelected","find","selected","selectedValue","compareAsString","valueFn","valueAttr","innerValue","setInnerValue","onChangeCallback","_disabled","autocompleteInput","disable","enable","_options","innerOptions","ngAfterViewInit","detectRequiredData","subscribeToInputValueChanges","subscribeToSearchAndSetOptionsObservable","unsubscribeFromInputValueChanges","unsubscribeFromSearchAndSetOptionsObservable","registerOnChange","fn","registerOnTouched","onTouchedCallback","onValueChanged","event","writeValue","writtenValue","populateAutocompleteWithInitialValues","onOptionSelected","$event","shouldEmit","selectedOption","selectedOptionValue","addOptionToOptionsSelected","setInputValue","optionSelected","emit","blurInput","onEnterButton","enterButton","setFocus","termInput","nativeElement","focus","openPanel","autocompleteTrigger","closePanel","onBlur","blur","clear","reopen","resetInputControl","setTimeout","reset","remove","splice","updateValueWithOptionsSelected","showClearButton","thereIsValueSet","detectIfHasValue","disabled","required","showResetButton","valueAsString","writtenValueAsString","variable","setValue","searchBasedFetchingType","rememberResponse","searchInLocalOptions","customFetchFunction","dataInMemory","responses","of","term","termString","filteredData","lowerCaseLabel","extractLabel","toLowerCase","lowerCaseTerm","raiseError","Error","push","reloadOptions","optionValue","loadRemoteObjectByWrittenValue","Promise","resolve","reject","markAsPristine","markAsUntouched","v1","v2","isNaN","setInputValueBasedOnInnerValue","getOptionBasedOnValue","itemValue","searchInputSubscription","valueChanges","distinctUntilChanged","searchText","search$","options$","switchMap","searchTerm","Component","selector","template","styles","providers","ViewChild","MatAutocompleteTrigger","Input","Output","DecAutocompleteModule","NgModule","imports","CommonModule","MatAutocompleteModule","MatChipsModule","MatInputModule","MatButtonModule","MatIconModule","FormsModule","ReactiveFormsModule","declarations","exports","AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR","DecAutocompleteAccountComponent","decoraApi","_types","initialized","setEndpointBasedOnInputs","onAutocompleteBlur","key","types","encodeURI","join","DecAutocompleteAccountModule","AUTOCOMPLETE_COMPANY_CONTROL_VALUE_ACCESSOR","DecAutocompleteCompanyComponent","company","DecAutocompleteCompanyModule","AutocompleteComplexityComponent","_type","complexity","AutocompleteComplexityModule","AUTOCOMPLETE_COUNTRY_CONTROL_VALUE_ACCESSOR","DecAutocompleteCountryComponent","code","countries$","FAKE_DATA","DecAutocompleteCountryModule","BASE_ENDPOINT","AUTOCOMPLETE_DEPARTMENT_CONTROL_VALUE_ACCESSOR","DecAutocompleteDepartmentComponent","_companyId","setEndpointBasedInputs","companyId","DecAutocompleteDepartmentModule","DecAutocompleteRoleComponent","DecAutocompleteRoleModule","AutocompleteSquadsComponent","squads","AutocompleteSquadsModule","AUTOCOMPLETE_PRODUCT_CONTROL_VALUE_ACCESSOR","DecAutocompleteProductComponent","_modelApproved","indentifyParams","param","paramName","paramValue","modelApproved","DecAutocompleteProductModule","BASE_AUTOCOMPLETE_PROJECT_ENDPOINT","AUTOCOMPLETE_PROJECT_CONTROL_VALUE_ACCESSOR","DecAutocompleteProjectComponent","DecAutocompleteProjectModule","AUTOCOMPLETE_QUOTE_CONTROL_VALUE_ACCESSOR","DecAutocompleteQuoteComponent","_projectId","_decoraProduct","viewInitialized","_decoraProductVariant","projectId","decoraProduct","decoraProductVariant","DecAutocompleteQuoteModule","AUTOCOMPLETE_TAGS_CONTROL_VALUE_ACCESSOR","DecAutocompleteTagsComponent","_endpoint","tags","DecAutocompleteTagsModule","DecBreadcrumbComponent","router","translator","ngOnInit","translateFeature","translatePaths","detectAndParseButtonsConfig","parseBackButton","parseForwardButton","backButtonPath","forwardButton","i18nBreadcrumb","breadcrumb","instant","i18nFeature","feature","goBack","navigate","history","back","goForward","forward","Router","TranslateService","DecBreadcrumbModule","FlexLayoutModule","RouterModule","TranslateModule","DecCarouselItemComponent","TemplateRef","DecCarouselComponent","_selectedIndex","items","mountAndEmitSelected","_items","mountSelectedItem","detectVisibleItems","itemsPerPage","initialIndex","totalItems","itemsArray","toArray","finalIndex","itemsObjects","component","visibleItems","goPrev","goNext","selectItem","selectedIndex","emitSelectedItem","selectedItem","itemSelected","ContentChildren","DecCarouselModule","DATE_PICKER_CONTROL_VALUE_ACCESSOR","DecDatePickerComponent","innerDateValue","mode","getTime","detectModeBasedOnInputType","onInputBlur","isTimestamp","test","DecDatePickerModule","MatDatepickerModule","MatNativeDateModule","DecEventsListEventComponent","DecEventsListComponent","DecEventsListModule","CarouselConfig","grid","xs","sm","md","lg","all","slide","speed","interval","point","visible","custom","CarouselZoomConfig","DecGalleryComponent","sysFile","i","activeImage","target","className","imageHighlight","setExternalLink","imgExternalLink","fileUrl","_images","onInitDataFn","setPrevNextCheckers","isFirst","images","onMoveFn","isLast","first","last","uploadedFunction","uploaded","ErrorImage","DecImageDirective","viewContainerRef","innerImage","loadImage","detectContainerElement","setElementWidth","containerElement","element","containerElementType","tagName","finalImageUrl","imagePath","extractImageUrlFromSysfile","getFinalUrl","tryToLoadImage","thumborize","getThumborUrl","getS3Url","S3Host","ThumborServerHost","getImageSize","decImageSize","getAspect","getTrim","containerWidth","offsetWidth","width","height","fitIn","trim","downloadingImage","Image","setAttribute","onload","imageData","convertImageToDataURI","createImage","onerror","src","setImageelementSrc","appendImageToBg","style","backgroundImage","classList","backgroundSize","backgroundPosition","backgroundRepeat","img","canvas","document","createElement","getContext","drawImage","toDataURL","Directive","ViewContainerRef","DecImageModule","DecImageZoomComponent","el","getNativeElement","divImage","lastMouseX","lastMouseY","mousedown","getPos","e","r","getBoundingClientRect","clientX","left","clientY","top","onmousedown","isZoom","coords","x","y","deltaX","offsetX","deltaY","offsetY","onmousemove","imageSize","onmouseup","_image","loadHighLightImage","_size","initZoom","zoomIn","steps","getStepsDiff","finalZoom","stepsDiff","offsetHeight","zoomOut","imageSizeRaw","parentElement","add","downloadImage","crossOrigin","getImageUrl","image","fileBasePath","__assign","assign","t","s","n","arguments","p","hasOwnProperty","apply","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","result","done","__generator","f","g","_","sent","trys","ops","verb","throw","return","Symbol","iterator","op","TypeError","pop","__read","o","m","ar","__spread","concat","DEC_UPLOAD_CONTROL_VALUE_ACCESSOR","DecUploadComponent","filesChanged","uploadFile","openFileSelection","inputFile","click","getProgressbarMode","progress","getProgressValueBasedOnMode","progress_1","fileIndex","fileName","progresses","detectUploadEnd","HttpEventType","UploadProgress","percentDone","round","loaded","total","parseFloat","toFixed","HttpResponse","emitUploadedFiles","clearInputFile","clearProgresses","uploadProgress","DecUploadModule","MatProgressBarModule","DecImageZoomModule","DecGalleryModule","NguCarouselModule","DecZoomAreaComponent","_reference","_render","renderMarkdons","onSave","saveObj","coordinates","parentId","descripition","renderShot","renderZoom","marker","referenceShot","referenceZoom","save","onLinkTag","referenceQaMode","commentIndex","onReferenceQa","onCancel","cancel","DecMarkdownsCommentComponent","_renders","_parentId","getClass","comment","cssClass","requestByClient","DecMarkdownsCommentModule","Marker","comments","zoomAreas","Comment","data","version","description","DecRenderCommentService","decApi","getRenderfeedbacktree","queryParams","language","formatI18n","i18n","RENDERFEEDBACKTREE_ENDPOINT","getRenderDescriptionsByCode","groupedComments","reduce","a","k","resp","_a","feedbackTree","getDescription","temp","char","sub","DecRenderCommentComponent","decRenderCommentService","dialogRef","commentEdit","_version","listOptions","filloptions","listOptionsDisplay","selectChoice","charAt","backspaceChoice","selectedChoicesDisplay","stepsChoice","keydownChoice","preventDefault","keyCode","BACKSPACE","toLocaleUpperCase","selectedChoice","descriptionLastLevel","confirm","close","renderFeedbackTree","MatDialogRef","MAT_DIALOG_DATA","DecMarksComponent","renderer","dialog","span","innerHTML","commentDiv","maxWidth","canvasEl","appendChild","marksWrapperEl","_qaMode","setWrapperCursor","onResize","setCanvasSize","setWrapperSize","setupCanvas","ngAfterViewChecked","contentDone","setupMarksWrapper","setupMouseEvents","ctx","imageElement","clearRect","translate","zoomPosition","scale","zoomScale","restore","drawMarks","marksWrapper","addInCommentsArray","mouseup","fromEvent","qaMode","x_1","startX","y_1","startY","x2_1","y2_1","index_1","mouseMoved","enablePointEvents","querySelectorAll","setMouseMoved","noComments","formatTagId","createSquareTag","clearSquare","referenceQa","open","afterClosed","contains","createPointTag","mouseleave","takeUntil","disablePointEvents","square","configureNoComments","abs","comentIndex","size","cursor","moved","elements","from","pointerEvents","tag","link","comment_1","c","addEventListener","linkTag","clickEventPointTag","addCommentNode","removeCommentNode","x2","y2","getElementById","commentNode","getElementsByClassName","removeChild","cleanMarks","pointElements","squareElements","zoomAreaElements","parentNode","deleteMark","borderStyle","Renderer2","MatDialog","HostListener","DecRenderCommentModule","MatDialogModule","entryComponents","DecMarksModule","DecIconComponent","icon","textElement","textContent","DecIconModule","matIconRegistry","registerFontClassAlias","MatIconRegistry","DecZoomAreaModule","DecZoomMarksComponent","position","newZoomArea","editZoomArea","commentsArraySize","_marker","zoom","setupLoadingContainer","loadingContainerEl","display","setZoomPosition","loadingContainer","wheelEvent","mousedownEvent","mouseleaveEvent","mouseupEvent","movementX","movementY","resizeMarker","zoomArea","createZoomAreaTag","diffX","diffY","zoomXPosition","zoomYPosition","aux","z","clickEventZoomTag","openZoomArea","amount","parseInt","maxZoomLevel","minZoomLevel","onZoomSlide","za","DecZoomMarksModule","MatSliderModule","DecZoomMarksGalleryComponent","markedObj","markedObjs","imageIndex","_markedObjs","_showTags","getFormatedPositionAndScale","zoomMarks","addNewZoomArea","onOpenZoomArea","getImageIndex","DecMarkdownsZoomAreaComponent","DecMarkdownsZoomAreaModule","DecZoomMarksGalleryModule","DecGridColumnComponent","DecGridRowComponent","DecGridComponent","DecGridModule","DecLabelComponent","hexToRgbNew","hex","exec","b","standardize_color","bgColor","fillStyle","DecContrastFontWithBgDirective","backgroundColor","doDecContrastFontWithBg","ngDoCheck","lumaBreakPoint","rgbColor","luma","color","lightColor","darkColor","ElementRef","DecContrastFontWithBgModule","DecLabelModule","ACTIVE","APPROVED","COMMITED","DEFAULT","DELETED","DELIVERED","DELIVERING","DELIVERY_REJECTED","FIX_OPEN","FIX_REOPEN","INITIAL","JOB_CREATED","JOB_AVAILABLE","JOB_IN_DEVELOPMENT","JOB_IN_QA","JOB_DENIED","PENDING_RENDER","PENDING_WORK","RENDER_SUCCESS","RENDER_ERROR","WAITING_SKU_FIX","WAITING_MODEL","WORKING_ON_IT","IN_DEVELOPMENT","IN_QA","IN_FIX","DENIED","DEVELOPMENT","INACTIVE","DecColorService","getStatusColor","DEC_COLOR_BY_STATUS","rgbToHex","padStart","hexToRgb","formated","rgb","substring","match","rgbArrayToLinearArray","rgbArray","subcolor","rgbToLinear","proportion","pow","DecLabelStatusComponent","decColorService","DecColorServiceModule","DecLabelStatusModule","DecListFilter","children","count","default","hide","listMode","permissions","uid","DecListTabsFilterComponent","route","watchTabInUrlQuery","tab","recount","selectedTabUid","event_1","_filters","stopWatchingTabInUrlQuery","getCountOf","countReport","selectTab","setTabInUrlQuery","detectDefaultTab","hasDefault","defaultTab","componentTabName","snapshot","relativeTo","replaceUrl","wathUrlSubscription","selectedTab","onSearch","tabChange","ActivatedRoute","DecListAdvancedFilterComponent","_opened","clearEmptyKeys","form","onClear","submit","ContentChild","DEFAULT_FILTER","DecListFilterComponent","appendCurrentForm","filterForm","newDecFilterGroup_1","property","innerDecFilterGroups","editionGroupIndex","reacalculateAndEmitCurrentDecFilterGroups","insideWrapper","clickableContainerClass","insideOption","insideDatePicker","insideOverlayContainer","closeFilters","clearFilterForm","_showAdvancedFilter","setAdvancedFilterState","_loadCountReport","watchTabsFilter","watchClick","watchUrlFilter","configureAdvancedFilter","stopWatchingClick","stopWatchingTabsFilter","stopWatchingUrlFilter","toggleSearchInput","showSearchInput","inputSearch","showAdvancedFilter","toggleAdvancedFilter","stopPropagation","filterGroupsWithoutTabs","removeDecFilterGroup","groupIndex","group","editDecFilterGroup","toEditDecFilterGroup","reloadFormWithGivenDecFilterGroupe","onClickInfo","appendToCurrentDecFilterGroups","propertyName","propertyValue","filterGroupFilter","emitCurrentDecFilterGroups","hasPersistence","refreshFilterInUrlQuery","openFilters","advancedFilterComponent","state","opened","tabsFilterComponent","tabsFilterSubscription","filterEvent","filterMode","childrenFilters","tabsFilter","isItFirstLoad","mountCurrentDecFilterGroups","currentFilter","currentFilterWithoutTabs","filterGroupCopyWithoutTabs","rej","preSearch","actByClickPosition","removeEventListener","componentFilterName","watchUrlFilterSubscription","setInterval","base64Filter","currentUrlEncodedFilter","getJsonFromBase64Filter","clearInterval","filterBase64","getBase64FilterFromDecFilterGroups","setFilterInUrlQuery","btoa","encodeURIComponent","filterObject","base64PadLen","decodeURIComponent","atob","DecListActiveFilterResumeComponent","edit","getValuetype","DecListActiveFilterResumeModule","DecPermissionDirective","templateRef","viewContainer","hasPermission","createEmbeddedView","hasView","isAllowedAccess","rolesAllowed","currentRoles","userRole","alowedRole","DecPermissionModule","DecListFilterModule","MatCardModule","DecListGridComponent","_rows","onItemClick","list","rowClick","DecListTableColumnComponent","_colSpan","number","DecListTableComponent","onSort","sortConfig","sorts","prop","order","dir","toUpperCase","columnsSortConfig","onSelect","_b","row","rows","$$index","DatatableComponent","DELETE_COMPARE_FUNCTION","_item","DecListComponent","Subject","table","insideOverlay","insideFullscreanDialogContainer","isLastPage","scrollHeight","clientHeight","scrollTop","showMore","loading","scrollEventEmiter","_loading","_name","setFiltersComponentsBasePathAndNames","report","_givenRows","setRows","_filter","watchFilterData","ensureUniqueName","detectListModeBasedOnGridAndTablePresence","watchFilter","doFirstLoad","detectListMode","watchTabsChange","watchTableSort","registerChildWatchers","shareSelectedRowsArray","watchScroll","watchScrollEventEmitter","unsubscribeToReactiveReport","stopWatchingScroll","stopWatchingFilter","stopWatchingTabsChange","stopWatchingTableSort","stopWatchingScrollEventEmitter","reloadCountReport","loadCountReport","payloadWithSearchableProperties","getCountableFilters","mountCountReport","removeItem","ids","compareFn","itemIndex","selectedItemIndex","restart","loadReport","resetSelected","searchCollapsable","selectedCollapsable","loadByOpennedCollapse","tableAndGridAreSet","toggleListMode","tableComponent","recalculate","getCollapsableCount","filtersCounters","filtersPlusSearch","decFilter","decFilterFiltersPlusSearch","tabFiltersCopy_1","ensureFilterValuesAsArray","decListFilter","appendFilterGroupsBasedOnSearchableProperties","getListMode","isTabsFilterDefined","doFirstLoadByTabsFilter","doFirstLoadLocally","refresh","filterUid","collapsableFilters","clearAndReloadReport","collapseFilterGroups","mountPayload","filterData","cbk","customFetchMethod","searchFilterGroups","appendFilterGroupsToEachFilterGroup","filterGroupToAppend","detectLastPage","updateContentChildren","scrollEventEmiterSubscription","actByScrollPosition","reactiveReport","observable","fetchMethod","getPayloadWithSearchTransformedIntoSearchableProperties","subscribeToReactiveReport","payloadCopy","searchableProperties","filterGroupsThatContainsBasicSearch","getFilterGroupsThatContainsTheBasicSearch","filterGroupThatContainsBasicSearch","removeFilterGroup","basicSearch","basicSearchIndex","newFilterGroup","filterGroupThatContainsBasicSearchIndex","reactiveReportSubscription","postSearch","numberOfrows","emptList","singlePageList","watchGridRowClick","watchTableRowClick","filterSubscription","tabChanged","previousSelectedTab","filterModeChanged","scrollableContainer","scrollableContainerClass","emitScrollEvent","tabsChangeSubscription","tableSortSubscription","DecListTableModule","NgxDatatableModule","DecListFooterComponent","DecListAdvancedFilterModule","DecSpinnerComponent","DecSpinnerModule","DecListActionsComponent","DecListActionsModule","DecListModule","MatExpansionModule","MatSnackBarModule","DecPageForbidenComponent","events","NavigationEnd","previousUrl","referrer","DecPageForbidenModule","DecPageNotFoundComponent","DecPageNotFoundModule","DecProductMeasuresComparisonComponent","_measures","formatMasures","measures","formatedMeasures","product","printMeasure","referenceCubeX","model","modelCubeX","productIn","printMeasureInches","modelIn","depth","referenceCubeY","modelCubeY","referenceCubeZ","modelCubeZ","measure","DecProductMeasuresComparisonModule","FALLBACK_IMAGE","LOADING_IMAGE","DecProductSpinComponent","totalImagesLoaded","scenesLen","placeholderScene","scenes","loadingImages","frameShown","looping","started","_spin","spin","loadScenes","resetScenesData","onDragStart","onMousedown","mouseDown","lastMouseEvent","onMousemove","calculatePosition","positionDiff","goRight","goLeft","listenGlobal","onOpen","resetStartPositionBasedOnCompany","startInCenter","getUrlsFromSysFiles","shots","clientWidth","sysFiles","renderFile","Renderer","DecProductSpinModule","MatTooltipModule","DecJobRoundComponent","_job","rounds","DecJobRoundItemComponent","_round","toggleNegative","negativeQA","momentConstructor","((moment)).default","moment","TimeAgoPipe","cdRef","ngZone","transform","omitSuffix","hasChanged","lastTime","lastValue","lastOmitSuffix","removeTimer","createTimer","lastText","currentTimer","momentInstance","timeToUpdate","getSecondsUntilUpdate","runOutsideAngular","run","markForCheck","clearTimeout","howOld","diff","moment.isDate","moment.isMoment","valueOf","Pipe","ChangeDetectorRef","NgZone","TimeAgoModule","DecCountdownComponent","countdown","timer","val","manipulateInterval","countdownCompleted","completed","hours","floor","minutes","seconds","finished","DecCountdownModule","DecJobRoundItemModule","DecJobRoundModule","DecSidenavToolbarTitleComponent","DecSidenavToolbarComponent","environment","ribbon","notProduction","DecSidenavMenuItemComponent","subitems","_subitems","toggleSubmenu","showSubmenu","toggle","closeSubmenu","openLink","routerLink","isNaked","startsWith","isHttp","isHttps","getBackground","treeLevel","checkIfActive","isActive","hasActiveChild","pathname","descendants","DecSidenavMenuTitleComponent","STORAGE_DOMAIN","DecSidenavService","setSidenavVisibility","visibility","getSidenavConfig","setSidenavConfig","getSidenavVisibility","showProgressBar","progressBarVisible","hideProgressbar","toggleProgressBar","nextValue","conf","confString","localStorage","setItem","getItem","newConfig","DecSidenavMenuLeftComponent","decSidenavService","subscribeAndExposeSidenavEvents","leftMenuVisible","leftMenuMode","openedChange","modeChange","closeBrothers","itemSubscriptions","subscription","DecSidenavMenuRightComponent","rightMenuVisible","rightMenuMode","DecSidenavComponent","_leftMenu","setInitialLeftMenuVisibilityModes","_rightMenu","setInitialRightMenuVisibilityModes","detectAndShowChildComponents","subscribeToToolbarEvents","setToolbarLoadingState","openBothMenus","openLeftMenu","openRightMenu","leftMenu","rightMenu","closeBothMenus","closeLeftMenu","closeRightMenu","toggleBothMenus","toggleLeftMenu","toggleRightMenu","setBothMenusMode","setLeftMenuMode","setRightMenuMode","hideProgressBar","leftSidenavOpenedChange","openedStatus","rightSidenavOpenedChange","toolbar","leftMenuTriggerVisible","rightMenuTriggerVisible","leftSidenav","rightSidenav","DecSidenavContentComponent","DecSidenavMenuComponent","DecSidenavModule","MatSidenavModule","MatListModule","MatToolbarModule","HttpClientModule","DecSketchfabService","pachConfigs","configs","Content-Type","getAllTextures","DecSketchfabComponent","decSketchfabService","_assetMax","environmentConfig","fbxFiles","fbxAllGroupsFile","sketchfabId","getMaterials","renderMaterialConfigs","background","backgroundExposure","exposure","rotation","shadowEnable","lightIntensity","shadowBias","lighting","lights","intensity","ground","intensityGround","matrix","falloff","attachedToCamera","angle","hardness","castShadows","orientation","textureResp","textures","results","materialSelected","update","material","selectMaterialByName","materialName","materialConfig","materials","updateMaterial","channels","MetalnessPBR","factor","metalness","AlbedoPBR","diffuse","RoughnessPBR","roughness","NormalMap","checked","normal","Opacity","opacity","sendMaterialToUpdate","ableTo","metalnessEnabled","setTexture","diffuseEnabled","roughnessEnabled","opacityEnabled","texture","getTexture","getMaterialsSketchfab","getAllMaterials","mat","assetMax","DecScriptLoaderService","load","scriptName","script","scriptTag","getElementsByTagName","loadStyle","loadStyleAndScript","styleUrl","scriptUrl","scriptNamespace","providedIn","DecScriptLoaderModule","HIGHLIGHT_COLOR","DecSketchfabViewComponent","decScriptLoaderService","_sketchfabId","startSketchfab","_materialName","updateMaterials","_editMode","addClickEvent","_getAllMaterials","sendAllMaterials","Sketchfab","iframe","apiFrame","client","init","success","start","editMode","setMaterial","resColor","getMaterialList","materialList","highlightOnSelection","highlightMaterial","selectEffect","shadeless","sendMaterials","setMaterialColor","Albedo","setChannelColor","response","setMaterialRoughness","setMaterialMetalness","setMaterialAlbedoPBRTexture","channel","unhigHlightCurrentMaterial","linearHitghlightColor","highlightedMaterial","materialColor","materialCopy","materialUnselected","DecSketchfabViewModule","MatCheckboxModule","DecSketchfabModule","MatSelectModule","DecStepsListComponent","DecStepsListModule","CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR","DecStringArrayInputComponent","innerArray","getArrayAsString","stringToArray","arrayToString","stringOfArray","arrayOfstring","DecStringArrayInputModule","DecTabComponent","ensureTabName","DecTabMenuComponent","DecTabsComponent","names","tabs","tabName","activeTab","activatedTabs","_activeTabObject","_activeTabIndex","activeTabChange","_activeTab","persistTab","ensureUniqueTabNames","persist","currentTab","startSelectedTab","shouldTabBeDisplayed","isSelected","isActivated","destroyOnBlur","onChangeTab","activeTabObject","parseTotal","hidden","queryParamsSubscription","DecTabModule","MatTabsModule","DecTabsModule","DecImageMarksComponent","mark","render","encapsulation","ViewEncapsulation","None","DecImageMarksModule","DecCommentDialogComponent","title","editing","pressEnter","stopImmediatePropagation","DecImageMarkerComponent","translateService","_qaModeActive","existsEvents","addListeners","decMarks","imgRef","removeTag","removeComment","refreshTagsNumber","idx","wrapperElement","onMouseDown","onMouseMove","onMouseUp","inQaMode","qaModeActive","mouseWasDown","inAPointTag","notInAPointTag","createNewTag","editComment","mousemove","drawSquareTag","drawPointTag","removeSquareMark","notClickingInAnyTag","mouseIsDown","ensureNoMark","squareMark","createNewSquareMark","onMouseLeave","onMouseOut","borderColor","borderWidth","onmouseleave","onmouseout","DecCommentDialogModule","MatFormFieldModule","DecImageMarkerModule","DecGalleryMarksComponent","cm","in","renderIndex","imgMarker","DecGalleryMarksModule","ColorPickerService","Observable","observer","_generateContentBloker","_generatePreviewBloker","_workaroundForSketchFabFrames","html2canvas","contentBlocker","_getCursorBase64BySize","previewHex","pageY","pageX","getImageData","totals","rgbArrays","accum","curr","innerText","_eventInitClick","border","borderRadius","padding","fontWeight","fontSize","existingSketchFabView","querySelector","sketchFab","overlaySketchFab","borderImage","boxSizing","marginBottom","complete","DecColorPickerModalComponent","colorPickerService","dragInit","red","green","blue","dragItem","dragger","move$","down$","up$","mergeMap","changeRgbValue","startColorPicker","colorContainer","COLOR_PICKER_CONTROL_VALUE_ACCESSOR","DecColorPickerComponent","colorService","modelValueReference","updateHexValueBasedOnModelValueAndFormat","hexValue","setValueBasedOnColorFormat","openColorBox","panelClass","hasBackdrop","disableClose","lastValueAsHexa","colorFormat","ColorPickerModule","DecColorPickerModule","DecAvatarComponent","_account","getInitialsName","name_1","initialsName","arrName","DecAvatarModule","DecAuthGuard","canLoad","isAuthenticated","canActivate","canActivateChild","DecGuardModule","CategoryPipeService","codes_1","getData","category","map_1","CategoryPipe","categoryPipeService","CategoryPipeModule","DecApiModule","parentModule","decorators","SkipSelf","UserAuthData","country","role","Filter","DECORA_CONFIGURATION_SERVICE_CONFIG","InjectionToken","InitDecConfigurationService","serviceConfig","DecConfigurationModule","forRoot","ngModule","useValue","useFactory","deps","DecDialogComponent","componentFactory","resolveComponentFactory","childComponentType","componentRef","childContainer","createComponent","childComponentInstance","instance","child","appendContextToInstance","context","afterOpen","factoryTheComponent","ComponentFactoryResolver","read","DecDialogOpenConfiguration","topActions","bottomActions","hideBackButton","showCancelButton","DecDialogService","childComponent","fullscreen","dialogInstance","componentInstance","DecDialogModule","MatMenuModule","DecConfirmDialogComponent","DecConfirmDialogConfig","customButtonTitle","extraButtons","DecConfirmDialogService","decDialog","actions","i18nLabel","callback","ref","DecConfirmDialogModule","DecSnackBarService","snackBarService","duration","snackClass","MatSnackBar","DecSnackBarModule","DecPermissionGuard","notAllowed","hasAccess","userPermissions","currentPermissions","DecPermissionGuardModule","DecLoaderService","addBlockerBackground","zIndex","justifyContent","alignItems","flexDirection","spinner","borderTopColor","borderLeftColor","borderBottomColor","borderRightColor","animation","removeBlockerBackground","DecLoaderModule","DecWsClientService","connect","connection","connectToWs","openConnection","WebSocket","messages","onclose","onmessage","currentMessages","getValue","unshift","DecWsClientModule","configuration"],"mappings":"4uCAwBE,SAAAA,EACUC,EAC2DC,GAD3DC,KAAAF,KAAAA,EAC2DE,KAAAD,qBAAAA,eAN3D,eAVVE,OAAAC,eAAIL,EAAAM,UAAA,SAAM,KAMV,WACE,OAAOH,KAAKI,aAPd,SAAWC,GACLL,KAAKI,UAAYC,IACnBL,KAAKI,QAAUC,oCAiBnBR,EAAAM,UAAAG,WAAA,WAAA,IAAAC,EAAAP,KAEQQ,EADWR,KAAKD,qBAAqBU,SACnB,2CAElBC,EAAOV,KAAKF,KAAKa,IAAIH,GAAMI,YAUjC,OARAF,EAAKG,KAAK,SAACC,GACTC,QAAQC,IAAI,4CAA4CT,EAAKU,QAAO,SACpEV,EAAKU,QAAUV,EAAKW,eAAeJ,EAAIG,QAASH,GAAOA,EAAIG,QAAUV,EAAKU,QAC1EV,EAAKY,OAASL,EAAIP,EAAKU,UACtB,SAAAG,GACDL,QAAQM,MAAM,mFAAoFD,KAG7FV,GAGDb,EAAAM,UAAAe,wBAAeD,EAASK,GAI9B,OAAuC,GAFpBrB,OAAOsB,KAAKD,GAEZE,QAAQP,wBA3C9BQ,EAAAA,sDANQC,EAAAA,8CAyBJC,EAAAA,UAAQ,CAAAC,KAAIC,EAAAA,OAAMC,KAAA,CAAC,iDC1BxBC,EAAA,WAqCE,SAAAA,EACUjC,EACAkC,GAFV,IAAAzB,EAAAP,KACUA,KAAAF,KAAAA,EACAE,KAAAgC,UAAAA,aAd6B,IAAIC,EAAAA,gBAA8BC,2BAQpD,uBAEI,IAAID,EAAAA,gBAAkCC,qBAqBxD,SAACC,GACN,GAAIA,EAAW,CACb,IAAMC,EAAW7B,EAAK8B,eAAe,eAC/BC,EAAU,CAAEC,QAAShC,EAAKiC,0BAA0B,sCACpDC,GAAO,IAAIC,EAAAA,YACdC,IAAI,WAAYR,EAAUS,OAC1BD,IAAI,WAAYR,EAAUU,UAC7B,OAAOtC,EAAKuC,WAAyBV,EAAUK,EAAMH,GAClDS,KACCC,EAAAA,IAAI,SAAClC,GAGH,OAFAP,EAAK0C,mBAAmBnC,GACtBP,EAAK2C,MAAMC,KAAKrC,GACXA,KAIb,OAAOsC,EAAAA,WAAW,CAAEC,OAAMA,OAAEC,UAAU,EAAMC,QAAS,uEAI1C,SAACpB,GACd,GAAIA,EAAW,CACb,IAAMC,EAAW7B,EAAK8B,eAAe,wBAC/BC,EAAU,CAAEC,QAAShC,EAAKiC,0BAA0B,sCACpDC,GAAO,IAAIC,EAAAA,YACdC,IAAI,gBAAiBR,EAAUqB,eAC/Bb,IAAI,aAAcR,EAAUsB,WAAWC,YAC1C,OAAOnD,EAAKuC,WAAyBV,EAAUK,EAAMH,GAClDS,KACCC,EAAAA,IAAI,SAAClC,GAGH,OAFAP,EAAK0C,mBAAmBnC,GACtBP,EAAK2C,MAAMC,KAAKrC,GACXA,KAIb,OAAOsC,EAAAA,WAAW,CAAEC,OAAMA,OAAEC,UAAU,EAAMC,QAAS,0EAIhD,SAACI,QAAA,IAAAA,IAAAA,GAAA,GACR,IAAMvB,EAAW7B,EAAK8B,eAAe,gBAC/BC,EAAU,CAAEC,QAAShC,EAAKiC,0BAA0B,sCAC1D,OAAOjC,EAAKuC,WAAWV,EAAU,GAAIE,GAClCS,KACCC,EAAAA,IAAI,SAAClC,GAMH,OALAP,EAAKqD,aAAe1B,UACpB3B,EAAK2C,MAAMC,KAAKrC,GACZ6C,GACFpD,EAAKsD,gBAEA/C,eAOT,SAAIsB,EAAU0B,EAAkCxB,GACpD,IAAMyB,EAAcxD,EAAK8B,eAAeD,GAEpC4B,EAASF,EAQb,OANIA,GAAUA,EAAqB,eAEjCE,EAASzD,EAAK0D,2BAA2BH,IAIpCvD,EAAK2D,UAAaH,EAAaC,EAAQ1B,mBAGvC,SAAIF,EAAUE,GACrB,IAAMyB,EAAcxD,EAAK8B,eAAeD,GACxC,OAAO7B,EAAK4D,aAAgBJ,EAAazB,eAGnC,SAAIF,EAAUgC,EAAmB9B,QAAnB,IAAA8B,IAAAA,EAAA,IACpB,IAAML,EAAcxD,EAAK8B,eAAeD,GACxC,OAAO7B,EAAK8D,YAAeN,EAAaK,EAAS9B,cAG5C,SAAIF,EAAUgC,EAAmB9B,QAAnB,IAAA8B,IAAAA,EAAA,IACnB,IAAML,EAAcxD,EAAK8B,eAAeD,GACxC,OAAO7B,EAAKuC,WAAciB,EAAaK,EAAS9B,aAG5C,SAAIF,EAAUgC,EAAmB9B,QAAnB,IAAA8B,IAAAA,EAAA,IAClB,IAAML,EAAcxD,EAAK8B,eAAeD,GACxC,OAAO7B,EAAK+D,UAAaP,EAAaK,EAAS9B,gBAGxC,SAAIF,EAAUgC,EAAmB9B,GACxC,YADqB,IAAA8B,IAAAA,EAAA,IACH,GAAdA,EAAQG,GACHhE,EAAKiE,IAAIpC,EAAUgC,EAAS9B,GAE5B/B,EAAKkE,KAAKrC,EAAUgC,EAAS9B,qBAyGlB,SAACjB,GACrB,IAAMkC,EAAUlC,EAAMkC,QAChBmB,EAAerD,GAASA,EAAMA,MAASA,EAAMA,MAAMkC,QAAU,GAC7DoB,EAAYtD,EAAMA,MAClBgC,EAAShC,EAAMgC,OACfuB,EAAavD,EAAMuD,WAEzB,OAAQvD,EAAMgC,QACZ,KAAK,IACC9C,EAAKyB,UAAUb,OAAO0D,UACxBtE,EAAKsD,gBAkBX,OAAOT,EAAAA,WAAW,CAAEC,OAAMA,EAAEuB,WAAUA,EAAErB,QAAOA,EAAEmB,YAAWA,EAAEC,UAASA,uBAOlD,SAACG,QAAA,IAAAA,IAAAA,GAAA,GAEtB,IAAMC,EAAOC,KAAKC,SAASvB,SAAS,IAAIwB,MAAM,GAAKC,KAAKC,MAMxD,OAJA7E,EAAK8E,WAAWN,GAAQD,IAAO,EAE/BvE,EAAK+E,cAEEP,oBAIa,SAACA,GAEjBxE,EAAK8E,WAAWN,WAEXxE,EAAK8E,WAAWN,GAIzBxE,EAAK+E,gCAIe,WACpB,IAAM/D,EAAOtB,OAAOsB,KAAKhB,EAAK8E,YACxBE,EAA2B,EAAdhE,EAAKiE,OAClBC,EAAiBlF,EAAK8E,WAAW9D,EAAK,IAC5ChB,EAAKmF,eAAevC,OAAKoC,GAAaE,gCAGP,WAC/B,IAAMrD,EAAW7B,EAAK8B,eAAe,gBAC/BC,EAAU,CAAEC,QAAShC,EAAKiC,6BAChC,OAAOjC,EAAK2D,UAAwB9B,EAAU,GAAIE,GAC/CS,KACCC,EAAAA,IAAI,SAAClC,GAGH,OAFAP,EAAK0C,mBAAmBnC,GACtBP,EAAK2C,MAAMC,KAAKrC,GACXA,MAlSbd,KAAK2F,kBACL3F,KAAK4F,4BAGP7D,EAAA5B,UAAA0F,YAAA,WACE7F,KAAK8F,qBAGP7F,OAAAC,eAAI6B,EAAA5B,UAAA,OAAI,KAAR,WACE,OAAOH,KAAKgC,UAAUb,OAAO4E,qCA0G/BhE,EAAA5B,UAAA6F,OAAA,SAAO5D,EAAkB6D,EAAe3D,QAAA,IAAAA,IAAAA,EAAA,IACtC,IAAMyB,EAAc/D,KAAKqC,eAAeD,GAClC8D,EAAWlG,KAAKmG,oBAAoBF,GAG1C,OAFA3D,EAAO,gBAAkB,EACzBA,EAAQC,QAAUD,EAAQC,SAAW,IAAI6D,EAAAA,YAClCpG,KAAKqG,cAAc,OAAQtC,EAAamC,EAAU5D,IAK3DP,EAAA5B,UAAAmG,UAAA,WACE,OAAOtG,KAAKuG,yBAGdxE,EAAA5B,UAAAkC,eAAA,SAAe7B,GAMb,OAJiBR,KAAKgC,UAAUb,OAAOqF,WAAaxG,KAAKgC,UAAUb,OAAOsF,YAAczG,KAAKgC,UAAUb,OAAO4E,KAI5F,KAFlBvF,EAAOA,EAAKkG,QAAQ,WAAY,MAS1B3E,EAAA5B,UAAA+D,mBAAayC,EAAa7C,EAAkBxB,mBAAlB,IAAAwB,IAAAA,EAAA,SAAkB,IAAAxB,IAAAA,EAAA,IAClD,IAAMyC,EAAO/E,KAAK4G,aAAatE,EAAQmD,gBACvCnD,EAAQ0B,OAASF,EACjBxB,EAAQuE,iBAAkB,EAC1BvE,EAAQC,QAAUvC,KAAKwC,0BAA0B,mBAAoBF,EAAQC,SAC7E,IAAMuE,EAAiB9G,KAAKF,KAAKa,IAAOgG,EAAKrE,GAC1CS,KACCgE,EAAAA,SAAS,WAAM,OAAAxG,EAAKyG,YAAYjC,KAChCkC,EAAAA,WAAWjH,KAAKkH,cAEpB,OAAOlH,KAAKmH,gBAAgBL,IAGtB/E,EAAA5B,UAAAkE,qBAAesC,EAAKlE,EAAWH,mBAAX,IAAAG,IAAAA,EAAA,SAAW,IAAAH,IAAAA,EAAA,IACrC,IAAMyC,EAAO/E,KAAK4G,aAAatE,EAAQmD,gBACvCnD,EAAQuE,iBAAkB,EAC1BvE,EAAQC,QAAUvC,KAAKwC,0BAA0B,mBAAoBF,EAAQC,SAC7E,IAAMuE,EAAiB9G,KAAKF,KAAKsH,MAAST,EAAKlE,EAAMH,GAClDS,KACCgE,EAAAA,SAAS,WAAM,OAAAxG,EAAKyG,YAAYjC,KAChCkC,EAAAA,WAAWjH,KAAKkH,cAEpB,OAAOlH,KAAKmH,gBAAgBL,IAGtB/E,EAAA5B,UAAA2C,oBAAc6D,EAAKlE,EAAOH,mBAAA,IAAAA,IAAAA,EAAA,IAChC,IAAMyC,EAAO/E,KAAK4G,aAAatE,EAAQmD,gBACvCnD,EAAQuE,iBAAkB,EAC1BvE,EAAQC,QAAUvC,KAAKwC,0BAA0B,mBAAoBF,EAAQC,SAC7E,IAAMuE,EAAiB9G,KAAKF,KAAK2E,KAAQkC,EAAKlE,EAAMH,GACjDS,KACCgE,EAAAA,SAAS,WAAM,OAAAxG,EAAKyG,YAAYjC,KAChCkC,EAAAA,WAAWjH,KAAKkH,cAEpB,OAAOlH,KAAKmH,gBAAgBL,IAGtB/E,EAAA5B,UAAAmE,mBAAaqC,EAAKlE,EAAWH,mBAAX,IAAAG,IAAAA,EAAA,SAAW,IAAAH,IAAAA,EAAA,IACnC,IAAMyC,EAAO/E,KAAK4G,aAAatE,EAAQmD,gBACvCnD,EAAQuE,iBAAkB,EAC1BvE,EAAQC,QAAUvC,KAAKwC,0BAA0B,mBAAoBF,EAAQC,SAC7E,IAAMuE,EAAiB9G,KAAKF,KAAK0E,IAAOmC,EAAKlE,EAAMH,GAChDS,KACCgE,EAAAA,SAAS,WAAM,OAAAxG,EAAKyG,YAAYjC,KAChCkC,EAAAA,WAAWjH,KAAKkH,cAEpB,OAAOlH,KAAKmH,gBAAgBL,IAGtB/E,EAAA5B,UAAAgE,sBAAgBwC,EAAarE,mBAAA,IAAAA,IAAAA,EAAA,IACnC,IAAMyC,EAAO/E,KAAK4G,aAAatE,EAAQmD,gBACvCnD,EAAQuE,iBAAkB,EAC1BvE,EAAQC,QAAUvC,KAAKwC,0BAA0B,mBAAoBF,EAAQC,SAC7E,IAAMuE,EAAiB9G,KAAKF,KAAKuH,UAAUV,EAAKrE,GAC7CS,KACCgE,EAAAA,SAAS,WAAM,OAAAxG,EAAKyG,YAAYjC,KAChCkC,EAAAA,WAAWjH,KAAKkH,cAEpB,OAAOlH,KAAKmH,gBAAgBL,IAGtB/E,EAAA5B,UAAAkG,uBAAiBzE,EAAwB+E,EAAalE,EAAgBH,mBAAhB,IAAAG,IAAAA,EAAA,SAAgB,IAAAH,IAAAA,EAAA,IAC5E,IAAMyC,EAAO/E,KAAK4G,aAAatE,EAAQmD,gBACvCnD,EAAQuE,iBAAkB,EAC1BvE,EAAQC,QAAUvC,KAAKwC,0BAA0BN,UAAWI,EAAQC,SACpE,IAAM+E,EAAM,IAAIC,EAAAA,YAAY3F,EAAM+E,EAAKlE,EAAMH,GACvCwE,EAAiB9G,KAAKF,KAAK0H,QAAWF,GACzCvE,KACCgE,EAAAA,SAAS,WAAM,OAAAxG,EAAKyG,YAAYjC,KAChCkC,EAAAA,WAAWjH,KAAKkH,cAEpB,OAAOlH,KAAKmH,gBAAgBL,IAkFtB/E,EAAA5B,UAAA8D,oCAA2BwD,GAEjC,IAAMC,EAAwC,GAE9C,GAAID,EAAQ,CAUV,GARIA,EAAOE,OACTD,EAAiBC,KAAOF,EAAOE,MAG7BF,EAAOG,QACTF,EAAiBE,MAAQH,EAAOG,OAG9BH,EAAOI,aAAc,CACvB,IAAMC,EAAyB9H,KAAK+H,2BAA2BN,EAAOI,cACtEH,EAAiBD,OAASzH,KAAKgI,0BAA0BF,GAGvDL,EAAOQ,cACTP,EAAiBO,YAAcjI,KAAKgI,0BAA0BP,EAAOQ,cAGnER,EAAOS,OACTR,EAAiBQ,KAAOlI,KAAKgI,0BAA0BP,EAAOS,OAG5DT,EAAOU,aACTT,EAAiBS,WAAaV,EAAOU,YAKzC,OAAOT,GAID3F,EAAA5B,UAAA6H,mCAA0BI,GAChC,OAAIA,EACKC,KAAKC,UAAUF,GAEfA,GAIHrG,EAAA5B,UAAA4H,oCAA2BF,GAEjC,IAAMU,EAAkBF,KAAKG,MAAMH,KAAKC,UAAUT,IAElD,OAAIU,EAEKA,EAAgBE,IAAI,SAAAC,GAYzB,OAVAA,EAAYC,QAAUD,EAAYC,QAAQF,IAAI,SAAAhB,GAM5C,OAJKmB,MAAMC,QAAQpB,EAAOqB,SACxBrB,EAAOqB,MAAQ,CAACrB,EAAOqB,QAGlBrB,IAIFiB,IAMFb,GAKH9F,EAAA5B,UAAAgG,6BAAoBF,GAC1B,IAAMC,EAAqB,IAAI6C,SAK/B,OAJA9C,EAAM+C,QAAQ,SAACC,EAAMC,GACnB,IAAMC,EAAuB,EAARD,EAAY,QAAQA,EAAU,OACnDhD,EAASkD,OAAOD,EAAcF,EAAMA,EAAKI,QAEpCnD,GAGDnE,EAAA5B,UAAA0D,yBAWN,GAVuByF,OAAOC,SAASC,KACpC9C,QAAQ,WAAY,IACpBA,QAAQ,UAAW,IACnBA,QAAQ4C,OAAOC,SAASzF,OAAQ,MAEX9D,KAAKgC,UAAUb,OAAO0D,SAAS4E,MAAM,KAAK,GAC/D/C,QAAQ,WAAY,IACpBA,QAAQ,UAAW,IACnBA,QAAQ,KAAM,IAEuB,CACtC,IAAMgD,EAAsB,GAAG1J,KAAKgC,UAAUb,OAAO0D,SAAW7E,KAAK2J,mBAAkB,eAAeL,OAAOC,SAASC,KACtHzI,QAAQC,IAAI,oEAAoE0I,GAChFJ,OAAOC,SAASC,KAAOE,IAInB3H,EAAA5B,UAAAwJ,4BACN,OAA0D,EAAnD3J,KAAKgC,UAAUb,OAAO0D,SAAS4E,MAAM,KAAKjE,OAAa,IAAM,KAG9DzD,EAAA5B,UAAAoG,iCACN,IAAM7F,EAAOV,KAAK4J,yBAAyBhJ,YAU3C,OATAF,EAAKG,KAAK,SAAAgJ,GACR9I,QAAQC,IAAI,qCAAqC6I,EAAQR,OACxD,SAAAjI,GACkB,MAAfA,EAAIiC,OACNtC,QAAQC,IAAI,gDAEZD,QAAQM,MAAM,uEAAwED,KAGnFV,GAGDqB,EAAA5B,UAAAqC,mCAA0BZ,EAAeW,GAS/C,QARAA,EAAUA,GAAW,IAAI6D,EAAAA,aACazF,IAAI,iBACZiB,IAC5BW,EAAUA,EAAQI,IAAI,eAAgBf,IAEpC5B,KAAK4D,eACPrB,EAAUA,EAAQI,IAAI,eAAgB3C,KAAK4D,eAEtCrB,GAGDR,EAAA5B,UAAA8C,4BAAmBnC,GAEzB,OADAd,KAAK4D,aAAe9C,GAAOA,EAAIgJ,QAAUhJ,EAAIgJ,QAAQvF,GAAKrC,UACnDpB,GAGDiB,EAAA5B,UAAAwF,sCACN3F,KAAK+J,gBAAkB/J,KAAKkD,MAAM8G,UAAU,SAAAC,GAC1C1J,EAAK0J,KAAOA,KAIRlI,EAAA5B,UAAA2F,6BACN9F,KAAK+J,gBAAgBG,eAIfnI,EAAA5B,UAAAyF,8BACN5F,KAAKmK,SAAWnK,KAAK0F,eAAe3C,KAAKqH,EAAAA,aAAa,OAWhDrI,EAAA5B,UAAAgH,yBAAgBzG,GACtB,OAAOA,EAAKqC,KAAKsH,EAAAA,8BA5dpB5I,EAAAA,sDAnBQC,EAAAA,kBAIA7B,OALT,GCUMyK,EAAO,aAIPC,EAA2C,CAC/CC,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAC,IAC9BC,OAAO,gBAyKP,SAAAD,EACUE,GADV,IAAAvK,EAAAP,KACUA,KAAA8K,QAAAA,yBA1GU,IAAIC,EAAAA,YAAY,4BAQL,CAACC,EAAAA,MAAOC,EAAAA,iBAyCvB,qCAWO,aASa,IAAIC,EAAAA,iCAEiB,IAAIA,EAAAA,8BAEP,IAAIA,EAAAA,+BAY5B,kBAEc,gBAE1B,IAAIjJ,EAAAA,gBAAwBC,kCAYNoI,wBAEKA,oBAuHf,SAACa,GAC7B,IAAIC,EAAQD,EASZ,OARIA,IACE5K,EAAK8K,QACPD,EAAQ7K,EAAK8K,QAAQF,GACZ5K,EAAK+K,YACdF,EAAQD,EAAK5K,EAAK+K,YAAcpJ,YAGpCkJ,EAAQ7K,EAAKgL,aAAaH,8BAgBL,SAAC9I,GAEtB,IAEIkJ,EAAoBlJ,EAwBxB,QA1BgBA,GAAUsG,MAAMC,QAAQvG,KAIxB/B,EAAKkL,SAEnBD,EAAoBlJ,EAAQmF,OAAO,SAAAiE,GACjC,GAAKnL,EAAKkL,OAaR,OAAO,EAZP,IAAME,EAAcpL,EAAKqL,aAAaF,GAUtC,QARInL,EAAKsK,SACWtK,EAAKsL,kBAAmBtL,EAAKsL,gBAAgBC,KAAK,SAAAC,GAClE,IAAMC,EAAgBzL,EAAKqL,aAAaG,GACxC,OAAOxL,EAAK0L,gBAAgBD,EAAeL,MAG3BpL,EAAK0L,gBAAgB1L,EAAKuI,MAAO6C,OAUpDH,qBAuP6B,SAACL,GACrC,IAAIrC,EAAQqC,EAQZ,OAPIA,IACE5K,EAAK2L,QACPpD,EAAQvI,EAAK2L,QAAQf,GACZ5K,EAAK4L,YACdrD,EAAQqC,EAAK5K,EAAK4L,YAAcjK,YAG7B4G,UAtgBT7I,OAAAC,eAAI0K,EAAAzK,UAAA,QAAK,KAMT,WACE,OAAOH,KAAKoM,gBAPd,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKqM,cAAchM,GACnBL,KAAKsM,iBAAiBjM,qCAgB1BJ,OAAAC,eACI0K,EAAAzK,UAAA,WAAQ,KAQZ,WACE,OAAOH,KAAKuM,eAVd,SACalM,IACXL,KAAKuM,UAAYlM,GAEfL,KAAKwM,kBAAkBC,UAEvBzM,KAAKwM,kBAAkBE,0CAa3BzM,OAAAC,eACI0K,EAAAzK,UAAA,UAAO,KAIX,WACE,OAAOH,KAAK2M,cANd,SACYtM,GACVL,KAAK2M,SAAWtM,EAChBL,KAAK4M,aAAevM,mCAuDtBuK,EAAAzK,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEA,KAAK8M,qBACJjM,KAAK,WACJN,EAAKwM,+BACLxM,EAAKyM,8CAITpC,EAAAzK,UAAA0F,YAAA,WACE7F,KAAKiN,mCACLjN,KAAKkN,gDAGPtC,EAAAzK,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAG1BxC,EAAAzK,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3BxC,EAAAzK,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBkH,EAAAzK,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK6L,gBAAkB,GACvB7L,KAAK0N,aAAe5E,EACpB9I,KAAKoM,WAAatD,EAClB9I,KAAK2N,sCAAsC7E,GAAO,KAItD8B,EAAAzK,UAAAyN,iBAAA,SAAiBC,GAEf,IAAIC,GAAa,EAEXC,EAAiBF,EAAOnC,OAAO5C,MAE/BkF,EAAsBhO,KAAK4L,aAAamC,GAE1CC,IAAwBhO,KAAK8I,QAE3B9I,KAAK6K,OAEPiD,EAAa9N,KAAKiO,2BAA2BF,GAE7C/N,KAAKkO,cAAchM,YAInBlC,KAAK8I,MAAQkF,EAIXF,GACF9N,KAAKmO,eAAeC,KAAK,CACvBtF,MAAO9I,KAAK8I,MACZ4C,OAAQqC,EACRzL,QAAStC,KAAK4M,eAIlB5M,KAAKqO,cAMTzD,EAAAzK,UAAAmO,cAAA,SAAcT,GACZ7N,KAAKuO,YAAYH,KAAKP,IAGxBjD,EAAAzK,UAAAqO,SAAA,WACExO,KAAKyO,UAAUC,cAAcC,SAG/B/D,EAAAzK,UAAAyO,UAAA,WACE5O,KAAK6O,oBAAoBD,aAG3BhE,EAAAzK,UAAA2O,WAAA,WACE9O,KAAK6O,oBAAoBC,cAG3BlE,EAAAzK,UAAA4O,OAAA,SAAOlB,GACL7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,QAGtB8B,EAAAzK,UAAA8O,MAAA,SAAMC,GAAN,IAAA3O,EAAAP,UAAM,IAAAkP,IAAAA,GAAA,GACJlP,KAAK8I,MAAQ5G,UACblC,KAAK6L,gBAAkB3J,UACvBlC,KAAKkO,cAAc,IAEflO,KAAK0N,eAAiB1N,KAAK8I,OAC7B9I,KAAKmP,oBAGHD,GACFE,WAAW,WACT7O,EAAKqO,aACJ,IAIPhE,EAAAzK,UAAAkP,MAAA,WACErP,KAAK8I,MAAQ9I,KAAK0N,aAClB1N,KAAK2N,sCAAsC3N,KAAK0N,cAChD1N,KAAKmP,qBAgBPvE,EAAAzK,UAAAmP,OAAA,SAAO5D,GAEL,IAAMxC,EAAQlJ,KAAK6L,gBAAgBrK,QAAQkK,GAE9B,GAATxC,GACFlJ,KAAK6L,gBAAgB0D,OAAOrG,EAAO,GAGrClJ,KAAKwP,kCAmCP5E,EAAAzK,UAAAsP,gBAAA,WACE,IAAMC,EAAkB1P,KAAK2P,iBAAiB3P,KAAK8I,OAEnD,OADc9I,KAAK4P,WAAa5P,KAAK6P,UAAYH,GAInD9E,EAAAzK,UAAA2P,gBAAA,WACE,IAAMC,EAAgBnH,MAAMC,QAAQ7I,KAAK8I,OAAST,KAAKC,UAAUtI,KAAK8I,OAAS9I,KAAK8I,MAC9EkH,EAAuBpH,MAAMC,QAAQ7I,KAAK0N,cAAgBrF,KAAKC,UAAUtI,KAAK0N,cAAgB1N,KAAK0N,aAEzG,OADc1N,KAAK4P,UAAaG,IAAkBC,GAI5CpF,EAAAzK,UAAAwP,0BAAiBM,GACvB,IAAIP,GAAkB,EAClBO,IAGAP,EAFmC,iBAAbO,EAEJA,EAASzK,QAEXoD,MAAMC,QAAQoH,IAEVA,EAASzK,QAMjC,OAAOkK,GAGD9E,EAAAzK,UAAA+N,uBAAc7N,GACpBL,KAAKwM,kBAAkB0D,SAAS7P,GAE3BA,IACHL,KAAKyO,UAAUC,cAAc5F,MAAQ,KAIjC8B,EAAAzK,UAAAgQ,iCAAwBhI,EAAYiI,cAE1C,QAF0C,IAAAA,IAAAA,GAAA,GAEtCpQ,KAAKsC,QAEP,OAAOtC,KAAKqQ,qBAAqBlI,GAE5B,GAAInI,KAAKsQ,oBAEd,OAAOtQ,KAAKsQ,oBAAoBnI,GAC7BpF,KACCC,EAAAA,IAAI,SAAAV,GACF/B,EAAKqM,aAAetK,KAM1B,IAAMG,EAAO0F,EAAa,CAAEA,WAAUA,GAAKjG,UAE3C,GAAIkO,EAAkB,CAEpB,IAAMG,EAAevQ,KAAKwQ,UAAUrI,GAEpC,OAAIoI,EAEKE,EAAAA,GAAGF,GAIHvQ,KAAK8K,QAAQnK,IAAWX,KAAKoC,SAAUK,GAC3CM,KACCC,EAAAA,IAAI,SAACV,GACH/B,EAAKiQ,UAAUrI,GAAc7F,EAC7B/B,EAAKqM,aAAetK,KAQ5B,OAAOtC,KAAK8K,QAAQnK,IAAWX,KAAKoC,SAAUK,GAC3CM,KACCC,EAAAA,IAAI,SAACV,GACH/B,EAAKqM,aAAetK,MAUxBsI,EAAAzK,UAAAkQ,8BAAqBK,cACrBC,EAAa,GAAGD,EAElBE,EAAe5Q,KAAK4M,aAYxB,OAVI+D,IACFC,EAAe5Q,KAAK4M,aACjBnF,OAAO,SAAA0D,GACN,IACM0F,EADgBtQ,EAAKuQ,aAAa3F,GACX4F,cACvBC,EAAgBL,EAAWI,cACjC,OAA+C,GAAxCF,EAAe/M,OAAOkN,MAI5BP,EAAAA,GAAGG,IAGJhG,EAAAzK,UAAA8Q,oBAAW5P,GACjB,MAAM,IAAI6P,MAAM,gEAAgElR,KAAKqJ,KAAI,6BAA6BhI,IAIhHuJ,EAAAzK,UAAAkO,qBAENrO,KAAKyO,UAAUC,cAAcM,QAIvBpE,EAAAzK,UAAA8N,oCAA2BvC,GAEjC,GAAIA,EAAQ,CAEV,IAAIoC,GAAa,EAEjB,GAAI9N,KAAK6L,iBAAmB7L,KAAK6L,gBAAgBrG,QAEhC,IADDxF,KAAK6L,gBAAgBrK,QAAQkK,IAEzC1L,KAAK6L,gBAAgBsF,KAAKzF,GAC1B1L,KAAKkO,cAAc,MACnBlO,KAAKwP,kCAEL1B,GAAa,OAGf9N,KAAK6L,gBAAkB,CAACH,GACxB1L,KAAKwP,iCAGP,OAAO1B,EAIP,OAAO,GAMHlD,EAAAzK,UAAAwN,+CAAsC7E,EAAOsI,oBAAA,IAAAA,IAAAA,GAAA,GAE/CtI,KAEE9I,KAAK6K,MAESjC,MAAMC,QAAQC,KAI5B9I,KAAK6L,gBAAkB,GAEvB/C,EAAME,QAAQ,SAAAqI,GAEZ9Q,EAAK+Q,+BAA+BD,GACjCxQ,KAAK,SAAC6K,GAELnL,EAAK0N,2BAA2BvC,QAUxC1L,KAAKsR,+BAA+BxI,GACjCjI,KAAK,SAACyB,GACL/B,EAAK8L,cAAcvD,OAcrB8B,EAAAzK,UAAAqP,qDAEFxP,KAAK6L,iBAAmB7L,KAAK6L,gBAAgBrG,OAE/CxF,KAAK8I,MAAQ9I,KAAK6L,gBAAgBpD,IAAI,SAAAiD,GAAU,OAAAnL,EAAKqL,aAAaF,KAIlE1L,KAAK8I,MAAQ,IAOT8B,EAAAzK,UAAAmR,wCAA+B5D,cACrC,OAAO,IAAI6D,QAAa,SAACC,EAASC,GAC5B/D,EACFnN,EAAK4P,wBAAwBzC,GAAc,GACxC1D,UAAU,SAAClJ,GACV0Q,EAAQ1Q,EAAI,MAGhB0Q,EAAQ9D,MAKN9C,EAAAzK,UAAA2M,yCACN,OAAO,IAAIyE,QAAQ,SAACC,EAASC,GAC3B,IAAIpQ,EACCd,EAAK6B,UAAa7B,EAAK+B,SAAY/B,EAAK+P,sBAC3CjP,EAAQ,oHAENA,GACFd,EAAK0Q,WAAW5P,GAChBoQ,EAAOpQ,IAEPmQ,OAKE5G,EAAAzK,UAAAgP,6BACNnP,KAAKwM,kBAAkBkF,iBACvB1R,KAAKwM,kBAAkBmF,kBACvB3R,KAAKqO,aAeCzD,EAAAzK,UAAA8L,yBAAgB2F,EAAIC,GAG1B,OAFgB7R,KAAKuL,aAAaqG,KAClB5R,KAAKuL,aAAasG,IAI5BjH,EAAAzK,UAAAoL,sBAAalL,GAQnB,MAPiB,iBAANA,IAEPA,EADEyR,MAAMzR,GACJgI,KAAKC,UAAUjI,GAEf,GAAGA,GAGJA,GAGDuK,EAAAzK,UAAAkM,uBAAchM,GACpBL,KAAKoM,WAAa/L,EAClBL,KAAK+R,+BAA+B1R,IAG9BuK,EAAAzK,UAAA4R,wCAA+B1R,GACrC,IAAMqL,EAAS1L,KAAKgS,sBAAsB3R,GAC1CL,KAAKkO,cAAcxC,IAGbd,EAAAzK,UAAA6R,+BAAsB3R,cAC5B,OAAOL,KAAK4M,aAAad,KAAK,SAAAX,GAC5B,IAAM8G,EAAY1R,EAAKqL,aAAaT,GACpC,OAAO5K,EAAK0L,gBAAgBgG,EAAW5R,MAInCuK,EAAAzK,UAAA4M,mDAEN/M,KAAKkS,wBAA0BlS,KAAKwM,kBAAkB2F,aACnDpP,KACCqH,EAAAA,aAAa,KACbgI,EAAAA,wBAEDpI,UAAU,SAAAqI,GACT9R,EAAK+R,QAAQnP,KAAKkP,MAKhBzH,EAAAzK,UAAA8M,4CAENjN,KAAKkS,wBAAwBhI,eAIvBU,EAAAzK,UAAA6M,+DACNhN,KAAKuS,SAAWvS,KAAKsS,QAClBvP,KACCqP,EAAAA,uBACAI,EAAAA,UAAU,SAACrK,GAET,IAAMsK,EAAatK,GAAc,GAIjC,MAF2C,iBAAfsK,EAGnBlS,EAAK4P,wBAAwBsC,GAE7BhC,EAAAA,GAAGlQ,EAAKqM,kBAOjBhC,EAAAzK,UAAA+M,wDAENlN,KAAKkS,wBAAwBhI,mCA9pBhCwI,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,mBACVC,SAAU,wpFAoDVC,OAAQ,GACRC,UAAW,CAACvI,gDAxELxI,kDA4ENgR,EAAAA,UAASjR,KAAA,CAACkR,EAAAA,qDA0BVC,EAAAA,wBAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,wBAEAA,EAAAA,uBAaAA,EAAAA,yBAEAA,EAAAA,oBAEAA,EAAAA,uBAEAA,EAAAA,2BASAA,EAAAA,wBAEAA,EAAAA,uBAEAA,EAAAA,yBAEAA,EAAAA,oBAGAC,EAAAA,+BAEAA,EAAAA,4BAEAA,EAAAA,0BAGAH,EAAAA,UAASjR,KAAA,CAAC,+BAEViR,EAAAA,UAASjR,KAAA,CAAC,oBC/JbqR,EAAA,oDAMCC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAC,EAAAA,sBACAC,EAAAA,eACAC,EAAAA,eACAC,EAAAA,gBACAC,EAAAA,cACAC,EAAAA,YACAC,EAAAA,qBAEFC,aAAc,CAAClJ,GACfmJ,QAAS,CAACnJ,SAlBZ,GCOMN,EAAO,aAMP0J,EAAiD,CACrDxJ,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAsJ,IAC9BpJ,OAAO,gBA4EP,SAAAoJ,EACUC,GAAAlU,KAAAkU,UAAAA,iBAnDE,gBAyBI,wCAEO,iCAMa,IAAIhJ,EAAAA,iCAEM,IAAIA,EAAAA,oCASVZ,wBAEKA,SA5C7CrK,OAAAC,eACI+T,EAAA9T,UAAA,QAAK,KAaT,WACE,OAAOH,KAAKmU,YAfd,SACU9T,GADV,IAAAE,EAAAP,KAEMK,IAAML,KAAKmU,SACbnU,KAAKmU,OAAS9T,EACdL,KAAK8I,MAAQ5G,UACblC,KAAKoC,SAAWF,UACZlC,KAAKoU,aACPhF,WAAW,WACT7O,EAAK8T,+DA4CbJ,EAAA9T,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEA,KAAKoU,aAAc,EACnBhF,WAAW,WACT7O,EAAK8T,4BACJ,IAQLpU,OAAAC,eAAI+T,EAAA9T,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAK1B4T,EAAA9T,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1B6G,EAAA9T,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3B6G,EAAA9T,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBuQ,EAAA9T,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBmL,EAAA9T,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,QAGtBmL,EAAA9T,UAAAkL,QAAA,SAAQxB,GACN,OAAUA,EAAQf,MAAK,KAAKe,EAAQ0K,KAGtCN,EAAA9T,UAAAkU,yBAAA,WACE,IAAMrQ,EAAS,GACX5B,EA7IkB,mBA+IlBpC,KAAKwU,OAASxU,KAAKwU,MAAMhP,QAC3BxB,EAAOmN,KAAK,SAASsD,UAAUpM,KAAKC,UAAUtI,KAAKwU,SAGjDxQ,EAAOwB,SACTpD,GAAY,IAAI4B,EAAO0Q,KAAK,MAG9B1U,KAAKoC,SAAWA,uBA9InBsQ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,2BACVC,SAAU,+VAcVC,OAAQ,GACRC,UAAW,CAACkB,gDAlCLjS,oCA0CNkR,EAAAA,wBAmBAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eC7EHyB,EAAA,oDAMCvB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CAACG,GACfF,QAAS,CAACE,SAbZ,GCIM3J,EAAO,aAIPsK,EAAmD,CACvDpK,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAkK,IAC9BhK,OAAO,gBAsDP,SAAAgK,kBA/BW,mCAEC,gBAMI,wCAEO,iCAMa,IAAI3J,EAAAA,iCAEM,IAAIA,EAAAA,oCASVZ,wBAEKA,SAS7CrK,OAAAC,eAAI2U,EAAA1U,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAI1BwU,EAAA1U,UAAAkL,QAAA,SAAQyJ,GACN,OAAUA,EAAQhM,MAAK,KAAKgM,EAAQP,KAItCM,EAAA1U,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1ByH,EAAA1U,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3ByH,EAAA1U,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBmR,EAAA1U,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjB+L,EAAA1U,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,4BAhGvB4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,2BACVC,SAAU,uTAaVC,OAAQ,GACRC,UAAW,CAAC8B,+EAQX3B,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eCpDH6B,EAAA,oDAMC3B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CAACe,GACfd,QAAS,CAACc,SAbZ,GCIMvK,EAAO,aAIP0J,EAAiD,CACrDxJ,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAqK,IAC9BnK,OAAO,gBAgFP,SAAAmK,kBArDW,2CAEC,qBAEA,kBAwBI,2CAMO,oCAEa,IAAI9J,EAAAA,iCAEM,IAAIA,EAAAA,8BAEP,IAAIA,EAAAA,6BAOrB,0BAEcZ,wBAEKA,SA7C7CrK,OAAAC,eACI8U,EAAA7U,UAAA,OAAI,KAWR,WACE,OAAOH,KAAKiV,WAbd,SACS5U,GADT,IAAAE,EAAAP,KAEMK,IAAML,KAAKiV,QACbjV,KAAKiV,MAAQ5U,EACbL,KAAK8I,MAAQ5G,UACblC,KAAKoC,SAAWF,UAChBkN,WAAW,WACT7O,EAAK8T,+DA+CXpU,OAAAC,eAAI8U,EAAA7U,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAI1B2U,EAAA7U,UAAAkL,QAAA,SAAQ6J,GACN,OAAUA,EAAWpM,MAAK,KAAKoM,EAAWX,KAI5CS,EAAA7U,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1B4H,EAAA7U,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3B4H,EAAA7U,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBsR,EAAA7U,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBkM,EAAA7U,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,QAGtBkM,EAAA7U,UAAAkU,yBAAA,WACE,IAAMrQ,EAAS,GACX5B,EA/He,4BAiInB4B,EAAOmN,KAAK,QAAQnR,KAAK4B,MAEzBQ,GAAY,IAAI4B,EAAO0Q,KAAK,KAE5B1U,KAAKoC,SAAWA,uBAnInBsQ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,8BACVC,SAAU,4XAeVC,OAAQ,CAAC,IACTC,UAAW,CAACkB,2EAUXf,EAAAA,wBAkBAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,2BAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,4BAEAA,EAAAA,eC9EHiC,EAAA,oDAMC/B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CACZkB,GAEFjB,QAAS,CACPiB,SAhBJ,GCKM1K,EAAO,aAIP8K,EAAmD,CACvD5K,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAA0K,IAC9BxK,OAAO,gBAuDP,SAAAwK,cA7BgC,eAMhB,wCAEO,iCAMa,IAAInK,EAAAA,iCAEM,IAAIA,EAAAA,oCASVZ,wBAEKA,eAgDnC,SAACa,GACT,OAAOA,EAAOA,EAAK9B,KAAO8B,gBAGlB,SAACA,GACT,OAAOA,EAAOA,EAAKmK,KAAOnK,GAlD1BnL,KAAKuV,WAAa9E,EAAAA,GAAG+E,UAQvBvV,OAAAC,eAAImV,EAAAlV,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAK1BgV,EAAAlV,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1BiI,EAAAlV,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3BiI,EAAAlV,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrB2R,EAAAlV,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBuM,EAAAlV,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,4BA/FvB4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,2BACVC,SAAU,qVAcVC,OAAQ,GACRC,UAAW,CAACsC,2EAMXnC,EAAAA,wBAEAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eAqEGsC,EAAY,CAAC,CAAEF,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,wBAA0B,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,uBAAyB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,wBAA0B,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,kBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,0BAA4B,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,oBAAsB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,oCAAsC,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,oCAAsC,CAAEiM,KAAQ,KAAMjM,KAAQ,4BAA8B,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,oBAAsB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,kBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,sBAAwB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,kBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,oBAAsB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,kBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,qBAAuB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,gDAAkD,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,qCAAuC,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,kCAAoC,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,yBAA2B,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,kBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,oBAAsB,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,4BAA8B,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,iBAAmB,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,kBAAoB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,oBAAsB,CAAEiM,KAAQ,KAAMjM,KAAQ,oBAAsB,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,6BAA+B,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,mBAAqB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,0BAA4B,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,yBAA2B,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,6BAA+B,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,4BAA8B,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,+BAAiC,CAAEiM,KAAQ,KAAMjM,KAAQ,QAAU,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,eAAiB,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,uBAAyB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,YAAc,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,wCAA0C,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,cAAgB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,oCAAsC,CAAEiM,KAAQ,KAAMjM,KAAQ,aAAe,CAAEiM,KAAQ,KAAMjM,KAAQ,0BAA4B,CAAEiM,KAAQ,KAAMjM,KAAQ,uBAAyB,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,qBAAuB,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,SAAW,CAAEiM,KAAQ,KAAMjM,KAAQ,WAAa,CAAEiM,KAAQ,KAAMjM,KAAQ,gBAAkB,CAAEiM,KAAQ,KAAMjM,KAAQ,UAAY,CAAEiM,KAAQ,KAAMjM,KAAQ,aC3HxsToM,EAAA,oDAMCrC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CAACuB,GACftB,QAAS,CAACsB,SAbZ,GCGaK,EAAgB,6CAGvBpL,EAAO,aAIPqL,EAAsD,CAC1DnL,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAiL,IAC9B/K,OAAO,gBAuFP,SAAA+K,mBA/CY,uBAEA,gBAoBI,2CAEO,oCAMa,IAAI1K,EAAAA,iCAEM,IAAIA,EAAAA,oCAWVZ,wBAEKA,SAzC7CrK,OAAAC,eACI0V,EAAAzV,UAAA,YAAS,KASb,WACE,OAAOH,KAAK6V,gBAXd,SACcxV,GADd,IAAAE,EAAAP,KAEEA,KAAK6V,WAAaxV,EAClBL,KAAK8I,MAAQ5G,UACblC,KAAKoC,SAAWF,UAChBkN,WAAW,WACT7O,EAAKuV,4DA4CT7V,OAAAC,eAAI0V,EAAAzV,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAK1BuV,EAAAzV,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1BwI,EAAAzV,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3BwI,EAAAzV,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBkS,EAAAzV,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjB8M,EAAAzV,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,QAGtB8M,EAAAzV,UAAA2V,uBAAA,WACE9V,KAAKoC,SAAYpC,KAAK+V,UAAwBL,EAAchP,QAAQ,eAAgB1G,KAAK+V,WAAvD7T,+BAjIrCwQ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,8BACVC,SAAU,gqBA4BVC,OAAQ,GACRC,UAAW,CAAC6C,gFAUX1C,EAAAA,wBAcAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eCrFH8C,EAAA,oDAOC5C,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,EACAM,EAAAA,gBAEFK,aAAc,CAAC8B,GACf7B,QAAS,CAAC6B,SAfZ,GCOMtL,EAAO,aAIP0J,EAAiD,CACrDxJ,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAsL,IAC9BpL,OAAO,gBA0DP,SAAAoL,EACU/B,GAAAlU,KAAAkU,UAAAA,gBApCC,+BAEC,uBAEA,gBAQI,qCAEO,8BAMa,IAAIhJ,EAAAA,iCAEM,IAAIA,EAAAA,oCASVZ,wBAEKA,SAW7CrK,OAAAC,eAAI+V,EAAA9V,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAK1B4V,EAAA9V,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1B6I,EAAA9V,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3B6I,EAAA9V,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBuS,EAAA9V,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBmN,EAAA9V,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,4BAlGvB4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,iVAaVC,OAAQ,GACRC,UAAW,CAACkB,gDA/BLjS,oCAyCNkR,EAAAA,wBAEAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eC3DHgD,EAAA,oDAMC9C,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CAACmC,GACflC,QAAS,CAACkC,SAbZ,GCIM3L,EAAO,aAIP0J,EAAiD,CACrDxJ,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAwL,IAC9BtL,OAAO,gBAqDP,SAAAsL,kBA/BW,qCAEC,qBAEA,kBAMI,uCAEO,gCAEa,IAAIjL,EAAAA,iCAEM,IAAIA,EAAAA,8BAEP,IAAIA,EAAAA,6BAOrB,0BAEcZ,wBAEKA,SAS7CrK,OAAAC,eAAIiW,EAAAhW,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAI1B8V,EAAAhW,UAAAkL,QAAA,SAAQ+K,GACN,OAAUA,EAAOtN,MAAK,KAAKsN,EAAO7B,KAIpC4B,EAAAhW,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1B+I,EAAAhW,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3B+I,EAAAhW,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrByS,EAAAhW,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,OACrBA,GAASA,IAAU5G,WAAuB,OAAV4G,IAClC9I,KAAK8I,MAAQA,IAKnBqN,EAAAhW,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,4BAjGvB4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,0BACVC,SAAU,sVAYVC,OAAQ,CAAC,IACTC,UAAW,CAACkB,+EAUXf,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,4BAEAA,EAAAA,eCnDHmD,GAAA,oDAMCjD,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CACZqC,GAEFpC,QAAS,CACPoC,SAhBJ,GCOM7L,GAAO,aAIPgM,GAAmD,CACvD9L,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAA4L,KAC9B1L,OAAO,iBA4GP,SAAA0L,EAAoBrC,GAAAlU,KAAAkU,UAAAA,iBAnEC,gBAoCL,wCAEO,iCAMa,IAAIhJ,EAAAA,iCAEM,IAAIA,EAAAA,yBAM5B,0BAWkBZ,yBAEKA,UA/D7CrK,OAAAC,eACIqW,EAAApW,UAAA,YAAS,KAWb,WACE,OAAOH,KAAK6V,gBAbd,SACcxV,GACRL,KAAK6V,aAAexV,IACtBL,KAAK6V,WAAaxV,EAClBL,KAAK8I,MAAQ5G,UACblC,KAAKoC,SAAWF,UACZlC,KAAKoU,aACPpU,KAAKqU,6DASXpU,OAAAC,eACIqW,EAAApW,UAAA,gBAAa,KASjB,WACE,OAAOH,KAAKwW,oBAXd,SACkBnW,GACZL,KAAKwW,iBAAmBnW,IAC1BL,KAAKwW,eAAiBnW,EAClBL,KAAKoU,aACPpU,KAAKqU,6DA8CXkC,EAAApW,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEA,KAAKoU,aAAc,EAEnBhF,WAAW,WACT7O,EAAK8T,4BACJ,IASLpU,OAAAC,eAAIqW,EAAApW,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAI1BkW,EAAApW,UAAAkL,QAAA,SAAQyJ,GACN,OAAUA,EAAQhM,MAAK,KAAKgM,EAAQP,KAItCgC,EAAApW,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1BmJ,EAAApW,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3BmJ,EAAApW,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrB6S,EAAApW,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjByN,EAAApW,UAAAkU,yBAAA,WACErU,KAAKyW,kBACLzW,KAAKoC,SA5KkC,oBA6Kd,EAArBpC,KAAKgE,OAAOwB,QACdxF,KAAKgE,OAAOgF,QAAQ,SAAS0N,EAAOxN,GAClC,IAAMyN,EAAY1W,OAAOsB,KAAKmV,GAAO,GAC/BE,EAAaF,EAAMC,GACzB3W,KAAKoC,UAAsB,IAAV8G,EAAc,IAAM,IACrClJ,KAAKoC,UAAYuU,EACjB3W,KAAKoC,UAAY,IACjBpC,KAAKoC,UAAYwU,GAChB5W,OAIPuW,EAAApW,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,QAGdyN,EAAApW,UAAAsW,2BAENzW,KAAKgE,OAAS,GAEVhE,KAAK+V,WACP/V,KAAKgE,OAAOmN,KAAK,CACf4E,UAAW/V,KAAK+V,YAIhB/V,KAAK6W,eACP7W,KAAKgE,OAAOmN,KAAK,CACf0F,cAAe7W,KAAK6W,qCA7L3BnE,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,2BACVC,SAAU,+pBA6BVC,OAAQ,GACRC,UAAW,CAACwD,iDA/CLvU,wCAqDNkR,EAAAA,yBAEAA,EAAAA,6BAgBAA,EAAAA,wBAcAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eCrGH4D,GAAA,oDAOC1D,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,EACAM,EAAAA,gBAEFK,aAAc,CACZyC,IAEFxC,QAAS,CACPwC,UAlBJ,GCIaQ,GAAqC,oBAG5CzM,GAAO,aAIP0M,GAAmD,CACvDxM,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAsM,KAC9BpM,OAAO,iBAwFP,SAAAoM,EAAoB/C,GAAAlU,KAAAkU,UAAAA,iBA/CR,gBAsBI,wCAEO,iCAMa,IAAIhJ,EAAAA,iCAEM,IAAIA,EAAAA,oCAWVZ,yBAEKA,UA3C7CrK,OAAAC,eACI+W,EAAA9W,UAAA,YAAS,KAWb,WACE,OAAOH,KAAK6V,gBAbd,SACcxV,GADd,IAAAE,EAAAP,KAEMA,KAAK6V,aAAexV,IACtBL,KAAK6V,WAAaxV,EAClBL,KAAK8I,MAAQ5G,UACblC,KAAKoC,SAAWF,UAChBkN,WAAW,WACT7O,EAAK8T,4BACJ,qCA4CPpU,OAAAC,eAAI+W,EAAA9W,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAI1B4W,EAAA9W,UAAAkL,QAAA,SAAQyJ,GACN,OAAUA,EAAQhM,MAAK,KAAKgM,EAAQP,KAItC0C,EAAA9W,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1B6J,EAAA9W,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3B6J,EAAA9W,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBuT,EAAA9W,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBmO,EAAA9W,UAAAkU,yBAAA,WACMrU,KAAK+V,UACP/V,KAAKoC,SAAW2U,GAAqC,cAAgB/W,KAAK+V,UAE1E/V,KAAKoC,SAAW2U,IAIpBE,EAAA9W,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,4BA1IvB4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,2BACVC,SAAU,8qBA6BVC,OAAQ,GACRC,UAAW,CAACkE,iDA/CLjV,wCAuDNkR,EAAAA,wBAgBAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,eCvFHgE,GAAA,oDAOC9D,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,EACAM,EAAAA,gBAEFK,aAAc,CACZmD,IAEFlD,QAAS,CACPkD,UAlBJ,GCOM3M,GAAO,aAMP6M,GAAiD,CACrD3M,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAyM,KAC9BvM,OAAO,iBA4HP,SAAAuM,EAAoBlD,GAAAlU,KAAAkU,UAAAA,iBApFR,gBAMI,sCAEO,+BAMa,IAAIhJ,EAAAA,iCAEM,IAAIA,EAAAA,oCAgEVZ,yBAEKA,UAhE7CrK,OAAAC,eACIkX,EAAAjX,UAAA,YAAS,KAWb,WACE,OAAOH,KAAKqX,gBAbd,SACchX,GADd,IAAAE,EAAAP,KAEMA,KAAKqX,aAAehX,IACtBL,KAAKqX,WAAahX,EAClBL,KAAK8I,MAAQ5G,UACblC,KAAKoC,SAAWF,UAChBkN,WAAW,WACT7O,EAAK8T,4BACJ,qCASPpU,OAAAC,eACIkX,EAAAjX,UAAA,gBAAa,KAUjB,WACE,OAAOH,KAAKsX,oBAZd,SACkBjX,GACZL,KAAKsX,iBAAmBjX,IAC1BL,KAAKsX,eAAiBjX,EAElBL,KAAKuX,iBACPvX,KAAKqU,6DASXpU,OAAAC,eACIkX,EAAAjX,UAAA,uBAAoB,KAUxB,WACE,OAAOH,KAAKwX,2BAZd,SACyBnX,GACnBL,KAAKwX,wBAA0BnX,IACjCL,KAAKwX,sBAAwBnX,EAEzBL,KAAKuX,iBACPvX,KAAKqU,6DA8BX+C,EAAAjX,UAAA0M,gBAAA,WACE7M,KAAKuX,iBAAkB,EACvBvX,KAAKqU,4BAQPpU,OAAAC,eAAIkX,EAAAjX,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAK1B+W,EAAAjX,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1BgK,EAAAjX,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3BgK,EAAAjX,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrB0T,EAAAjX,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBsO,EAAAjX,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,QAGtBsO,EAAAjX,UAAAkL,QAAA,SAAQF,GACN,YADM,IAAAA,IAAAA,EAAA,IACIA,EAAKrC,MAAK,KAAKqC,EAAKoJ,KAGxB6C,EAAAjX,UAAAkU,wCAEFjS,SAIJ,GAFApC,KAAK8I,MAAQ5G,UAETlC,KAAKyX,UAAW,CAElBrV,EA/LiB,wCA+LSsE,QAAQ,eAAgB1G,KAAKyX,WAEvD,IAAMzT,EAAS,GAEXhE,KAAK0X,eACP1T,EAAOmN,KAAK,aAAanR,KAAK0X,eAG5B1X,KAAK2X,sBACP3T,EAAOmN,KAAK,oBAAoBnR,KAAK2X,sBAGnC3T,EAAOwB,SAETpD,GAAY,IAAI4B,EAAO0Q,KAAK,MAM5B1U,KAAKoC,WAAaA,GAGpBgN,WAAW,WACT7O,EAAK6B,SAAWA,GACf,wBA/MRsQ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,yBACVC,SAAU,4pBA4BVC,OAAQ,GACRC,UAAW,CAACqE,iDA/CLpV,uCAuDNkR,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,0BAEAD,EAAAA,6BAiBAA,EAAAA,oCAeAA,EAAAA,cC1GH2E,GAAA,oDAOCxE,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,EACAM,EAAAA,gBAEFK,aAAc,CACZsD,IAEFrD,QAAS,CACPqD,UAlBJ,GCIM9M,GAAO,aAIPuN,GAAgD,CACpDrN,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAmN,KAC9BjN,OAAO,iBA2EP,SAAAiN,mBAnCY,qBAEA,kBAQI,qCAEO,8BAMa,IAAI5M,EAAAA,iCAEM,IAAIA,EAAAA,8BAEP,IAAIA,EAAAA,oCASPZ,yBAEKA,UAhD7CrK,OAAAC,eACI4X,EAAA3X,UAAA,WAAQ,KAUZ,WACE,OAAOH,KAAK+X,eAZd,SACa1X,GADb,IAAAE,EAAAP,KAEMK,GAAKA,IAAML,KAAK+X,YAClB/X,KAAK8I,MAAQ5G,UACblC,KAAK+X,UAAY7V,UACjBkN,WAAW,WACT7O,EAAKwX,UAAY1X,GAChB,qCAkDPJ,OAAAC,eAAI4X,EAAA3X,UAAA,QAAK,KAAT,WACE,OAAOH,KAAKoM,gBAId,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAI1ByX,EAAA3X,UAAAkL,QAAA,SAAQ2M,GACN,OAAUA,EAAKlP,MAAK,KAAKkP,EAAKzD,KAIhCuD,EAAA3X,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAI1B0K,EAAA3X,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3B0K,EAAA3X,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBoU,EAAA3X,UAAAsN,WAAA,SAAW3E,GACL,GAAGA,GAAY,GAAG9I,KAAK8I,QACzB9I,KAAK8I,MAAQA,IAIjBgP,EAAA3X,UAAAmU,mBAAA,SAAmBzG,GACjB7N,KAAKsN,oBACLtN,KAAKgP,KAAKZ,KAAKpO,KAAK8I,4BArHvB4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,4XAeVC,OAAQ,CAAC,IACTC,UAAW,CAAC+E,gFAIX5E,EAAAA,wBAqBAA,EAAAA,wBAEAA,EAAAA,oBAEAA,EAAAA,2BAEAA,EAAAA,qBAEAA,EAAAA,sBAEAA,EAAAA,oBAEAC,EAAAA,+BAEAA,EAAAA,4BAEAA,EAAAA,eCzEH+E,GAAA,oDAMC7E,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAM,EAAAA,YACAT,GAEFW,aAAc,CACZgE,IAEF/D,QAAS,CACP+D,UAhBJ,GCAAI,GAAA,WA+CE,SAAAA,EAAoBC,EAAwBC,GAAxBpY,KAAAmY,OAAAA,EAAwBnY,KAAAoY,WAAAA,iBAHvB,yBACG,iBAKxBF,EAAA/X,UAAAkY,SAAA,WACErY,KAAKsY,mBACLtY,KAAKuY,iBACLvY,KAAKwY,+BAGCN,EAAA/X,UAAAqY,uCACNxY,KAAKyY,kBACLzY,KAAK0Y,sBAGCR,EAAA/X,UAAAsY,2BACFzY,KAAK2Y,iBAAmBzW,WAAqC,UAAxBlC,KAAK2Y,iBAC5C3Y,KAAK2Y,eAAiB3Y,KAAK2Y,eAAiB3Y,KAAK2Y,eAAiB,MAI9DT,EAAA/X,UAAAuY,8BACF1Y,KAAK4Y,gBAAkB1W,WAAoC,UAAvBlC,KAAK4Y,gBAC3C5Y,KAAK4Y,cAAgB5Y,KAAK4Y,cAAgB5Y,KAAK4Y,cAAgB,MAI3DV,EAAA/X,UAAAmY,uCACFtY,KAAK6Y,iBACP7Y,KAAK8Y,WAAa9Y,KAAK6Y,eAAepQ,IAAI,SAAAjI,GAAQ,OAAAD,EAAK6X,WAAWW,QAAQvY,KAAOkU,KAAK,SAIlFwD,EAAA/X,UAAAoY,0BACFvY,KAAKgZ,cACPhZ,KAAKiZ,QAAUjZ,KAAKoY,WAAWW,QAAQ/Y,KAAKgZ,eAQzCd,EAAA/X,UAAA+Y,kBACDlZ,KAAK2Y,eACP3Y,KAAKmY,OAAOgB,SAAS,CAACnZ,KAAK2Y,iBAE3BrP,OAAO8P,QAAQC,QAIZnB,EAAA/X,UAAAmZ,qBACDtZ,KAAK4Y,cACP5Y,KAAKmY,OAAOgB,SAAS,CAACnZ,KAAK4Y,gBAE3BtP,OAAO8P,QAAQG,+BAjGpB7G,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,iBACVC,SAAU,6zBA4BVC,OAAQ,CAAC,yOAjCF2G,EAAAA,cACAC,EAAAA,4DAoCNxG,EAAAA,0BACAA,EAAAA,uBACAA,EAAAA,6BACAA,EAAAA,2BACAA,EAAAA,8BACAA,EAAAA,yBACAA,EAAAA,4BACAA,EAAAA,WA7CH,GCCAyG,GAAA,oDAQCtG,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACAjG,EAAAA,gBACAkG,EAAAA,aACAC,EAAAA,iBAEF/F,aAAc,CACZoE,IAEFnE,QAAS,CACPmE,UApBJ,GCDA4B,GAAA,WAgBE,SAAAA,YAEAA,EAAA3Z,UAAAkY,SAAA,iCAhBD3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,oBACVC,SAAU,+DAIVC,OAAQ,CAAC,gFAIRE,EAAAA,UAASjR,KAAA,CAACiY,EAAAA,4BAEV9G,EAAAA,WAdH,GCAA+G,GAAA,WAgGE,SAAAA,sBArCwB,0BAEK,WAEd,wBAgBU,IAAI9O,EAAAA,+BAEd,qBAE+B,CAC5ChC,MAAO,EACPJ,MAAO5G,6BAGc,sBAME,SAjDzBjC,OAAAC,eACI8Z,EAAA7Z,UAAA,gBAAa,KASjB,WACE,OAAOH,KAAKia,oBAXd,SACkB5Z,GACZA,IAAML,KAAKia,iBACbja,KAAKia,eAAiB5Z,EAClBL,KAAKka,OACPla,KAAKma,yDAeXla,OAAAC,eACI8Z,EAAA7Z,UAAA,QAAK,KAST,WACE,OAAOH,KAAKoa,YAXd,SACU/Z,GACJL,KAAKoa,SAAW/Z,IAClBL,KAAKoa,OAAS/Z,EACdL,KAAKqa,oBACLra,KAAKsa,qBACLta,KAAKma,yDA2BTla,OAAAC,eAAI8Z,EAAA7Z,UAAA,YAAS,KAAb,WACE,OAAO,IAAMH,KAAKua,8CAGpBta,OAAAC,eAAI8Z,EAAA7Z,UAAA,iBAAc,KAAlB,WACE,OAA2B,EAApBH,KAAKwa,8CAGdva,OAAAC,eAAI8Z,EAAA7Z,UAAA,iBAAc,KAAlB,WACE,IAAMsa,EAAaza,KAAKka,MAAM1U,OAC9B,OAAOxF,KAAKwa,aAAgBC,EAAaza,KAAKua,8CAGhDta,OAAAC,eAAI8Z,EAAA7Z,UAAA,iBAAc,KAAlB,WACE,OAAQH,KAAKka,OAASla,KAAKka,MAAM1U,OAASxF,KAAKua,8CAGjDP,EAAA7Z,UAAAma,mBAAA,WACE,IAAMI,EAAa1a,KAAKka,MAAMS,UAC9B3a,KAAK4a,WAAa5a,KAAKwa,aAAexa,KAAKua,aAC3C,IAAMM,EAAeH,EAAWjS,IAAI,SAAC0C,EAAMjC,GACzC,MAAO,CACLA,MAAOA,EACP4R,UAAW3P,KAGfnL,KAAK+a,aAAeF,EAAa3V,MAAMlF,KAAKwa,aAAcxa,KAAK4a,aAGjEZ,EAAA7Z,UAAA6a,OAAA,WACEhb,KAAKwa,eACLxa,KAAKsa,sBAGPN,EAAA7Z,UAAA8a,OAAA,WACEjb,KAAKwa,eACLxa,KAAKsa,sBAGPN,EAAA7Z,UAAA+a,WAAA,SAAWhS,GACTlJ,KAAKmb,cAAgBjS,EACrBlJ,KAAKma,wBAGCH,EAAA7Z,UAAAga,gCACNna,KAAKqa,oBACLra,KAAKob,oBAGCpB,EAAA7Z,UAAAka,6BACN,IAAMlP,EAAOnL,KAAKka,MAAMS,UAAU3a,KAAKmb,eACvCnb,KAAKqb,aAAe,CAClBnS,MAAOlJ,KAAKmb,cACZrS,MAAOqC,EAAKrC,QAIRkR,EAAA7Z,UAAAib,4BACNpb,KAAKsb,aAAalN,KAAKpO,KAAKqb,mCAzJ/B3I,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,eACVC,SAAU,onCAoCVC,OAAQ,CAAC,solBAIRI,EAAAA,4BAcAA,EAAAA,iCAEAA,EAAAA,mBAEAA,EAAAA,qBAEAsI,EAAAA,gBAAezZ,KAAA,CAACgY,0BAchB5G,EAAAA,YA/EH,GCAAsI,GAAA,oDAMCpI,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,kBAEF7F,aAAc,CAACkG,GAAsBF,IACrC/F,QAAS,CAACiG,GAAsBF,UAZlC,GCGMxP,GAAO,aAEPmR,GAAqC,CACzCjR,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAA+Q,KAC9B7Q,OAAO,iBAsDP,SAAA6Q,qBAhCuB,iBAEe,8BA0BEpR,yBAEKA,UA1B7CrK,OAAAC,eAAIwb,EAAAvb,UAAA,YAAS,KAcb,WAEE,OAAOH,KAAK2b,oBAhBd,SAActb,GAERL,KAAK2b,iBAAmBtb,IAE1BL,KAAK2b,eAAiBtb,EAEtBL,KAAKoM,WAA2B,SAAdpM,KAAK4b,KAAkBvb,EAAIA,EAAEwb,UAE/C7b,KAAKsM,iBAAiBtM,KAAKoM,8CAsB/BsP,EAAAvb,UAAAsN,WAAA,SAAW3E,GAET9I,KAAK8b,2BAA2BhT,GAEhC9I,KAAKoM,WAAatD,EAElB9I,KAAK2b,eAAiB,IAAIxW,KAAI,IAIhCuW,EAAAvb,UAAAgN,iBAAA,SAAiBC,GAEfpN,KAAKsM,iBAAmBc,GAI1BsO,EAAAvb,UAAAkN,kBAAA,SAAkBD,GAEhBpN,KAAKsN,kBAAoBF,GAI3BsO,EAAAvb,UAAA4b,YAAA,SAAYvO,GAEVxN,KAAKsN,qBAICoO,EAAAvb,UAAA2b,oCAA2BhT,GAEjC,GAAIA,EAAO,CAET,IAAMkT,EAAc,QAAQC,KAAKnT,GAI/B9I,KAAK4b,KAFHI,EAEU,YAIA,6BA7FnBtJ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,kBACVC,SAAU,yXAYVC,OAAQ,CAAC,IACTC,UAAW,CAAC2I,mFAIXxI,EAAAA,oBAEAA,EAAAA,cChCHiJ,GAAA,oDAMC9I,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAG,EAAAA,eACA0I,EAAAA,oBACAvI,EAAAA,YACAwI,EAAAA,qBAEFtI,aAAc,CAAC4H,IACf3H,QAAS,CAAC2H,UAfZ,GCAAW,GAAA,WAqBE,SAAAA,gCAnBD3J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,sKASVC,OAAQ,CAAC,6EAIRI,EAAAA,+BAEAF,EAAAA,UAASjR,KAAA,CAAC,wBAnBb,GCAAwa,GAAA,WAwBE,SAAAA,gCArBD5J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,kBACVC,SAAU,0XAaVC,OAAQ,CAAC,8EAIR0I,EAAAA,gBAAezZ,KAAA,CAACua,SAtBnB,GCAAE,GAAA,oDAMCnJ,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,kBAEF7F,aAAc,CAACwI,GAAwBD,IACvCtI,QAAS,CAACuI,GAAwBD,UAZpC,GCEaG,GAAiB,CAC5BC,KAAM,CAAEC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAK,GACzCC,MAAO,EACPC,MAAO,IACPC,SAAU,IACVC,MAAO,CACLC,SAAS,GAEXC,OAAQ,UAGGC,GAAqB,CAChCZ,KAAM,CAAEC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,IAAK,GACzCC,MAAO,EACPC,MAAO,IACPC,SAAU,IACVC,MAAO,CACLC,SAAS,GAEXC,OAAQ,UCrBVE,GAAA,WA+EE,SAAAA,IAAA,IAAA/c,EAAAP,yBArCiBwc,cAET,qBA0BgB,mBAES,iBAEZ,IAAItR,EAAAA,0BAGA,sBAIT,SAAC2C,EAAQ0P,EAASC,GAE5Bjd,EAAKkd,aAAeld,EAAKkd,cAAgB5P,EAAO6P,SAElDnd,EAAKkd,YAAYE,UAAY,IAI/B9P,EAAO6P,OAAOC,UAAY,SAE1Bpd,EAAKkd,YAAc5P,EAAO6P,OAE1Bnd,EAAKqd,eAAiBL,EAEtBhd,EAAK2I,MAAQsU,EAEbjd,EAAKsd,wCAIW,WAEZtd,EAAKqd,iBAEPrd,EAAKud,gBAAkBvd,EAAKqd,eAAeG,iBA3D/C9d,OAAAC,eACIod,EAAAnd,UAAA,SAAM,KAgBV,WAEE,OAAOH,KAAKge,aAnBd,SACWlV,IAETA,EAAQA,GAAS,IAAIF,QAEPP,KAAKC,UAAUQ,KAAWT,KAAKC,UAAUtI,KAAKge,WAE1Dhe,KAAK4d,eAAiB9U,EAAM,GAE5B9I,KAAKge,QAAUlV,EAEf9I,KAAK6d,oDAsDTP,EAAAnd,UAAA8d,aAAA,SAAazQ,GAEXxN,KAAKke,oBAAoB1Q,EAAM2Q,QAAS3Q,EAAM0M,OAASla,KAAKoe,OAAO5Y,SAIrE8X,EAAAnd,UAAAke,SAAA,SAAS7Q,GAEPxN,KAAKke,oBAAoB1Q,EAAM2Q,QAAS3Q,EAAM8Q,SAIhDhB,EAAAnd,UAAA+d,oBAAA,SAAoBK,EAAgBC,GAApC,IAAAje,EAAAP,KAEEoP,WAAW,WAET7O,EAAK4d,QAAUI,EAEfhe,EAAK+d,OAASE,GAEb,IAILlB,EAAAnd,UAAAse,iBAAA,SAAiBjR,GACfxN,KAAKoe,OAAOpe,KAAKkJ,OAASsE,EAC1BxN,KAAK0e,SAAStQ,KAAK,CACjBmP,QAAS/P,EACTtE,MAAOlJ,KAAKkJ,6BAvIjBwJ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,cACVC,SAAU,siCAsBVC,OAAQ,CAAC,oiDAkBRI,EAAAA,4BAwBAA,EAAAA,2BAEAA,EAAAA,wBAEAC,EAAAA,YA1EH,GCOayL,GAAa,m7FCP1BC,GAAA,WA+CE,SAAAA,EAAoBC,GAAA7e,KAAA6e,iBAAAA,oBApCN,mBAsBQ,kBD7BQ,8KCS9B5e,OAAAC,eACI0e,EAAAze,UAAA,WAAQ,KADZ,SACaE,GACPA,IAAML,KAAK8e,aACb9e,KAAK8e,WAAaze,EAEdL,KAAKuX,iBACPvX,KAAK+e,8CA8BXH,EAAAze,UAAAkY,SAAA,WACErY,KAAKgf,yBACLhf,KAAKif,mBAGPL,EAAAze,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEoP,WAAW,WACT7O,EAAKgX,iBAAkB,EACvBhX,EAAKwe,eAIDH,EAAAze,UAAA6e,kCACNhf,KAAKkf,iBAAmBlf,KAAK6e,iBAAiBM,QAAQzQ,cACtD1O,KAAKof,qBAAyD,QAAlCpf,KAAKkf,iBAAiBG,QAAoB,MAAQ,WAGxET,EAAAze,UAAA4e,qBAEyB,iBAApB/e,KAAK8e,WAEd9e,KAAKsf,cAAgBtf,KAAK8e,YAI1B9e,KAAKuf,UAAYvf,KAAKwf,6BAElBxf,KAAKuf,UAEPvf,KAAKsf,cAAgBtf,KAAKyf,cAI1Bzf,KAAKsf,cAAgBX,IAMzB3e,KAAK0f,kBAICd,EAAAze,UAAAqf,sCACN,IACE,OAAOxf,KAAK8e,WAAyB,cAAK5c,UAC1C,MAAOb,GACP,OAAOa,YAIH0c,EAAAze,UAAAsf,uBAEN,OAAIzf,KAAK2f,WAEA3f,KAAK4f,gBAIL5f,KAAK6f,YAMRjB,EAAAze,UAAA0f,oBACN,MAAUC,gDAAU9f,KAAKuf,WAGnBX,EAAAze,UAAAyf,yBAIN,MAAUG,iDAHG/f,KAAKggB,aAAahgB,KAAKigB,cACrBjgB,KAAKkgB,YACPlgB,KAAKmgB,UACiC,IAAIngB,KAAKuf,WAGtDX,EAAAze,UAAA6f,sBAAaC,QAAA,IAAAA,IAAAA,EAAA,IAEnB,IAAMG,EAAiBpgB,KAAKkf,iBAAiBmB,YAE7C,GAAIJ,EAAaK,OAASL,EAAaM,OACrC,OAAUN,EAAaK,OAAS,GAAC,KAAIL,EAAaM,QAAU,GAG9D,QAAQ,GACN,KAAKH,EAAiB,IACpB,MAAO,UACT,KAAKA,EAAiB,IACpB,MAAO,UACT,KAAKA,EAAiB,IACpB,MAAO,UACT,KAAKA,EAAiB,KACpB,MAAO,YACT,KAAKA,EAAiB,KACpB,MAAO,YACT,KAAKA,EAAiB,KACpB,MAAO,YACT,QACE,MAAO,cAILxB,EAAAze,UAAA+f,qBACN,OAAOlgB,KAAKwgB,MAAQ,UAAY,IAG1B5B,EAAAze,UAAAggB,mBACN,OAAOngB,KAAKygB,KAAO,QAAU,IAGvB7B,EAAAze,UAAAuf,qCACAgB,EAAmB,IAAIC,MAC7BD,EAAiBE,aAAa,cAAe,aAC7CF,EAAiBG,OAAS,WACxBtgB,EAAKugB,UAAYvgB,EAAKwgB,sBAAsBL,GAC5CngB,EAAKygB,eAGPN,EAAiBO,QAAU,WACzB1gB,EAAK+e,cAAgBX,GACrBpe,EAAKygB,eAGPN,EAAiBQ,IAAMlhB,KAAKsf,eAGtBV,EAAAze,UAAA6gB,uBAC4B,QAA9BhhB,KAAKof,qBACPpf,KAAKmhB,qBAELnhB,KAAKohB,mBAIDxC,EAAAze,UAAAihB,2BACNphB,KAAKkf,iBAAiBmC,MAAMC,gBAAkB,OAASthB,KAAK8gB,UAAY,IACxE9gB,KAAKkf,iBAAiBqC,UAAUjS,OAAO,yBAGjCsP,EAAAze,UAAAghB,8BACNnhB,KAAKkf,iBAAiB0B,aAAa,MAAO5gB,KAAK8gB,YAGzClC,EAAAze,UAAA8e,2BAC4B,QAA9Bjf,KAAKof,sBACPpf,KAAKkf,iBAAiB0B,aAAa,QAAS,QAC5C5gB,KAAKkf,iBAAiB0B,aAAa,YAAa,UAEhD5gB,KAAKkf,iBAAiBmC,MAAMG,eAAiB,OAC7CxhB,KAAKkf,iBAAiBmC,MAAMI,mBAAqB,SACjDzhB,KAAKkf,iBAAiBmC,MAAMK,iBAAmB,cAI3C9C,EAAAze,UAAA4gB,+BAAsBY,GAC5B,IAAMC,EAASC,SAASC,cAAc,UAOtC,OANAF,EAAOtB,MAAQqB,EAAIrB,MACnBsB,EAAOrB,OAASoB,EAAIpB,OAERqB,EAAOG,WAAW,MAC1BC,UAAUL,EAAK,EAAG,GAEfC,EAAOK,UAAU,kCA/M3BC,EAAAA,UAASpgB,KAAA,CAAC,CACT6Q,SAAU,0DALewP,EAAAA,sDAaxBlP,EAAAA,4BAWAA,EAAAA,oBAGAA,EAAAA,qBAGAA,EAAAA,0BAGAA,EAAAA,WAjCH,GCAAmP,GAAA,oDAGChP,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,GAETS,aAAc,CAAC8K,IACf7K,QAAS,CAAC6K,UAPZ,iBCoFE,SAAAyD,IAAA,IAAA9hB,EAAAP,wBAzBwB,gBAIH,IAAIkL,EAAAA,0BAOhB,aAED,kBAEI,iBACA,kBAMF,eACA,gBAQC,WACT,IAAMoX,EAAK/hB,EAAKgiB,iBAAiBhiB,EAAKiiB,UACtCjiB,EAAKkiB,WAAa,EAClBliB,EAAKmiB,WAAa,EAClB,IAAIC,GAAY,EAuDhB,SAAAC,EAAgBC,GACd,IAAMC,EAAIR,EAAGS,wBAGb,MAAO,CAFDF,EAAEG,QAAUF,EAAEG,KACdJ,EAAEK,QAAUJ,EAAEK,KAvDtBb,EAAGc,YAAc,SAACP,GAChB,GAAItiB,EAAK8iB,OAAQ,CACf,IAAMC,EAASV,EAAOC,GACpBU,EAAID,EAAO,GACXE,EAAIF,EAAO,GAKb,OAHA/iB,EAAKkjB,OAASF,EAAIhjB,EAAKmjB,QACvBnjB,EAAKojB,OAASH,EAAIjjB,EAAKqjB,aACvBjB,GAAY,GAIdpiB,EAAKkiB,WAAaI,EAAEa,QACpBnjB,EAAKmiB,WAAaG,EAAEe,QACpBjB,GAAY,GAGdL,EAAGuB,YAAc,SAAChB,GAChB,GAAItiB,EAAK8iB,QAAUV,EAAW,CAC5B,IAAMW,EAASV,EAAOC,GACpBU,EAAID,EAAO,GACXE,EAAIF,EAAO,GAmBb,OAjB2B,GAArBC,EAAIhjB,EAAKkjB,QAAkBnB,EAAGjC,YAAc9f,EAAKujB,YACrDvjB,EAAKmjB,QAAUH,EAAIhjB,EAAKkjB,SAGC,GAArBD,EAAIjjB,EAAKojB,QAAkBrB,EAAGjC,YAAc9f,EAAKujB,YACrDvjB,EAAKqjB,QAAUJ,EAAIjjB,EAAKojB,QAGP,EAAfpjB,EAAKqjB,UACPrjB,EAAKqjB,QAAU,GAEE,EAAfrjB,EAAKmjB,UACPnjB,EAAKmjB,QAAU,QAGjBpB,EAAGjB,MAAMI,mBAAqBlhB,EAAKmjB,QAAU,MAAQnjB,EAAKqjB,QAAU,QAMxEtB,EAAGyB,UAAY,WACTxjB,EAAK8iB,SACPV,GAAY,YA3GlB1iB,OAAAC,eACImiB,EAAAliB,UAAA,QAAK,KAOT,WACE,OAAOH,KAAKgkB,YATd,SACU3jB,GACJA,IACFL,KAAKgkB,OAAS3jB,EACdL,KAAKikB,uDAQThkB,OAAAC,eACImiB,EAAAliB,UAAA,OAAI,KAMR,WACE,OAAOH,KAAKkkB,WARd,SACS7jB,GACHA,IACFL,KAAKkkB,MAAQ7jB,oCAmCjBgiB,EAAAliB,UAAA0M,gBAAA,WACE7M,KAAKmkB,YAsEP9B,EAAAliB,UAAAikB,OAAA,WAIE,GAHmB,IAAfpkB,KAAKqkB,OACPrkB,KAAKskB,eAEU,EAAbtkB,KAAKqkB,MACPrkB,KAAKukB,WAAY,MADnB,CAIA,IAAMjC,EAAKtiB,KAAKwiB,SAAS9T,cACzB1O,KAAK8jB,WAAa9jB,KAAKwkB,UACvBlC,EAAGjB,MAAMG,eAAiBxhB,KAAK8jB,UAAY,KAC3C9jB,KAAK0jB,SAAWpB,EAAGjC,YAAcrgB,KAAK8jB,WAAa,EACnD9jB,KAAK4jB,SAAWtB,EAAGmC,aAAezkB,KAAK8jB,WAAa,EACpDxB,EAAGjB,MAAMI,mBAAqBzhB,KAAK0jB,QAAU,MAAQ1jB,KAAK4jB,QAAU,KACpE5jB,KAAKqjB,QAAS,EACdrjB,KAAKqkB,UAGPhC,EAAAliB,UAAAukB,QAAA,WACE,IAAMpC,EAAKtiB,KAAKwiB,SAAS9T,cACN,IAAf1O,KAAKqkB,OACPrkB,KAAK8jB,UAAY,KACjBxB,EAAGjB,MAAMG,eAAiB,OAC1Bc,EAAGjB,MAAMI,mBAAqB,UAC9BzhB,KAAK0jB,QAAU,EACf1jB,KAAK4jB,QAAU,EACf5jB,KAAKqjB,QAAS,EACdrjB,KAAKqkB,MAAQ,GACS,EAAbrkB,KAAKqkB,QACdrkB,KAAK8jB,WAAa9jB,KAAKwkB,UACvBlC,EAAGjB,MAAMG,eAAiBxhB,KAAK8jB,UAAY,KAC3C9jB,KAAK0jB,SAAWpB,EAAGjC,YAAcrgB,KAAK8jB,WAAa,EACnD9jB,KAAK4jB,SAAWtB,EAAGmC,aAAezkB,KAAK8jB,WAAa,EACpDxB,EAAGjB,MAAMI,mBAAqBzhB,KAAK0jB,QAAU,MAAQ1jB,KAAK4jB,QAAU,KACpE5jB,KAAKqkB,QACLrkB,KAAKukB,WAAY,IAIrBlC,EAAAliB,UAAAmkB,aAAA,WACEtkB,KAAKwkB,UAAaxkB,KAAK2kB,aAAarE,MAAQ,GAG9C+B,EAAAliB,UAAAoiB,iBAAA,SAAiBC,GAAjB,IAAAjiB,EAAAP,KACE,GAAIwiB,EACF,OAAOA,EAAS9T,cAElBU,WAAW,WACT7O,EAAKgiB,iBAAiBC,IACrB,MAGLH,EAAAliB,UAAA8jB,mBAAA,WAAA,IAAA1jB,EAAAP,KACEA,KAAKwiB,SAAS9T,cAAc2S,MAAMG,eAAiB,OACnDxhB,KAAKwiB,SAAS9T,cAAc2S,MAAMI,mBAAqB,UACvDzhB,KAAKwiB,SAAS9T,cAAc2S,MAAMC,gBAAkB,GACpDthB,KAAKqjB,QAAS,EACdrjB,KAAKwiB,SAAS9T,cAAckW,cAAcrD,UAAUsD,IAAI,uBACxD,IAAMC,EAAgB,IAAInE,MAC1BmE,EAAcC,YAAc,YAE5BD,EAAcjE,OAAS,WACrBtgB,EAAKiiB,SAAS9T,cAAc2S,MAAMC,gBAAkB,OAAS/gB,EAAKwgB,sBAAsB+D,GAAiB,IACzGvkB,EAAKiiB,SAAS9T,cAAc2S,MAAMK,iBAAmB,YACrDnhB,EAAKiiB,SAAS9T,cAAckW,cAAcrD,UAAUjS,OAAO,uBAC3D/O,EAAKud,gBAAkBvd,EAAKwgB,sBAAsB+D,GAClDvkB,EAAKokB,aAAe,CAClBrE,MAAOwE,EAAcxE,MACrBC,OAAQuE,EAAcvE,SAI1BuE,EAAc5D,IAAMlhB,KAAKglB,eAGnB3C,EAAAliB,UAAA4gB,+BAAsBY,GAC5B,IAAMC,EAASC,SAASC,cAAc,UAOtC,OANAF,EAAOtB,MAAQqB,EAAIrB,MACnBsB,EAAOrB,OAASoB,EAAIpB,OAERqB,EAAOG,WAAW,MAC1BC,UAAUL,EAAK,EAAG,GAEfC,EAAOK,UAAU,cAGlBI,EAAAliB,UAAA6kB,uBACN,OAAIhlB,KAAKilB,OAASjlB,KAAKilB,MAAMlH,QACpB/d,KAAKilB,MAAMlH,QAAQrX,QAAQ,OAAQ,SACjC1G,KAAKilB,OAASjlB,KAAKilB,MAAMC,aACxBpF,gDAAU9f,KAAKilB,MAAMC,aAExB,k5FAMX7C,EAAAliB,UAAAse,iBAAA,SAAiBjR,GACfxN,KAAKilB,MAAQzX,EAAM,GACnBxN,KAAK0e,SAAStQ,KAAKpO,KAAKilB,4BA3P3BvS,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,iBACVC,SAAU,sgCAwBVC,OAAQ,CAAC,6nBAIRI,EAAAA,oBAYAA,EAAAA,4BAWAA,EAAAA,wBAEAF,EAAAA,UAASjR,KAAA,CAAC,oCAEVoR,EAAAA,eClCQiS,GAAW,WAQlB,OAPAA,GAAWllB,OAAOmlB,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAG9H,EAAI,EAAG+H,EAAIC,UAAUhgB,OAAQgY,EAAI+H,EAAG/H,IAE5C,IAAK,IAAIiI,KADTH,EAAIE,UAAUhI,GACOvd,OAAOE,UAAUulB,eAAehlB,KAAK4kB,EAAGG,KAAIJ,EAAEI,GAAKH,EAAEG,IAE9E,OAAOJ,IAEKM,MAAM3lB,KAAMwlB,YAGhC,SAAAI,GAyB0BC,EAASC,EAAYC,EAAGC,GAC9C,OAAO,IAAKD,IAAMA,EAAIxU,UAAU,SAAUC,EAASC,GAC/C,SAAAwU,EAAmBnd,GAAS,IAAMod,EAAKF,EAAU7iB,KAAK2F,IAAW,MAAO+Z,GAAKpR,EAAOoR,IACpF,SAAAsD,EAAkBrd,GAAS,IAAMod,EAAKF,EAAiB,SAAEld,IAAW,MAAO+Z,GAAKpR,EAAOoR,IACvF,SAAAqD,EAAcE,GAAUA,EAAOC,KAAO7U,EAAQ4U,EAAOtd,OAAS,IAAIid,EAAE,SAAUvU,GAAWA,EAAQ4U,EAAOtd,SAAWjI,KAAKolB,EAAWE,GACnID,GAAMF,EAAYA,EAAUL,MAAME,EAASC,GAAc,KAAK3iB,UAItE,SAAAmjB,GAA4BT,EAASpjB,GACjC,IAAsG8jB,EAAG/C,EAAG6B,EAAGmB,EAA3GC,EAAI,CAAErb,MAAO,EAAGsb,KAAM,WAAa,GAAW,EAAPrB,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOsB,KAAM,GAAIC,IAAK,IAChG,OAAOJ,EAAI,CAAErjB,KAAM0jB,EAAK,GAAIC,QAASD,EAAK,GAAIE,SAAUF,EAAK,IAAwB,mBAAXG,SAA0BR,EAAEQ,OAAOC,UAAY,WAAa,OAAOjnB,OAAUwmB,EACvJ,SAAAK,EAActB,GAAK,OAAO,SAAUllB,GAAK,OACzC,SAAc6mB,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOV,GAAG,IACN,GAAIF,EAAI,EAAG/C,IAAM6B,EAAY,EAAR6B,EAAG,GAAS1D,EAAU,UAAI0D,EAAG,GAAK1D,EAAS,YAAO6B,EAAI7B,EAAU,YAAM6B,EAAE3kB,KAAK8iB,GAAI,GAAKA,EAAErgB,SAAWkiB,EAAIA,EAAE3kB,KAAK8iB,EAAG0D,EAAG,KAAKb,KAAM,OAAOhB,EAE3J,OADI7B,EAAI,EAAG6B,IAAG6B,EAAK,CAAS,EAARA,EAAG,GAAQ7B,EAAEvc,QACzBoe,EAAG,IACP,KAAK,EAAG,KAAK,EAAG7B,EAAI6B,EAAI,MACxB,KAAK,EAAc,OAAXT,EAAErb,QAAgB,CAAEtC,MAAOoe,EAAG,GAAIb,MAAM,GAChD,KAAK,EAAGI,EAAErb,QAASoY,EAAI0D,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKT,EAAEG,IAAIQ,MAAOX,EAAEE,KAAKS,MAAO,SACxC,QACI,KAAkB/B,EAAe,GAA3BA,EAAIoB,EAAEE,MAAYnhB,QAAc6f,EAAEA,EAAE7f,OAAS,MAAkB,IAAV0hB,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAET,EAAI,EAAG,SACjG,GAAc,IAAVS,EAAG,MAAc7B,GAAM6B,EAAG,GAAK7B,EAAE,IAAM6B,EAAG,GAAK7B,EAAE,IAAM,CAAEoB,EAAErb,MAAQ8b,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYT,EAAErb,MAAQia,EAAE,GAAI,CAAEoB,EAAErb,MAAQia,EAAE,GAAIA,EAAI6B,EAAI,MAC7D,GAAI7B,GAAKoB,EAAErb,MAAQia,EAAE,GAAI,CAAEoB,EAAErb,MAAQia,EAAE,GAAIoB,EAAEG,IAAIzV,KAAK+V,GAAK,MACvD7B,EAAE,IAAIoB,EAAEG,IAAIQ,MAChBX,EAAEE,KAAKS,MAAO,SAEtBF,EAAKzkB,EAAK/B,KAAKmlB,EAASY,GAC1B,MAAO5D,GAAKqE,EAAK,CAAC,EAAGrE,GAAIW,EAAI,UAAe+C,EAAIlB,EAAI,EACtD,GAAY,EAAR6B,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEpe,MAAOoe,EAAG,GAAKA,EAAG,QAAK,EAAQb,MAAM,GArB9BH,CAAK,CAACX,EAAGllB,MAyB7D,SAAAgnB,GAeuBC,EAAG/B,GACtB,IAAIgC,EAAsB,mBAAXP,QAAyBM,EAAEN,OAAOC,UACjD,IAAKM,EAAG,OAAOD,EACf,IAAmBxE,EAAYD,EAA3BrF,EAAI+J,EAAE7mB,KAAK4mB,GAAOE,EAAK,GAC3B,IACI,WAAc,IAANjC,GAAsB,EAANA,QAAczC,EAAItF,EAAEra,QAAQkjB,MAAMmB,EAAGrW,KAAK2R,EAAEha,OAExE,MAAOzH,GAASwhB,EAAI,CAAExhB,MAAOA,WAEzB,IACQyhB,IAAMA,EAAEuD,OAASkB,EAAI/J,EAAU,YAAI+J,EAAE7mB,KAAK8c,WAExC,GAAIqF,EAAG,MAAMA,EAAExhB,OAE7B,OAAOmmB,EAGX,SAAAC,KACI,IAAK,IAAID,EAAK,GAAIhK,EAAI,EAAGA,EAAIgI,UAAUhgB,OAAQgY,IAC3CgK,EAAKA,EAAGE,OAAOL,GAAO7B,UAAUhI,KACpC,OAAOgK,EC9HX,IAAMld,GAAO,aAGAqd,GAAyC,CACpDnd,QAASC,EAAAA,kBACTC,YAAaC,EAAAA,WAAW,WAAM,OAAAid,KAC9B/c,OAAO,iBAgEP,SAAA+c,EAAoB9c,GAAA9K,KAAA8K,QAAAA,kBA5BW,cAQb,IAAII,EAAAA,2BAED,IAAIA,EAAAA,2BAEJ,IAAIA,EAAAA,oCAYeZ,yBAEKA,UAO7CrK,OAAAC,eAAI0nB,EAAAznB,UAAA,QAAK,KAMT,WACE,OAAOH,KAAKoM,gBAPd,SAAU/L,GACJA,IAAML,KAAKoM,aACbpM,KAAKoM,WAAa/L,EAClBL,KAAKsM,iBAAiBjM,qCAO1BunB,EAAAznB,UAAAgN,iBAAA,SAAiBC,GACfpN,KAAKsM,iBAAmBc,GAG1Bwa,EAAAznB,UAAAkN,kBAAA,SAAkBD,GAChBpN,KAAKsN,kBAAoBF,GAG3Bwa,EAAAznB,UAAAoN,eAAA,SAAeC,GACbxN,KAAK8I,MAAQ0E,EAAM9J,YAGrBkkB,EAAAznB,UAAAsN,WAAA,SAAWpN,GACTL,KAAK8I,MAAQzI,GAIfunB,EAAAznB,UAAA0nB,aAAA,SAAara,GACX,IAAK,IAAI+V,EAAI,EAAGA,EAAI/V,EAAMkQ,OAAOzX,MAAMT,OAAQ+d,IAC7CvjB,KAAK8nB,WAAWta,EAAMkQ,OAAOzX,MAAMsd,GAAIA,IAI3CqE,EAAAznB,UAAA4nB,kBAAA,WACE/nB,KAAKgoB,UAAUtZ,cAAcuZ,SAG/BL,EAAAznB,UAAA+nB,mBAAA,SAAmBC,GAEjB,IAAIvM,EAEJ,OAAQuM,EAASrf,OACf,KAAK,EACH8S,EAAO,SACP,MACF,KAAK,IACHA,EAAO,gBACP,MACF,QACEA,EAAO,cAIX,OAAOA,GAITgM,EAAAznB,UAAAioB,4BAAA,SAA4BD,GAG1B,MADuB,WADVnoB,KAAKkoB,mBAAmBC,GACH,EAAIA,EAASrf,OAIzC8e,EAAAznB,UAAA2nB,oBAAW7e,EAAMC,cACvB,GAAID,EAAM,CACR,IAAMof,EAA2B,CAC/BC,UAAWpf,EACXqf,SAAUtf,EAAKI,KACfP,MAAO,GAET9I,KAAKwoB,WAAWrX,KAAKkX,GACrBroB,KAAK8K,QAAQ9E,OAAOhG,KAAKoC,SAAU,CAAC6G,IACnClG,KACCkE,EAAAA,WAAW,SAAA5F,GAKT,OAJFN,QAAQC,IAAI,aAAcK,GACxBgnB,EAAShnB,MAAQA,EAAMkC,QACvBhD,EAAKc,MAAM+M,KAAK,4BAChB7N,EAAKkoB,kBACErlB,EAAAA,WAAW/B,EAAMkC,YAG3ByG,UAAU,SAAAwD,GACT,GAAIA,EAAM5L,OAAS8mB,EAAAA,cAAcC,eAAgB,CAC/C,IAAMC,EAAc5jB,KAAK6jB,MAAO,IAAMrb,EAAMsb,OAAUtb,EAAMub,OAC5DV,EAASvf,MAAwB,MAAhB8f,EAAsBA,EAAcI,WAAWJ,EAAYK,QAAQ,SAC3Ezb,aAAiB0b,EAAAA,eAC1Bb,EAASvf,MAAQ,IACjBuf,EAASpf,KAAOuE,EAAM/K,KACtBlC,EAAKkoB,mBAEPloB,EAAK4nB,SAAS/Z,KAAK7N,EAAKioB,gBAKtBZ,EAAAznB,UAAAsoB,2BAEiBzoB,KAAKwoB,WAAW/gB,OAAO,SAAC0gB,GAC7C,OAAOA,EAASrf,MAAQ,MAGNtD,SAClBxF,KAAKmpB,oBACLnpB,KAAKopB,iBACLppB,KAAKqpB,oBAIDzB,EAAAznB,UAAAipB,0BACNppB,KAAKgoB,UAAUtZ,cAAc5F,MAAQ,IAG/B8e,EAAAznB,UAAAkpB,2BACNrpB,KAAKwoB,WAAa,IAGZZ,EAAAznB,UAAAgpB,6BACN,IAAMljB,EAAQjG,KAAKwoB,WAAW/f,IAAI,SAAC6gB,GACjC,OAAOA,EAAergB,OAExBjJ,KAAK8I,MAAK2e,GAAOxhB,GACjBjG,KAAK0e,SAAStQ,KAAKpO,KAAK8I,4BA3L3B4J,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,aACVC,SAAU,+2BA0BVC,OAAQ,CAAC,uHACTC,UAAW,CAAC6U,iDAhDL5lB,uCAsDNkR,EAAAA,wBAEAA,EAAAA,wBAEAA,EAAAA,qBAEAC,EAAAA,yBAEAA,EAAAA,yBAEAA,EAAAA,0BAEAH,EAAAA,UAASjR,KAAA,CAAC,qBCnEbynB,GAAA,oDAKCnW,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAkW,EAAAA,sBAEF1V,aAAc,CACZ8T,IAEF7T,QAAS,CACP6T,UAdJ,GCAA6B,GAAA,oDAUCrW,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACA8O,GACAzI,EAAAA,iBACAhG,EAAAA,cACAkG,EAAAA,gBACA0P,GACA7V,EAAAA,gBACAE,EAAAA,aAEFE,aAAc,CACZuO,IAEFtO,QAAS,CACPsO,UAzBJ,GCAAqH,GAAA,oDAWCtW,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACA8O,GACAvI,EAAAA,gBACAlG,EAAAA,cACAgW,EAAAA,kBACAF,GACA9P,EAAAA,kBAEF7F,aAAc,CACZwJ,IAEFvJ,QAAS,CACPuJ,UAzBJ,GCAAsM,GAAA,WA4FE,SAAAA,cApBiB,IAAI1e,EAAAA,yBAEF,IAAIA,EAAAA,mCAQL,sBAID,UArCjBjL,OAAAC,eACI0pB,EAAAzpB,UAAA,YAAS,KAMb,WACE,OAAOH,KAAK6pB,gBARd,SACcxpB,GACRA,IACFL,KAAK6pB,WAAaxpB,oCAQtBJ,OAAAC,eACI0pB,EAAAzpB,UAAA,SAAM,KAOV,WACE,OAAOH,KAAK8pB,aATd,SACWzpB,GACLA,IACFL,KAAK8pB,QAAUzpB,EACfL,KAAK+pB,eAAe5Y,KAAKnR,KAAK8pB,2CA8BlCF,EAAAzpB,UAAAkY,SAAA,aAGAuR,EAAAzpB,UAAA6pB,OAAA,WACE,IAAMC,EAAU,CACdC,YAAa,GACb3lB,GAAIvE,KAAKmqB,SACTC,aAAcpqB,KAAKoqB,aACnBC,WAAYrqB,KAAKsqB,WAAWC,OAC5BC,cAAexqB,KAAKyqB,cAAcF,QAEpCxpB,QAAQC,IAAIipB,GACZjqB,KAAK0qB,KAAKtc,KAAK6b,IAGjBL,EAAAzpB,UAAAwqB,UAAA,SAAUnd,GACRxN,KAAK4qB,iBAAkB,EACvB5qB,KAAK6qB,aAAerd,EAAMjJ,IAG5BqlB,EAAAzpB,UAAA2qB,cAAA,SAAcjd,GACZ7N,KAAK4qB,iBAAkB,GAGzBhB,EAAAzpB,UAAA4qB,SAAA,WACE/qB,KAAKgrB,OAAO5c,4BApHfsE,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,gBACVC,SAAU,y3DAwCVC,OAAQ,CAAC,mVAIRI,EAAAA,sBAWAA,EAAAA,oBAYAC,EAAAA,uBAEAA,EAAAA,yBAKAD,EAAAA,0BASAF,EAAAA,UAASjR,KAAA,CAAC,qCAEViR,EAAAA,UAASjR,KAAA,CAAC,sBA1Fb,GCAAmpB,GAAA,WAgDE,SAAAA,YAzBAhrB,OAAAC,eACI+qB,EAAA9qB,UAAA,UAAO,KAMX,WACE,OAAOH,KAAKkrB,cARd,SACY7qB,GACNA,IACFL,KAAKkrB,SAAW7qB,oCAQpBJ,OAAAC,eACI+qB,EAAA9qB,UAAA,WAAQ,KAMZ,WACE,OAAOH,KAAKmrB,eARd,SACa9qB,GACPA,IACFL,KAAKmrB,UAAY9qB,oCAarB4qB,EAAA9qB,UAAAkY,SAAA,aAGA4S,EAAA9qB,UAAAirB,SAAA,SAASC,GACP,IAAIC,EAAW,YAYf,OAVmC,IAA/BD,EAAQnB,YAAY1kB,OACtB8lB,GAAY,cAEZA,GAAY,eAGVD,EAAQE,kBACVD,GAAY,WAGPA,uBAhEV5Y,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,ovBAeVC,OAAQ,CAAC,6kkBAIRI,EAAAA,wBAWAA,EAAAA,WAlCH,GCAAuY,GAAA,oDAOCpY,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACAE,EAAAA,gBACAlG,EAAAA,eAEFG,aAAc,CACZmX,IAEFlX,QAAS,CACPkX,UAlBJ,GCGAQ,GAKE,SAAYxiB,EAAsByiB,EAAsBC,GACtD3rB,KAAKiJ,KAAOA,GAAQ,GACpBjJ,KAAK0rB,SAAWA,GAAY,GAC5B1rB,KAAK2rB,UAAYA,GAAa,ICXlCC,GAOE,SAAYC,QAAA,IAAAA,IAAAA,EAAA,IACV7rB,KAAKkqB,YAAc2B,EAAK3B,aAAe,GACvClqB,KAAKqrB,QAAUQ,EAAKR,SAAWnpB,UAC/BlC,KAAK8rB,QAAUD,EAAKC,SAAW5pB,UAC/BlC,KAAKuE,GAAKsnB,EAAKtnB,IAAMrC,UACrBlC,KAAK+rB,YAAcF,EAAKE,aAAe,kBCDzC,SAAAC,EAAoBC,GAAAjsB,KAAAisB,OAAAA,mCAHU,mDACR,UAIfD,EAAA7rB,UAAA+rB,+BAAsBJ,GAE3B,IAAMK,EAAc,CAClBC,SAAUpsB,KAAKqsB,WAAWrsB,KAAKisB,OAAOhiB,KAAKqiB,OAO7C,OAJIR,IACFK,EAAqB,QAAIL,EAAQpoB,YAG5B1D,KAAKisB,OAAOtrB,IAAIX,KAAKusB,4BAA6BJ,GAAavrB,aAGjEorB,EAAA7rB,UAAAqsB,qCAA4Bd,cAC3Be,EAAkBf,EAASgB,OAAO,SAAC5J,EAAGziB,EAAGmd,EAAGmP,EAAGC,GAAkB,YAAlB,IAAAA,IAAAA,EAAIvsB,EAAEyrB,UAAchJ,EAAE8J,KAAO9J,EAAE8J,GAAK,KAAKzb,KAAK9Q,GAAIyiB,GAAI,IAY3G,OAVA7iB,OAAOsB,KAAKkrB,GAAiBzjB,QAAQ,SAAMuL,uGAC5B,MAAA,CAAA,EAAMvU,KAAKksB,uBAAuB3X,kBAAzCsY,EAAOC,EAAApG,OACb1mB,KAAK+sB,aAAeF,EAAU,IAE9BJ,EAAgBlY,GAAKvL,QAAQ,SAAAqiB,GAC3BA,EAAQU,YAAcxrB,EAAKysB,eAAe3B,EAAQA,sBAK/CK,GAIDM,EAAA7rB,UAAA6sB,wBAAe3B,GAErB,IAAKA,EACH,MAAO,GAGT,IAAI4B,EAAOjtB,KAAK+sB,aACZ3G,EAAS,GAUb,OARAiF,EAAQ5hB,MAAM,IAAIT,QAAQ,SAAAkkB,GACpBD,EAAKC,GAAMC,IACbF,EAAOA,EAAKC,GAAMC,IAElB/G,EAAS6G,EAAKC,GAAMnB,cAIjB3F,GAGD4F,EAAA7rB,UAAAksB,oBAAWC,GACjB,OAAQA,GACN,IAAK,QACH,MAAO,QACT,QACE,MAAO,2BA/Dd7qB,EAAAA,sDAJQM,wBCyEP,SAAAqrB,EAAoBC,EACXC,EACyBC,GAFdvtB,KAAAqtB,wBAAAA,EACXrtB,KAAAstB,UAAAA,EACyBttB,KAAAutB,YAAAA,mBATF,2BACO,+BAGd,oBACO,GAK9BvtB,KAAKksB,+BAGDkB,EAAAjtB,UAAA+rB,sBAAN,iHAGiB,6BADPJ,EAAU9rB,KAAKutB,YAAcvtB,KAAKutB,YAAYzB,QAAU,KACjD,CAAA,EAAM9rB,KAAKqtB,wBAAwBnB,sBAAsBJ,WAMtE,GANMe,EAAOC,EAAApG,OAEb1mB,KAAKwtB,SAAWX,EAAKf,QACrB9rB,KAAKytB,YAAcztB,KAAK0tB,YAAYb,EAAKM,KACzCntB,KAAK2tB,mBAAkBlG,GAAOznB,KAAKytB,aAE/BztB,KAAKutB,YAEP,IADQlC,EAAYrrB,KAAKutB,YAAWlC,QAC3B7N,EAAI,EAAGA,EAAI6N,EAAQ7lB,OAAQgY,IAClCxd,KAAK4tB,aAAavC,EAAQwC,OAAOrQ,uBAIrC,sCAIJ4P,EAAAjtB,UAAA2tB,gBAAA,WACE9tB,KAAK+tB,uBAAyB/tB,KAAK+tB,uBAAuB7oB,MAAM,GAAI,GAEhElF,KAAK+tB,wBACP/tB,KAAKguB,YAAchuB,KAAKguB,YAAY9oB,MAAM,GAAI,GAC9ClF,KAAK2tB,mBAAkBlG,GAAOznB,KAAKguB,YAAYhuB,KAAKguB,YAAYxoB,OAAS,GAAG2nB,OAE5EntB,KAAK2tB,mBAAkBlG,GAAOznB,KAAKytB,aACnCztB,KAAKguB,YAAc,KAIvBZ,EAAAjtB,UAAA8tB,cAAA,SAAczgB,GACZA,EAAM0gB,iBAEF1gB,EAAM2gB,UAAYC,EAAAA,WACpBpuB,KAAK4tB,aAAapgB,EAAM+G,IAAI8Z,sBAIhCjB,EAAAjtB,UAAAytB,aAAA,SAAarZ,GACX,GAAIvU,KAAK2tB,mBAAoB,CAC3B,IAAMW,EAAiBtuB,KAAK2tB,mBAAmB7hB,KAAK,SAAAJ,GAAU,OAAAA,EAAO6I,MAAQA,IAEzE+Z,IACFtuB,KAAK+tB,wBAA0BxZ,EAC/BvU,KAAK2tB,mBAAqBW,EAAoB,IAC9CtuB,KAAKguB,YAAY7c,KAAIgU,GAAA,GAAMmJ,OAKjClB,EAAAjtB,UAAAouB,qBAAA,WACE,OAAiC,EAA1BvuB,KAAKguB,YAAYxoB,QAAcxF,KAAKguB,YAAYhuB,KAAKguB,YAAYxoB,OAAS,GAAgB,aAGnG4nB,EAAAjtB,UAAAquB,QAAA,WACExuB,KAAKstB,UAAUmB,MAAM,CAAE3C,QAAS9rB,KAAKwtB,SAAUnC,QAASrrB,KAAK+tB,uBAAwBhC,YAAa/rB,KAAKuuB,0BAGjGnB,EAAAjtB,UAAAutB,qBAAYprB,cACZosB,EAA4B,GAUlC,OARAzuB,OAAOsB,KAAKe,GAAS0G,QAAQ,SAAAuL,GACvBjS,EAAQiS,GAAU,MACpBjS,EAAQiS,GAAU,IAAIhU,EAAKmtB,YAAYprB,EAAQiS,GAAU,MAE3DjS,EAAQiS,GAAU,IAAIA,EACtBma,EAAmBvd,KAAK7O,EAAQiS,MAG3Bma,uBAhJVhc,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,qBACVC,SAAU,ggEAsDVC,OAAQ,CAAC,utkBA7DFmZ,UAEA2C,EAAAA,gDAwEJ9sB,EAAAA,OAAMC,KAAA,CAAC8sB,EAAAA,yCCFV,SAAAC,EAAoBC,EAA6BC,EAA2B1B,GAA5E,IAAA9sB,EAAAP,KAAoBA,KAAA8uB,SAAAA,EAA6B9uB,KAAA+uB,OAAAA,EAA2B/uB,KAAAqtB,wBAAAA,cAjDlD,IAAI5B,oBAMR,gBAEF,YAgBH,IAAIvgB,EAAAA,8BACG,IAAIA,EAAAA,+BASa,IAAIyV,0BAkQpB,SAAC0K,GACxB,IAAM2D,EAAOzuB,EAAKuuB,SAAShN,cAAc,QACzCkN,EAAKC,UAAe5D,EAAQA,QAAO,MAAMA,EAAQU,YACjD,IAAMmD,EAAa3uB,EAAKuuB,SAAShN,cAAc,OAC/CoN,EAAWvR,UAAY,gBACvBuR,EAAW7N,MAAM8N,SAAiC,IAAtB5uB,EAAK6uB,SAAS9O,MAAc,QAAU,oBAClE4O,EAAWG,YAAYL,GACvBzuB,EAAK+uB,eAAe1K,cAAcyK,YAAYH,WA/RhDjvB,OAAAC,eACI2uB,EAAA1uB,UAAA,SAAM,KAMV,WACE,OAAOH,KAAKuvB,aARd,SACWzmB,GACLA,IAAU9I,KAAKuvB,UACjBvvB,KAAKuvB,QAAUzmB,EACf9I,KAAKwvB,qDA2BTX,EAAA1uB,UAAAsvB,SADA,WAEEzvB,KAAK0vB,cAAc1vB,KAAKovB,SAAS/O,aACjCrgB,KAAK2vB,eAAe3vB,KAAKovB,SAAS9O,OAClCtgB,KAAK4vB,eAKPf,EAAA1uB,UAAA0vB,mBAAA,WACO7vB,KAAK8vB,aAAuE,IAAxD9vB,KAAK4hB,OAAOlT,cAAckW,cAAcvE,cAC/DrgB,KAAK4vB,cACL5vB,KAAK+vB,oBACL/vB,KAAKgwB,mBACLhwB,KAAK8vB,aAAc,IAIfjB,EAAA1uB,UAAAyvB,kCACN5vB,KAAKovB,SAAWpvB,KAAK4hB,OAAOlT,cAC5B1O,KAAK0vB,cAAc1vB,KAAKovB,SAAS/O,aACjCrgB,KAAKiwB,IAAMjwB,KAAKovB,SAASrN,WAAW,MACpC/hB,KAAKkwB,aAAarP,OAAS,WACzBtgB,EAAK0vB,IAAIE,UAAU,EAAG,EAAG5vB,EAAK6uB,SAAS9O,MAAO/f,EAAK6uB,SAAS7O,QAC5DhgB,EAAK0vB,IAAIvF,OACTnqB,EAAK0vB,IAAIG,UAAU7vB,EAAK8vB,aAAa9M,EAAGhjB,EAAK8vB,aAAa7M,GAC1DjjB,EAAK0vB,IAAIK,MAAM/vB,EAAKgwB,UAAWhwB,EAAKgwB,WACpChwB,EAAK0vB,IAAIjO,UAAUzhB,EAAK2vB,cAAe3vB,EAAK8vB,aAAa9M,GAAIhjB,EAAK8vB,aAAa7M,EAAGjjB,EAAK6uB,SAAS9O,MAAO/f,EAAK6uB,SAAS7O,QACrHhgB,EAAK0vB,IAAIO,UACTjwB,EAAKkwB,aAEP1vB,QAAQC,IAAI,QAAShB,KAAKuqB,QAC1BvqB,KAAKkwB,aAAahP,IAAMlhB,KAAKuqB,OAAOthB,KAAK8U,SAGnC8Q,EAAA1uB,UAAA4vB,6BACN/vB,KAAKsvB,eAAiBtvB,KAAK0wB,aAAahiB,cACxC1O,KAAK2vB,eAAe3vB,KAAKovB,SAAS9O,OAClCtgB,KAAKwvB,oBAGCX,EAAA1uB,UAAAwwB,4BAAmBtF,GACzBrrB,KAAKuqB,OAAOmB,SAASva,KAAKka,IAGpBwD,EAAA1uB,UAAA6vB,uCACAY,EAAUC,EAAAA,UAAU7wB,KAAKsvB,eAAgB,WAC/CsB,EAAQ5mB,UAAU,SAACwD,GACjB,IAAMkQ,EAASlQ,EAA8B,OAC7C,GAAIjN,EAAKuwB,OAAQ,CACf,IAAMC,EAAI/rB,KAAK6jB,MAAQtoB,EAAKywB,OAASzwB,EAAK+uB,eAAe7K,aAAgB,IAAO,KAAO,IACjFwM,EAAIjsB,KAAK6jB,MAAQtoB,EAAK2wB,OAAS3wB,EAAK+uB,eAAejP,YAAe,IAAO,KAAO,IAChF8Q,EAAKnsB,KAAK6jB,MAAQrb,EAAMkW,QAAUnjB,EAAK+uB,eAAe7K,aAAgB,IAAO,KAAO,IACpF2M,EAAKpsB,KAAK6jB,MAAQrb,EAAMoW,QAAUrjB,EAAK+uB,eAAejP,YAAe,IAAO,KAAO,IACnFgR,EAAQ9wB,EAAKgqB,OAAOmB,SAASlmB,OAAS,EAC5C,GAAIjF,EAAK+wB,WAAY,CAGnB,GAFA/wB,EAAKgxB,kBAAkBhxB,EAAK+uB,eAAekC,iBAAiB,eAC5DjxB,EAAKkxB,eAAc,GACflxB,EAAKmxB,WAAY,CACnB,IAAMrG,EAAU,IAAIO,GAAQ,CAC1B1B,YAAa,CAAC6G,EAAGE,EAAGE,EAAIC,GACxB7sB,GAAIhE,EAAKmxB,WAAanxB,EAAKoxB,cAAgBN,IAM7C,OAJA9wB,EAAKowB,mBAAmBtF,GACxB9qB,EAAKqxB,gBAAgB,CAACb,EAAGE,EAAGE,EAAIC,GAAK/F,EAAQ9mB,IAC7ChE,EAAKsxB,mBACLtxB,EAAKuxB,YAAY1jB,MAAK,GAGN7N,EAAKwuB,OAAOgD,KAAK3E,IACzB4E,cAAchoB,UAAU,SAAAoc,GAChC,GAAIA,EAAQ,CACV,IAAMiF,EAAU,IAAIO,GAAQ,CAC1B1B,YAAa,CAAC6G,EAAGE,EAAGE,EAAIC,GACxB/F,QAASjF,EAAOiF,QAChBU,YAAa3F,EAAO2F,YACpBxnB,GAAI8sB,IAEN9wB,EAAKowB,mBAAmBtF,GACxB9qB,EAAKqxB,gBAAgB,CAACb,EAAGE,EAAGE,EAAIC,GAAK/F,EAAQ9mB,IAC7ChE,EAAKsxB,sBAIT,IAAKnU,EAAO6D,UAAU0Q,SAAS,eAAiBvU,EAAO6D,UAAU0Q,SAAS,eAAgB,CACxF,GAAI1xB,EAAKmxB,WAAY,CACbrG,EAAU,IAAIO,GAAQ,CAC1B1B,YAAa,CAAC6G,EAAGE,GACjB1sB,GAAIhE,EAAKmxB,WAAanxB,EAAKoxB,cAAgBN,IAK7C,OAHA9wB,EAAKowB,mBAAmBtF,GACxB9qB,EAAK2xB,eAAe,CAACnB,EAAGE,GAAI5F,EAAQ9mB,SACpChE,EAAKuxB,YAAY1jB,MAAK,GAGN7N,EAAKwuB,OAAOgD,KAAK3E,IACzB4E,cAAchoB,UAAU,SAAAoc,GAChC,GAAIA,EAAQ,CACV,IAAMiF,EAAU,IAAIO,GAAQ,CAC1B1B,YAAa,CAAC6G,EAAGE,GACjB5F,QAASjF,EAAOiF,QAChBU,YAAa3F,EAAO2F,YACpBxnB,GAAI8sB,IAEN9wB,EAAKowB,mBAAmBtF,GACxB9qB,EAAK2xB,eAAe,CAACnB,EAAGE,GAAI5F,EAAQ9mB,WAQhD,IAAM4tB,EAAatB,EAAAA,UAAU7wB,KAAKsvB,eAAgB,cAClD6C,EAAWnoB,UAAU,SAACwD,GACpBjN,EAAKivB,mBACDjvB,EAAKuwB,SACPvwB,EAAKkxB,eAAc,GACnBlxB,EAAKsxB,iBAIThB,EAAAA,UAAU7wB,KAAKsvB,eAAgB,aAAavsB,KAC1CyP,EAAAA,UAAU,SAAChF,GAGT,OAFAjN,EAAKywB,OAASxjB,EAAMkW,QACpBnjB,EAAK2wB,OAAS1jB,EAAMoW,QACbiN,EAAAA,UAAUtwB,EAAK+uB,eAAgB,aAAavsB,KACjDqvB,EAAAA,UAAUxB,GACVwB,EAAAA,UAAUD,OAGdnoB,UAAU,SAACwD,GACX,GAAIjN,EAAKuwB,OAAQ,CACfvwB,EAAKkxB,eAAc,GACnBlxB,EAAK8xB,mBAAmB9xB,EAAK+uB,eAAekC,iBAAiB,eAC7DjxB,EAAKsxB,cACL,IAAMS,EAAS/xB,EAAKuuB,SAAShN,cAAc,OAC3CwQ,EAAO/tB,GAAK,aACZhE,EAAKgyB,oBAAoBD,GACzBA,EAAOjR,MAAM8B,IAAM5iB,EAAK2wB,OAAS1jB,EAAMoW,QAAapW,EAAMoW,QAAO,KAAUrjB,EAAK2wB,OAAM,KACtFoB,EAAOjR,MAAM4B,KAAO1iB,EAAKywB,OAASxjB,EAAMkW,QAAalW,EAAMkW,QAAO,KAAUnjB,EAAKywB,OAAM,KACvFsB,EAAOjR,MAAMf,MAAWtb,KAAKwtB,IAAIjyB,EAAKywB,OAASxjB,EAAMkW,SAAQ,KAC7D4O,EAAOjR,MAAMd,OAAYvb,KAAKwtB,IAAIjyB,EAAK2wB,OAAS1jB,EAAMoW,SAAQ,KAC9DrjB,EAAK+uB,eAAeD,YAAYiD,OAK9BzD,EAAA1uB,UAAAwxB,uBACN,OAAU3xB,KAAKmqB,SAAQ,IAAInqB,KAAKyyB,aAG1B5D,EAAA1uB,UAAAuvB,uBAAcgD,GACpB1yB,KAAKovB,SAAS9O,MAAQoS,EACtB1yB,KAAKovB,SAAS7O,OAASmS,GAGjB7D,EAAA1uB,UAAAqvB,4BACFxvB,KAAKsvB,iBACHtvB,KAAK8wB,OACP9wB,KAAKsvB,eAAejO,MAAMsR,OAAS,YAEnC3yB,KAAKsvB,eAAejO,MAAMsR,OAAS,YAKjC9D,EAAA1uB,UAAAwvB,wBAAe+C,GACrB1yB,KAAKsvB,eAAejO,MAAMf,MAAWoS,EAAI,KACzC1yB,KAAKsvB,eAAejO,MAAMd,OAAYmS,EAAI,MAGpC7D,EAAA1uB,UAAAsxB,uBAAcmB,GACpB5yB,KAAKsxB,WAAasB,GAGZ/D,EAAA1uB,UAAAoxB,2BAAkBsB,GACxBjqB,MAAMkqB,KAAKD,GAAU7pB,QAAQ,SAACmW,GAC5BA,EAAQkC,MAAM0R,cAAgB,SAI1BlE,EAAA1uB,UAAAkyB,4BAAmBQ,GACzBjqB,MAAMkqB,KAAKD,GAAU7pB,QAAQ,SAACmW,GAC5BA,EAAQkC,MAAM0R,cAAgB,UAI1BlE,EAAA1uB,UAAA+xB,wBAAehI,EAAuBhhB,cAC5C4jB,EAAAzF,GAAA6C,EAAA,GAAO3G,EAAAuJ,EAAA,GAAGtJ,EAAAsJ,EAAA,GACJkG,EAAMhzB,KAAK8uB,SAAShN,cAAc,OAMxC,GALAkR,EAAI/D,UAAYjvB,KAAK0xB,WAAaxoB,EAAWlJ,KAAKmqB,SAAQ,IAAIjhB,EAC9D8pB,EAAIrV,UAAY,YAChBqV,EAAI3R,MAAM8B,IAAM,QAAQK,EAAC,YACzBwP,EAAI3R,MAAM4B,KAAO,QAAQM,EAAC,YAC1BvjB,KAAKsvB,eAAeD,YAAY2D,IAC3BhzB,KAAK0xB,WAAY,CACpB,IAAMuB,EAAOjzB,KAAK8uB,SAAShN,cAAc,OACzCmR,EAAKtV,UAAY,cACjBsV,EAAKhE,UAAY,IACjB+D,EAAI3D,YAAY4D,GAChB,IAAMC,EAAUlzB,KAAKuqB,OAAOmB,SAAS5f,KAAK,SAAAqnB,GAAK,OAAAA,EAAE5uB,KAAO2E,IACxD8pB,EAAII,iBAAiB,QAAS,SAAC5lB,GACdA,EAA8B,OAClC+T,UAAU0Q,SAAS,eAC5B1xB,EAAK8yB,QAAQH,GAEb3yB,EAAK+yB,mBAAmBJ,KAG5BF,EAAII,iBAAiB,YAAa,WAAM,OAAA7yB,EAAKgzB,eAAeL,KAC5DF,EAAII,iBAAiB,WAAYpzB,KAAKwzB,mBAExC,OAAOR,GAGTnE,EAAA1uB,UAAAkzB,QAAA,SAAQhI,GACNrrB,KAAKizB,KAAK7kB,KAAKid,IAGTwD,EAAA1uB,UAAAmzB,4BAAmBjI,GACPrrB,KAAK+uB,OAAOgD,KAAK3E,GAA2B,CAAEvB,KAAM,CAAER,QAASA,EAAQA,QAASS,QAAST,EAAQS,WACzGkG,cAAchoB,UAAU,SAAAoc,GAC5BA,IACFiF,EAAQA,QAAUjF,EAAOiF,QACzBA,EAAQU,YAAc3F,EAAO2F,gBAK3B8C,EAAA1uB,UAAAyxB,yBAAgB1H,EAAuBhhB,GAC7C,IAAA4jB,EAAAzF,GAAA6C,EAAA,GAAO3G,EAAAuJ,EAAA,GAAGtJ,EAAAsJ,EAAA,GAAG2G,EAAA3G,EAAA,GAAI4G,EAAA5G,EAAA,GACXwF,EAAStyB,KAAK8uB,SAAShN,cAAc,OAC3CwQ,EAAO3U,UAAY,aACnB3d,KAAKuyB,oBAAoBD,GACzBA,EAAOjR,MAAMf,MAAWtb,KAAKwtB,IAAIjP,EAAIkQ,GAAG,IACxCnB,EAAOjR,MAAMd,OAAYvb,KAAKwtB,IAAIhP,EAAIkQ,GAAG,IACzCpB,EAAOjR,MAAM8B,KAAcK,EAALkQ,EAASlQ,EAAIkQ,GAAE,IACrCpB,EAAOjR,MAAM4B,MAAeM,EAALkQ,EAASlQ,EAAIkQ,GAAE,IACtC,IAAMvW,EAAQld,KAAKkyB,eAAe,CAAC,EAAG,GAAIhpB,GAC1CopB,EAAOjD,YAAYnS,GACnBld,KAAKsvB,eAAeD,YAAYiD,IAG1BzD,EAAA1uB,UAAA0xB,uBACFhQ,SAAS8R,eAAe,eAC1B9R,SAAS8R,eAAe,cAAcrkB,UAclCuf,EAAA1uB,UAAAqzB,6BACN,IAAMI,EAAc/R,SAASgS,uBAAuB,iBAAiB,GACjED,GACFA,EAAYhP,cAAckP,YAAYF,IAIlC/E,EAAA1uB,UAAAswB,gCACNzwB,KAAK+zB,aACL/zB,KAAKqtB,wBAAwBb,4BAA4BxsB,KAAKuqB,OAAOmB,UACjE1rB,KAAKuqB,OAAOmB,UAA0C,EAA9B1rB,KAAKuqB,OAAOmB,SAASlmB,QAC/CxF,KAAKuqB,OAAOmB,SAAS1iB,QAAQ,SAACqiB,GACK,EAA7BA,EAAQnB,YAAY1kB,OACtBjF,EAAKqxB,gBAAgBvG,EAAQnB,YAAamB,EAAQ9mB,IAElDhE,EAAK2xB,eAAe7G,EAAQnB,YAAamB,EAAQ9mB,OAMjDsqB,EAAA1uB,UAAA4zB,sBAIN,IAHA,IAAMC,EAAgBh0B,KAAKsvB,eAAeuE,uBAAuB,aAC3DI,EAAiBj0B,KAAKsvB,eAAeuE,uBAAuB,cAC5DK,EAAmBl0B,KAAKsvB,eAAeuE,uBAAuB,iBAC7DG,EAAc,IACnBA,EAAc,GAAGG,WAAWL,YAAYE,EAAc,IAExD,KAAOC,EAAe,IACpBA,EAAe,GAAGE,WAAWL,YAAYG,EAAe,IAE1D,KAAOC,EAAiB,IACtBA,EAAiB,GAAGC,WAAWL,YAAYI,EAAiB,KAIxDrF,EAAA1uB,UAAAi0B,oBAAW/I,GACjBrrB,KAAKuqB,OAAOmB,SAASnc,OAAOvP,KAAKuqB,OAAOmB,SAASlqB,QAAQ6pB,GAAU,GACnErrB,KAAKuqB,OAAOmB,SAAS1iB,QAAQ,SAAAmqB,GACvBA,EAAE5uB,GAAK8mB,EAAQ9mB,IACjB4uB,EAAE5uB,OAGNvE,KAAKwzB,oBACLxzB,KAAKywB,aAGC5B,EAAA1uB,UAAAoyB,6BAAoBD,GACtBtyB,KAAK0xB,aACPY,EAAOjR,MAAMgT,YAAc,+BA1WhC3hB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,YACVC,SAAU,yHAKVC,OAAQ,CAAC,+9CArBqDyhB,EAAAA,iBAMvDC,EAAAA,iBADAvI,sCAoBN/Y,EAAAA,yBAEAA,EAAAA,4BAEAA,EAAAA,0BAEAA,EAAAA,wBAEAA,EAAAA,2BAEAA,EAAAA,sBAEAA,EAAAA,oBAYAC,EAAAA,4BACAA,EAAAA,uBAEAH,EAAAA,UAASjR,KAAA,CAAC,gCAIViR,EAAAA,UAASjR,KAAA,CAAC,kCAWV0yB,EAAAA,aAAY1yB,KAAA,CAAC,yBCnEhB2yB,GAAA,oDASCrhB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACA+a,EAAAA,gBACAhhB,EAAAA,gBACAD,EAAAA,eACAG,EAAAA,YACAD,EAAAA,cACAkG,EAAAA,iBAEF/F,aAAc,CAACsZ,IACfuH,gBAAiB,CAACvH,IAClBta,UAAW,CAACkZ,UAtBd,GCAA4I,GAAA,oDAOCxhB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACA+a,EAAAA,gBACAD,IAEF3gB,aAAc,CACZ+a,IAEF9a,QAAS,CACP8a,UAlBJ,GCAAgG,GAAA,WA+BE,SAAAA,YAEAA,EAAA10B,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEoP,WAAW,WACT,IACE7O,EAAKu0B,KAAOv0B,EAAKw0B,YAAYrmB,cAAcsmB,YAC3C,MAAO3zB,MACR,wBApCNqR,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,WACVC,SAAU,+bAiBVC,OAAQ,CAAC,6TAMRI,EAAAA,2BAEAF,EAAAA,UAASjR,KAAA,CAAC,aA7Bb,GCAAmzB,GAAA,WAcE,SAAAA,EAAoBC,GAAAl1B,KAAAk1B,gBAAAA,EAClBl1B,KAAKk1B,gBAAgBC,uBAAuB,MAAO,iCAVtD/hB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAK,EAAAA,eAEFG,aAAc,CAAC+gB,IACf9gB,QAAS,CAAC8gB,iDARYO,EAAAA,qBAHxB,GCAAC,GAAA,oDAWCjiB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACAhG,EAAAA,cACAkG,EAAAA,gBACAnG,EAAAA,gBACA8X,GACAoJ,GACAK,GACArhB,EAAAA,aAEFE,aAAc,CACZ8V,IAEF7V,QAAS,CACP6V,UA3BJ,iBCmGE,SAAA0L,EAAoBxG,EAA6BC,EAA2B1B,GAA5E,IAAA9sB,EAAAP,KAAoBA,KAAA8uB,SAAAA,EAA6B9uB,KAAA+uB,OAAAA,EAA2B/uB,KAAAqtB,wBAAAA,oBAlCnD,IAAIniB,EAAAA,+BAIY,IAAIyV,0BAuWpB,SAAC0K,GACxB,IAAM2D,EAAOzuB,EAAKuuB,SAAShN,cAAc,QAEzCkN,EAAKC,UAAe5D,EAAQA,QAAO,MAAMA,EAAQU,YAEjD,IAAMmD,EAAa3uB,EAAKuuB,SAAShN,cAAc,OAC/CoN,EAAWvR,UAAY,gBACvBuR,EAAW7N,MAAM8N,SAAiC,IAAtB5uB,EAAK6uB,SAAS9O,MAAc,QAAU,oBAClE4O,EAAWG,YAAYL,GACvBzuB,EAAK+uB,eAAe1K,cAAcyK,YAAYH,qCAuEX,WAGnC,MAAO,CACLjmB,KAHgB1I,EAAKgqB,OAAOthB,KAI5BssB,SAAU,CACRhS,EAAGhjB,EAAK8vB,aAAa9M,EACrBC,EAAGjjB,EAAK8vB,aAAa7M,GAEvB+M,UAAWhwB,EAAKgwB,gCAII,SAACiF,GACc,EAAjCA,EAAYtL,YAAY1kB,OAC1BjF,EAAKk1B,aAAaD,IAIpBA,EAAYtL,YAAY/Y,KAAKnM,KAAK6jB,MAAM7jB,KAAK6jB,MAAQtoB,EAAKywB,OAASzwB,EAAK+uB,eAAejP,YAAe,IAAO,KAAO,MACpHmV,EAAYtL,YAAY/Y,KAAKnM,KAAK6jB,MAAM7jB,KAAK6jB,MAAQtoB,EAAK2wB,OAAS3wB,EAAK+uB,eAAe7K,aAAgB,IAAO,KAAO,MACrH+Q,EAAYjxB,GAAKhE,EAAKm1B,kBAAoB,EAC1Cn1B,EAAKgqB,OAAOoB,UAAUxa,KAAKqkB,GAC3Bj1B,EAAKm1B,oBACLn1B,EAAKkwB,cAhbLzwB,KAAKqwB,aAAe,CAAE9M,EAAG,EAAGC,EAAG,GAC/BxjB,KAAKuwB,UAAY,SA7DnBtwB,OAAAC,eACIo1B,EAAAn1B,UAAA,SAAM,KAQV,WACE,OAAOH,KAAK21B,aAVd,SACW7sB,GACLA,IAAU9I,KAAK21B,UACjB31B,KAAK21B,QAAU7sB,EACX9I,KAAK8vB,aACP9vB,KAAK4vB,gDASX3vB,OAAAC,eACIo1B,EAAAn1B,UAAA,SAAM,KAMV,WACE,OAAOH,KAAKuvB,aARd,SACWzmB,GACLA,IAAU9I,KAAKuvB,UACjBvvB,KAAKuvB,QAAUzmB,EACf9I,KAAKwvB,qDAmCT8F,EAAAn1B,UAAAsvB,SADA,WAEEzvB,KAAK0vB,cAAc1vB,KAAKovB,SAAS/O,aACjCrgB,KAAK2vB,eAAe3vB,KAAKovB,SAAS9O,OAClCtgB,KAAK41B,KAAK51B,KAAKuwB,YAQjB+E,EAAAn1B,UAAA0vB,mBAAA,WACO7vB,KAAK8vB,aAAuE,IAAxD9vB,KAAK4hB,OAAOlT,cAAckW,cAAcvE,cAC/DrgB,KAAK4vB,cACL5vB,KAAK+vB,oBACL/vB,KAAKgwB,mBACLhwB,KAAK8vB,aAAc,IAIfwF,EAAAn1B,UAAAyvB,kCACN5vB,KAAKovB,SAAWpvB,KAAK4hB,OAAOlT,cAC5B1O,KAAK0vB,cAAc1vB,KAAKovB,SAAS/O,aACjCrgB,KAAK+zB,aACL/zB,KAAK61B,wBACL71B,KAAKiwB,IAAMjwB,KAAKovB,SAASrN,WAAW,MACpC/hB,KAAKkwB,aAAarP,OAAS,WACzBtgB,EAAKu1B,mBAAmBzU,MAAM0U,QAAU,OACxCx1B,EAAK0vB,IAAIjO,UAAUzhB,EAAK2vB,aAAc,EAAG,EAAG3vB,EAAK6uB,SAAS9O,MAAO/f,EAAK6uB,SAAS9O,OAC/E/f,EAAKkwB,YACLlwB,EAAKy1B,gBAAsC,GAAtBz1B,EAAK6uB,SAAS9O,MAAmC,GAAtB/f,EAAK6uB,SAAS9O,QAEhEtgB,KAAKkwB,aAAahP,IAAMlhB,KAAKuqB,OAAOthB,KAAK8U,SAGnCuX,EAAAn1B,UAAA01B,iCACN71B,KAAK81B,mBAAqB91B,KAAKi2B,iBAAiBvnB,cAChD1O,KAAK81B,mBAAmBzU,MAAMf,MAAWtgB,KAAKovB,SAAS/O,YAAW,KAClErgB,KAAK81B,mBAAmBzU,MAAMd,OAAYvgB,KAAKovB,SAAS/O,YAAW,KACnErgB,KAAK81B,mBAAmBzU,MAAM0U,QAAU,QAGlCT,EAAAn1B,UAAA4vB,6BACN/vB,KAAKsvB,eAAiBtvB,KAAK0wB,aAAahiB,cACxC1O,KAAK2vB,eAAe3vB,KAAKovB,SAAS9O,OAClCtgB,KAAKwvB,oBAGC8F,EAAAn1B,UAAA6vB,4BACNhwB,KAAKk2B,aACLl2B,KAAKm2B,kBAGCb,EAAAn1B,UAAA+1B,iCACNrF,EAAAA,UAAU7wB,KAAKsvB,eAAgB,SAAStlB,UAAU,SAACwD,GACjDA,EAAM0gB,iBACN,IAAMxQ,EAASlQ,EAA8B,OACxCkQ,EAAO6D,UAAU0Q,SAAS,cAAiBvU,EAAO6D,UAAU0Q,SAAS,mBACxE1xB,EAAKy1B,gBACD,IAAMxoB,EAAMkW,QAAWnjB,EAAK+uB,eAAejP,YAAc9f,EAAK6uB,SAAS/O,YAAe,IACtF,IAAM7S,EAAMoW,QAAWrjB,EAAK+uB,eAAe7K,aAAelkB,EAAK6uB,SAAS3K,aAAgB,KACxFjX,EAAMmW,OAAS,GACjBpjB,EAAK6jB,OAAO,IAEd5W,EAAMmW,OAAS,EAAIpjB,EAAK6jB,OAAO,IAAO7jB,EAAKmkB,QAAQ,QAKjD4Q,EAAAn1B,UAAAi2B,2BACN,OAAOvF,EAAAA,UAAU7wB,KAAKsvB,eAAgB,eAGhCgG,EAAAn1B,UAAAk2B,wBACN,OAAOxF,EAAAA,UAAU7wB,KAAKsvB,eAAgB,YAGhCgG,EAAAn1B,UAAAwwB,4BAAmBtF,GACzBrrB,KAAKuqB,OAAOmB,SAASva,KAAKka,GAC1BrrB,KAAK01B,qBAGCJ,EAAAn1B,UAAAg2B,qCACAvF,EAAU5wB,KAAKq2B,eACrBzF,EAAQ5mB,UAAU,SAACwD,GACjBjN,EAAKivB,mBACL,IAAM9R,EAASlQ,EAA8B,OAE7C,GADAjN,EAAKgxB,kBAAkBhxB,EAAK+uB,eAAekC,iBAAiB,eACxDjxB,EAAKuwB,QAA6B,IAAnBvwB,EAAKgwB,UAAiB,CACvC,IAAMQ,EAAI/rB,KAAK6jB,MAAQtoB,EAAKywB,OAASzwB,EAAK+uB,eAAe7K,aAAgB,IAAO,KAAO,IACjFwM,EAAIjsB,KAAK6jB,MAAQtoB,EAAK2wB,OAAS3wB,EAAK+uB,eAAejP,YAAe,IAAO,KAAO,IAChF8Q,EAAKnsB,KAAK6jB,MAAQrb,EAAMkW,QAAUnjB,EAAK+uB,eAAe7K,aAAgB,IAAO,KAAO,IACpF2M,EAAKpsB,KAAK6jB,MAAQrb,EAAMoW,QAAUrjB,EAAK+uB,eAAejP,YAAe,IAAO,KAAO,IACzF,GAAI9f,EAAK+wB,WACP/wB,EAAKkxB,eAAc,GACDlxB,EAAKwuB,OAAOgD,KAAK3E,IACzB4E,cAAchoB,UAAU,SAAAoc,GAChC,GAAIA,EAAQ,CACV,IAAMiF,EAAU,IAAIO,GAAQ,CAC1B1B,YAAa,CAAC6G,EAAGE,EAAGE,EAAIC,GACxB/F,QAASjF,EAAOiF,QAChBU,YAAa3F,EAAO2F,YACpBxnB,GAAIhE,EAAKm1B,kBAAoB,IAE/Bn1B,EAAKowB,mBAAmBtF,GACxB9qB,EAAKqxB,gBAAgB,CAACb,EAAGE,EAAGE,EAAIC,GAAK/F,EAAQ9mB,IAC7ChE,EAAKsxB,sBAIT,IAAKnU,EAAO6D,UAAU0Q,SAAS,eAAiBvU,EAAO6D,UAAU0Q,SAAS,iBACtD1xB,EAAKwuB,OAAOgD,KAAK3E,IACzB4E,cAAchoB,UAAU,SAAAoc,GAChC,GAAIA,EAAQ,CACV,IAAMiF,EAAU,IAAIO,GAAQ,CAC1B1B,YAAa,CAAC6G,EAAGE,GACjB5F,QAASjF,EAAOiF,QAChBU,YAAa3F,EAAO2F,YACpBxnB,GAAIhE,EAAKm1B,kBAAoB,IAE/Bn1B,EAAKowB,mBAAmBtF,GACxB9qB,EAAK2xB,eAAe,CAACnB,EAAGE,GAAI5F,EAAQ9mB,UAQhD,IAAM4tB,EAAanyB,KAAKo2B,kBACxBjE,EAAWnoB,UAAU,SAACwD,GACpBjN,EAAKivB,mBACLjvB,EAAKgxB,kBAAkBhxB,EAAK+uB,eAAekC,iBAAiB,eACxDjxB,EAAKuwB,SACPvwB,EAAKkxB,eAAc,GACnBlxB,EAAKsxB,iBAIThB,EAAAA,UAAU7wB,KAAKsvB,eAAgB,aAAavsB,KAC1CyP,EAAAA,UAAU,SAAChF,GAIT,OAHAjN,EAAKywB,OAASxjB,EAAMkW,QACpBnjB,EAAK2wB,OAAS1jB,EAAMoW,QACpBrjB,EAAKivB,kBAAiB,GACfqB,EAAAA,UAAUtwB,EAAK+uB,eAAgB,aAAavsB,KACjDqvB,EAAAA,UAAUxB,GACVwB,EAAAA,UAAUD,OAGdnoB,UAAU,SAACwD,GACX,GAAIjN,EAAKuwB,QAA6B,IAAnBvwB,EAAKgwB,UAAiB,CACvChwB,EAAKkxB,eAAc,GACnBlxB,EAAK8xB,mBAAmB9xB,EAAK+uB,eAAekC,iBAAiB,eAC7DjxB,EAAKsxB,cACL,IAAMS,EAAS/xB,EAAKuuB,SAAShN,cAAc,OAC3CwQ,EAAO/tB,GAAK,aACZ+tB,EAAOjR,MAAM8B,IAAM5iB,EAAK2wB,OAAS1jB,EAAMoW,QAAapW,EAAMoW,QAAO,KAAUrjB,EAAK2wB,OAAM,KACtFoB,EAAOjR,MAAM4B,KAAO1iB,EAAKywB,OAASxjB,EAAMkW,QAAalW,EAAMkW,QAAO,KAAUnjB,EAAKywB,OAAM,KACvFsB,EAAOjR,MAAMf,MAAWtb,KAAKwtB,IAAIjyB,EAAKywB,OAASxjB,EAAMkW,SAAQ,KAC7D4O,EAAOjR,MAAMd,OAAYvb,KAAKwtB,IAAIjyB,EAAK2wB,OAAS1jB,EAAMoW,SAAQ,KAC9DrjB,EAAK+uB,eAAeD,YAAYiD,QAEhC/xB,EAAK8vB,aAAa9M,GAAK/V,EAAM8oB,UAC7B/1B,EAAK8vB,aAAa7M,GAAKhW,EAAM+oB,UACzBh2B,EAAK8vB,aAAa9M,EAAI,IACxBhjB,EAAK8vB,aAAa9M,EAAI,GAEpBhjB,EAAK8vB,aAAa7M,EAAI,IACxBjjB,EAAK8vB,aAAa7M,EAAI,GAEpBjjB,EAAK8vB,aAAa9M,EAAIhjB,EAAK6uB,SAAS9O,QACtC/f,EAAK8vB,aAAa9M,EAAIhjB,EAAK6uB,SAAS9O,OAElC/f,EAAK8vB,aAAa7M,EAAIjjB,EAAK6uB,SAAS7O,SACtChgB,EAAK8vB,aAAa7M,EAAIjjB,EAAK6uB,SAAS7O,QAEtChgB,EAAKi2B,aAAaj2B,EAAKgwB,WACvBhwB,EAAK0vB,IAAIE,UAAU,EAAG,EAAG5vB,EAAK6uB,SAAS9O,MAAO/f,EAAK6uB,SAAS7O,QAC5DhgB,EAAK0vB,IAAIvF,OACTnqB,EAAK0vB,IAAIG,UAAU7vB,EAAK8vB,aAAa9M,EAAGhjB,EAAK8vB,aAAa7M,GAC1DjjB,EAAK0vB,IAAIK,MAAM/vB,EAAKgwB,UAAWhwB,EAAKgwB,WACpChwB,EAAK0vB,IAAIG,WAAW7vB,EAAK8vB,aAAa9M,GAAIhjB,EAAK8vB,aAAa7M,GAC5DjjB,EAAK0vB,IAAIjO,UAAUzhB,EAAK2vB,aAAc,EAAG,EAAG3vB,EAAK6uB,SAAS9O,MAAO/f,EAAK6uB,SAAS7O,QAC/EhgB,EAAK0vB,IAAIO,aAKP8E,EAAAn1B,UAAAswB,gCACNzwB,KAAK+zB,aACL/zB,KAAK01B,kBAAoB,EACzB11B,KAAKqtB,wBAAwBb,4BAA4BxsB,KAAKuqB,OAAOmB,UACjE1rB,KAAKuqB,OAAOmB,UAA0C,EAA9B1rB,KAAKuqB,OAAOmB,SAASlmB,SAC/CxF,KAAKuqB,OAAOmB,SAAS1iB,QAAQ,SAACqiB,GACK,EAA7BA,EAAQnB,YAAY1kB,OACtBjF,EAAKqxB,gBAAgBvG,EAAQnB,YAAamB,EAAQ9mB,IAElDhE,EAAK2xB,eAAe7G,EAAQnB,YAAamB,EAAQ9mB,MAGrDvE,KAAK01B,mBAAqB11B,KAAKuqB,OAAOmB,SAASlmB,QAE7CxF,KAAKuqB,OAAOoB,WAA4C,EAA/B3rB,KAAKuqB,OAAOoB,UAAUnmB,SACjDxF,KAAKuqB,OAAOoB,UAAU3iB,QAAQ,SAACytB,GAC7Bl2B,EAAKm2B,kBAAkBD,EAASvM,YAAauM,EAASlyB,MAExDvE,KAAK01B,mBAAqB11B,KAAKuqB,OAAOoB,UAAUnmB,SAI5C8vB,EAAAn1B,UAAAq2B,sBAAajG,GACnB,IAAMoG,EAAQ32B,KAAKovB,SAAS9O,MAAQiQ,EAAYvwB,KAAKovB,SAAS9O,MACxDsW,EAAQ52B,KAAKovB,SAAS7O,OAASgQ,EAAYvwB,KAAKovB,SAAS7O,OAC/DvgB,KAAKsvB,eAAejO,MAAMf,MAAWtgB,KAAKovB,SAAS9O,MAAQiQ,EAAS,KACpEvwB,KAAKsvB,eAAejO,MAAMd,OAAYvgB,KAAKovB,SAAS7O,OAASgQ,EAAS,KACtEvwB,KAAKsvB,eAAejO,MAAM4B,KAAOjjB,KAAK62B,cAAcF,EAAOpG,GAC3DvwB,KAAKsvB,eAAejO,MAAM8B,IAAMnjB,KAAK82B,cAAcF,EAAOrG,IAGpD+E,EAAAn1B,UAAA22B,uBAAcF,EAAOrG,GAC3B,GAAIvwB,KAAKqwB,aAAa7M,IAAOxjB,KAAKovB,SAAS7O,OAAS,EAAI,CACtD,GAAgB,EAAZgQ,EAAe,CACjB,IAAMwG,EAA2C,EAArCxG,EAAU7sB,WAAW+F,MAAM,KAAK,GAAU8mB,EAAY,EAAMA,EAAY,EACpF,OAASvwB,KAAKqwB,aAAa7M,EAAIuT,EAAO,KAEtC,OAAO,KAGT,OAAQH,EAAQ,GAAM,EAAI,MAItBtB,EAAAn1B,UAAA02B,uBAAcF,EAAOpG,GAC3B,GAAIvwB,KAAKqwB,aAAa9M,IAAOvjB,KAAKovB,SAAS9O,MAAQ,EAAI,CACrD,GAAgB,EAAZiQ,EAAe,CACjB,IAAMwG,EAA2C,EAArCxG,EAAU7sB,WAAW+F,MAAM,KAAK,GAAU8mB,EAAY,EAAMA,EAAY,EACpF,OAASvwB,KAAKqwB,aAAa9M,EAAIwT,EAAO,KAEtC,OAAO,KAGT,OAAQJ,EAAQ,GAAM,EAAI,MAItBrB,EAAAn1B,UAAAoxB,2BAAkBsB,GACxBjqB,MAAMkqB,KAAKD,GAAU7pB,QAAQ,SAACmW,GAC5BA,EAAQkC,MAAM0R,cAAgB,SAI1BuC,EAAAn1B,UAAAkyB,4BAAmBQ,GACzBjqB,MAAMkqB,KAAKD,GAAU7pB,QAAQ,SAACmW,GAC5BA,EAAQkC,MAAM0R,cAAgB,UAI1BuC,EAAAn1B,UAAA4zB,sBACN,GAAI/zB,KAAKsvB,eAAgB,CAIvB,IAHA,IAAM0E,EAAgBh0B,KAAKsvB,eAAeuE,uBAAuB,aAC3DI,EAAiBj0B,KAAKsvB,eAAeuE,uBAAuB,cAC5DK,EAAmBl0B,KAAKsvB,eAAeuE,uBAAuB,iBAC7DG,EAAc,IACnBA,EAAc,GAAGG,WAAWL,YAAYE,EAAc,IAExD,KAAOC,EAAe,IACpBA,EAAe,GAAGE,WAAWL,YAAYG,EAAe,IAE1D,KAAOC,EAAiB,IACtBA,EAAiB,GAAGC,WAAWL,YAAYI,EAAiB,MAK1DoB,EAAAn1B,UAAA+xB,wBAAehI,EAAuBhhB,cAC5C4jB,EAAAzF,GAAA6C,EAAA,GAAO3G,EAAAuJ,EAAA,GAAGtJ,EAAAsJ,EAAA,GACJkG,EAAMhzB,KAAK8uB,SAAShN,cAAc,OACxCkR,EAAI/D,UAAY,GAAG/lB,EACnB8pB,EAAIrV,UAAY,YAChBqV,EAAI3R,MAAM8B,IAAM,QAAQK,EAAC,YACzBwP,EAAI3R,MAAM4B,KAAO,QAAQM,EAAC,YAC1BvjB,KAAKsvB,eAAeD,YAAY2D,GAChC,IAAM3H,EAAUrrB,KAAKuqB,OAAOmB,SAAS5f,KAAK,SAAAqnB,GAAK,OAAAA,EAAE5uB,KAAO2E,IAIxD,OAHA8pB,EAAII,iBAAiB,QAAS,WAAM,OAAA7yB,EAAK+yB,mBAAmBjI,KAC5D2H,EAAII,iBAAiB,YAAa,WAAM,OAAA7yB,EAAKgzB,eAAelI,KAC5D2H,EAAII,iBAAiB,WAAYpzB,KAAKwzB,mBAC/BR,GAGDsC,EAAAn1B,UAAAu2B,2BAAkBxM,EAAuBhhB,cAC/C4jB,EAAAzF,GAAA6C,EAAA,GAAO3G,EAAAuJ,EAAA,GAAGtJ,EAAAsJ,EAAA,GACJkG,EAAMhzB,KAAK8uB,SAAShN,cAAc,OACxCkR,EAAI/D,UAAY,GAAG/lB,EACnB8pB,EAAIrV,UAAY,gBAChBqV,EAAI3R,MAAM8B,IAAM,QAAQK,EAAC,YACzBwP,EAAI3R,MAAM4B,KAAO,QAAQM,EAAC,YAC1BvjB,KAAKsvB,eAAeD,YAAY2D,GAChC,IAAMyD,EAAWz2B,KAAKuqB,OAAOoB,UAAU7f,KAAK,SAAAkrB,GAAK,OAAAA,EAAEzyB,KAAO2E,IAE1D,OADA8pB,EAAII,iBAAiB,QAAS,WAAM,OAAA7yB,EAAK02B,kBAAkBR,KACpDzD,GAGDsC,EAAAn1B,UAAAyxB,yBAAgB1H,EAAuBhhB,GAC7C,IAAA4jB,EAAAzF,GAAA6C,EAAA,GAAO3G,EAAAuJ,EAAA,GAAGtJ,EAAAsJ,EAAA,GAAG2G,EAAA3G,EAAA,GAAI4G,EAAA5G,EAAA,GACXwF,EAAStyB,KAAK8uB,SAAShN,cAAc,OAC3CwQ,EAAO3U,UAAY,aACnB2U,EAAOjR,MAAMf,MAAWtb,KAAKwtB,IAAIjP,EAAIkQ,GAAG,IACxCnB,EAAOjR,MAAMd,OAAYvb,KAAKwtB,IAAIhP,EAAIkQ,GAAG,IACzCpB,EAAOjR,MAAM8B,KAAcK,EAALkQ,EAASlQ,EAAIkQ,GAAE,IACrCpB,EAAOjR,MAAM4B,MAAeM,EAALkQ,EAASlQ,EAAIkQ,GAAE,IACtC,IAAMvW,EAAQld,KAAKkyB,eAAe,CAAC,EAAG,GAAIhpB,GAC1CopB,EAAOjD,YAAYnS,GACnBld,KAAKsvB,eAAeD,YAAYiD,IAG1BgD,EAAAn1B,UAAAmzB,4BAAmBjI,GACPrrB,KAAK+uB,OAAOgD,KAAK3E,GAA2B,CAAEvB,KAAM,CAAER,QAASA,EAAQA,QAASS,QAAST,EAAQS,WACzGkG,cAAchoB,UAAU,SAAAoc,GAC5BA,IACFiF,EAAQA,QAAUjF,EAAOiF,QACzBA,EAAQU,YAAc3F,EAAO2F,gBAK3BuJ,EAAAn1B,UAAA82B,2BAAkBR,GACxBz2B,KAAKk3B,aAAa9oB,KAAKqoB,IAGjBnB,EAAAn1B,UAAA0xB,uBACFhQ,SAAS8R,eAAe,eAC1B9R,SAAS8R,eAAe,cAAcrkB,UAgBlCgmB,EAAAn1B,UAAAqzB,6BACN,IAAMI,EAAc/R,SAASgS,uBAAuB,iBAAiB,GACjED,GACFA,EAAYhP,cAAckP,YAAYF,IAIlC0B,EAAAn1B,UAAAuvB,uBAAcgD,GACpB1yB,KAAKovB,SAAS9O,MAAQoS,EACtB1yB,KAAKovB,SAAS7O,OAASmS,GAGzB4C,EAAAn1B,UAAAsxB,cAAA,SAAcmB,GACZ5yB,KAAKsxB,WAAasB,GAGZ0C,EAAAn1B,UAAAwvB,wBAAe+C,GACrB1yB,KAAKsvB,eAAejO,MAAMf,MAAWoS,EAAI,KACzC1yB,KAAKsvB,eAAejO,MAAMd,OAAYmS,EAAI,MAGpC4C,EAAAn1B,UAAA61B,yBAAgBzS,EAAWC,GACjCxjB,KAAKqwB,aAAa9M,EAAIA,EACtBvjB,KAAKqwB,aAAa7M,EAAIA,GAGhB8R,EAAAn1B,UAAAqvB,0BAAiB7M,GACnB3iB,KAAKsvB,iBACHtvB,KAAK8wB,QAA6B,IAAnB9wB,KAAKuwB,UACtBvwB,KAAKsvB,eAAejO,MAAMsR,OAAS,YAEnC3yB,KAAKsvB,eAAejO,MAAMsR,OADjBhQ,EAC0B,OAEA,SAKlC2S,EAAAn1B,UAAAy1B,cAAKrF,QAAA,IAAAA,IAAAA,EAAA,GACVvwB,KAAKuwB,UAAYA,EACjBvwB,KAAKw2B,aAAajG,GAClBvwB,KAAKwvB,mBACLxvB,KAAKiwB,IAAIE,UAAU,EAAG,EAAGnwB,KAAKovB,SAAS9O,MAAOtgB,KAAKovB,SAAS7O,QAC5DvgB,KAAKiwB,IAAIvF,OACT1qB,KAAKiwB,IAAIG,UAAUpwB,KAAKqwB,aAAa9M,EAAGvjB,KAAKqwB,aAAa7M,GAC1DxjB,KAAKiwB,IAAIK,MAAMC,EAAWA,GAC1BvwB,KAAKiwB,IAAIjO,UAAUhiB,KAAKkwB,cAAelwB,KAAKqwB,aAAa9M,GAAIvjB,KAAKqwB,aAAa7M,EAAGxjB,KAAKovB,SAAS9O,MAAOtgB,KAAKovB,SAAS7O,QACrHvgB,KAAKiwB,IAAIO,WAGJ8E,EAAAn1B,UAAAikB,gBAAO+S,QAAA,IAAAA,IAAAA,EAAA,GACRn3B,KAAKuwB,UAAY6G,SAASp3B,KAAKq3B,aAAc,MAC9Cr3B,KAAKuwB,UAAY4G,EAAUn3B,KAAKq3B,aAAer3B,KAAKuwB,WAAa4G,EAASn3B,KAAKuwB,WAAavwB,KAAKq3B,aAClGr3B,KAAK41B,KAAK51B,KAAKuwB,aAIZ+E,EAAAn1B,UAAAukB,iBAAQyS,QAAA,IAAAA,IAAAA,EAAA,GACTn3B,KAAKuwB,UAAY6G,SAASp3B,KAAKs3B,aAAc,MAC9Ct3B,KAAKuwB,UAAY4G,EAAUn3B,KAAKs3B,aAAet3B,KAAKuwB,WAAa4G,EAASn3B,KAAKuwB,WAAavwB,KAAKs3B,aAClGt3B,KAAK41B,KAAK51B,KAAKuwB,aAIZ+E,EAAAn1B,UAAAo3B,qBAAYzuB,GACjB9I,KAAK41B,KAAK9sB,IA8BZwsB,EAAAn1B,UAAAs1B,aAAA,SAAaD,GACX,IAAMgC,EAAKx3B,KAAKuqB,OAAOoB,UAAU7f,KAAK,SAAAyX,GAAK,OAAAA,EAAEhf,KAAOixB,EAAYjxB,KAC5DizB,IACFA,EAAGnN,WAAamL,EAAYnL,WAC5BmN,EAAGhN,cAAgBgL,EAAYhL,oCAhhBpC9X,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,iBACVC,SAAU,iyBAmBVC,OAAQ,CAAC,iuGAhCuEyhB,EAAAA,iBACzEC,EAAAA,iBAQAvI,4CA2BN/Y,EAAAA,4BACAA,EAAAA,6BACAA,EAAAA,sBAEAA,EAAAA,sBAcAA,EAAAA,4BAWAC,EAAAA,uBAiBAH,EAAAA,UAASjR,KAAA,CAAC,gCAIViR,EAAAA,UAASjR,KAAA,CAAC,0CAGViR,EAAAA,UAASjR,KAAA,CAAC,sCAGV0yB,EAAAA,aAAY1yB,KAAA,CAAC,yBC5FhB21B,GAAA,oDAQCrkB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACA/F,EAAAA,YACA8jB,EAAAA,gBACAhkB,EAAAA,gBACAC,EAAAA,cACA8gB,IAEF3gB,aAAc,CACZwhB,IAEFvhB,QAAS,CACPuhB,UAtBJ,GCAAqC,GAAA,WAuFE,SAAAA,IAAA,IAAAp3B,EAAAP,yBA1CiBqd,mBAyBJ,oBAMY,IAAInS,EAAAA,gCAyBb,SAAC2C,EAAQ0P,EAASC,GAChCjd,EAAKq3B,UAAYr3B,EAAKs3B,WAAWra,GACjCjd,EAAKu3B,WAAata,UAxDpBvd,OAAAC,eACIy3B,EAAAx3B,UAAA,aAAU,KAOd,WACE,OAAOH,KAAK+3B,iBATd,SACe13B,GACTL,KAAK+3B,cAAgB13B,IACvBL,KAAK+3B,YAAc13B,EACnBL,KAAK43B,UAAY53B,KAAK63B,WAAW,qCAQrC53B,OAAAC,eACIy3B,EAAAx3B,UAAA,WAAQ,KAMZ,WACE,OAAOH,KAAKg4B,eARd,SACa33B,GACPA,IACFL,KAAKg4B,UAAY33B,oCA2BrBs3B,EAAAx3B,UAAA8d,aAAA,SAAazQ,GAEXxN,KAAKke,oBAAoB1Q,EAAM2Q,QAAS3Q,EAAM0M,OAASla,KAAK63B,WAAWryB,SAIzEmyB,EAAAx3B,UAAAke,SAAA,SAAS7Q,GAEPxN,KAAKke,oBAAoB1Q,EAAM2Q,QAAS3Q,EAAM8Q,SAShDqZ,EAAAx3B,UAAA+d,oBAAA,SAAoBK,EAAgBC,GAApC,IAAAje,EAAAP,KAEEoP,WAAW,WAET7O,EAAK4d,QAAUI,EAEfhe,EAAK+d,OAASE,GAEb,IAIEmZ,EAAAx3B,UAAA83B,uCACL,OAAOj4B,KAAKk4B,UAAUD,+BAIjBN,EAAAx3B,UAAAg4B,wBAAeA,GACpBn4B,KAAKk4B,UAAUC,eAAeA,IAGzBR,EAAAx3B,UAAAi4B,wBAAevqB,GACpB7N,KAAKk3B,aAAa9oB,KAAKP,IAGlB8pB,EAAAx3B,UAAAk4B,yBACL,OAAOr4B,KAAK83B,gCA/HfplB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,yBACVC,SAAU,wnDAkCVC,OAAQ,CAAC,i2CAMRI,EAAAA,wBAYAA,EAAAA,4BAaAA,EAAAA,yBAEAF,EAAAA,UAASjR,KAAA,CAACwzB,0BAEVpiB,EAAAA,YA5EH,GCAAolB,GAAA,WAsCE,SAAAA,YAbAr4B,OAAAC,eACIo4B,EAAAn4B,UAAA,UAAO,KAMX,WACE,OAAOH,KAAKkrB,cARd,SACY7qB,GACNA,IACFL,KAAKkrB,SAAW7qB,oCAYpBi4B,EAAAn4B,UAAAkY,SAAA,aAIAigB,EAAAn4B,UAAAirB,SAAA,SAASC,GACP,IAAIC,EAAW,YAYf,OAVmC,IAA/BD,EAAQnB,YAAY1kB,OACtB8lB,GAAY,cAEZA,GAAY,eAGVD,EAAQE,kBACVD,GAAY,WAGPA,uBAvDV5Y,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,0BACVC,SAAU,svBAeVC,OAAQ,CAAC,+kkBAIRI,EAAAA,uBAEAA,EAAAA,WAzBH,GCAAslB,GAAA,oDAOCnlB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACAE,EAAAA,gBACAlG,EAAAA,eAEFG,aAAc,CACZwkB,IAEFvkB,QAAS,CACPukB,UAlBJ,GCAAE,GAAA,oDAYCplB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqW,EAAAA,kBACA8N,GACArV,GACAzO,EAAAA,cACA6X,GACAyJ,GACAtb,EAAAA,iBACA4e,IAEFzkB,aAAc,CAAC6jB,IACf5jB,QAAS,CAAC4jB,UAzBZ,GCAAc,GAAA,WA2CE,SAAAA,cANkE,SAQlEx4B,OAAAC,eAAIu4B,EAAAt4B,UAAA,cAAW,KAAf,WACE,OAAQ,IAAM,GAAMH,KAAKgvB,0DAxC5Btc,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,kBACVC,SAAU,wfAyBVC,OAAQ,CAAC,4EAIRI,EAAAA,oBAEAsI,EAAAA,gBAAezZ,KAAA,CAAC6I,EAAAA,WAAW,WAAM,OAAA+tB,uBAEjC3lB,EAAAA,UAASjR,KAAA,CAAC,gBAzCb,iBAoFE,SAAA42B,gCAlCDhmB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,eACVC,SAAU,+gBAwBVC,OAAQ,CAAC,+EAIR0I,EAAAA,gBAAezZ,KAAA,CAAC22B,qBAEhB1lB,EAAAA,UAASjR,KAAA,CAAC,mBClFb62B,GAAA,WAwBE,SAAAA,aAJe,kCAhBhBjmB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,WACVC,SAAU,4NAUVC,OAAQ,CAAC,2EAIRI,EAAAA,oBAEAsI,EAAAA,gBAAezZ,KAAA,CAAC6I,EAAAA,WAAW,WAAM,OAAA+tB,WAtBpC,GCAAE,GAAA,oDAMCxlB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,kBAEF7F,aAAc,CAAC6kB,GAAkBD,GAAqBD,IACtD1kB,QAAS,CAAC4kB,GAAkBD,GAAqBD,UAZnD,GCAAI,GAAA,oDAECnmB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,YACVC,SAAU,uKAIVC,OAAQ,CAAC,4PAGRI,EAAAA,0BACAA,EAAAA,yBACAA,EAAAA,WAbH,GC6BA,SAAA6lB,GAA4BC,GAE1B,IAAM3S,EAAS,4CAA4C4S,KAAKD,GAChE,OAAO3S,EAAS,CACdtD,EAAGsU,SAAShR,EAAO,GAAI,IACvBI,EAAG4Q,SAAShR,EAAO,GAAI,IACvB6S,EAAG7B,SAAShR,EAAO,GAAI,KACrB,KAGN,SAAA8S,GAAkCC,GAEhC,IAEMlJ,EAFSpO,SAASC,cAAc,UAEnBC,WAAW,MAI9B,OAFAkO,EAAImJ,UAAYD,EAETlJ,EAAImJ,4BAqBX,SAAAC,EAAoB/W,GAAAtiB,KAAAsiB,GAAAA,EAElBtiB,KAAKm5B,QAAUn5B,KAAKsiB,GAAG5T,cAAc2S,MAAMiY,uBAV7Cr5B,OAAAC,eAAam5B,EAAAl5B,UAAA,wBAAqB,KAAlC,SAAmCgB,GAEjCnB,KAAKmB,OAASA,EAEdnB,KAAKu5B,2DAUPF,EAAAl5B,UAAAq5B,UAAA,WAEE,IAAML,EAAUn5B,KAAKsiB,GAAG5T,cAAc2S,MAAMiY,gBAExCH,IAAYn5B,KAAKm5B,UAEnBn5B,KAAKm5B,QAAUA,EAEfn5B,KAAKu5B,4BAMDF,EAAAl5B,UAAAo5B,mCAEN,IAAME,EAAkBz5B,KAAKmB,QAAUnB,KAAKmB,OAAOs4B,eAAkBz5B,KAAKmB,OAAOs4B,eA7ErD,IAiFtBC,EAAWZ,GAFGI,GAAkBl5B,KAAKm5B,UAIrCQ,EAAO,MAASD,EAAS5W,EAAI,MAAS4W,EAASlT,EAAI,MAASkT,EAAST,EAIzEj5B,KAAKsiB,GAAG5T,cAAc2S,MAAMuY,MAF1BD,EAAOF,EAE4Bz5B,KAAKmB,QAAUnB,KAAKmB,OAAO04B,WAAc75B,KAAKmB,OAAO04B,WAAa,sBAIlE75B,KAAKmB,QAAUnB,KAAKmB,OAAO24B,UAAa95B,KAAKmB,OAAO24B,UAAY,+BArD1G5X,EAAAA,UAASpgB,KAAA,CAAC,CACT6Q,SAAU,uEApDQonB,EAAAA,6DA4DjB9mB,EAAAA,cC5DH+mB,GAAA,oDAIC5mB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,cAEFQ,aAAc,CACZulB,IAEFtlB,QAAS,CACPslB,UAZJ,GCAAY,GAAA,oDAMC7mB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAuG,EAAAA,gBACAmgB,IAEFlmB,aAAc,CACZ+kB,IAEF9kB,QAAS,CACP8kB,UAhBJ,OCCEqB,OAAS,UACTC,SAAW,UACXC,SAAW,UACXC,QAAU,UACVC,QAAU,UACVC,UAAY,UACZC,WAAa,UACbC,kBAAoB,UACpBC,SAAW,UACXC,WAAa,UACbC,QAAU,UACVC,YAAc,UACdC,cAAgB,UAChBC,mBAAqB,UACrBC,UAAY,UACZC,WAAa,UACbC,eAAiB,UACjBC,aAAe,UACfC,eAAiB,UACjBC,aAAe,UACfC,gBAAkB,UAClBC,cAAgB,UAChBC,cAAgB,UAChBC,eAAiB,UACjBC,MAAQ,UACRC,OAAS,UACTC,OAAS,UACTC,YAAc,UACdC,SAAW,WC7BbC,GAAA,WAME,SAAAA,YAEAA,EAAA57B,UAAA67B,eAAA,SAAe34B,GACb,OAAO44B,GAAoB54B,IAAW44B,GAAoB5B,SAG5D0B,EAAA57B,UAAA+7B,SAAA,SAASpZ,EAAG0D,EAAGyS,GACb,MAAO,IAAI,CAACnW,EAAG0D,EAAGyS,GAAGxwB,IAAI,SAAA8a,GAAK,OAAAA,EAAE7f,SAAS,IAAIy4B,SAAS,EAAG,OAAMznB,KAAK,KAGtEqnB,EAAA57B,UAAAi8B,SAAA,SAASrD,EAAKsD,QAAA,IAAAA,IAAAA,GAAA,GACZ,IAAMC,EAAMvD,EAAIryB,QAAQ,mCAAoC,SAAC6gB,EAAGzE,EAAG0D,EAAGyS,GAAM,MAAA,IAAMnW,EAAIA,EAAI0D,EAAIA,EAAIyS,EAAIA,IAAGsD,UAAU,GAAGC,MAAM,SAAS/zB,IAAI,SAAA8a,GAAK,OAAA6T,SAAS7T,EAAG,MAC1J,OAAO8Y,EAAW,OAAOC,EAAI,GAAE,IAAIA,EAAI,GAAE,IAAIA,EAAI,GAAE,IAAMA,GAG3DP,EAAA57B,UAAAs8B,sBAAA,SAAuBC,GAAvB,IAAAn8B,EAAAP,KACE,OAAO08B,EAASj0B,IAAI,SAAAk0B,GAClB,OAAOp8B,EAAKq8B,YAAYD,MAIrBZ,EAAA57B,UAAAy8B,qBAAazJ,GAClB,IAAM0J,EAAa1J,EAAI,IAEnB9yB,EAAI,EAQR,OAPIw8B,EAAa,OACG,GAAdA,IACFx8B,EAAIw8B,GAAc,EAAM,QAG1Bx8B,EAAI2E,KAAK83B,KAAKD,EAAa,OAAU,EAAM,OAP/B,KASPx8B,uBAnCVoB,EAAAA,qDAHD,GCAAs7B,GAAA,WAkBE,SAAAA,EACSC,GAAAh9B,KAAAg9B,gBAAAA,6BAhBVtqB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,mBACVC,SAAU,8KAKVC,OAAQ,CAAC,iDATFkpB,sCAaN9oB,EAAAA,yBAEAA,EAAAA,WAhBH,GCAAgqB,GAAA,oDAIC7pB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,cAEFR,UAAW,CAACipB,UARd,GCAAmB,GAAA,oDAOC9pB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACA2mB,GACAgD,GACApjB,EAAAA,iBAEF/F,aAAc,CAACipB,IACfhpB,QAAS,CAACgpB,UAfZ,GCkDAI,GAYE,SAAAA,EAAYtR,QAAA,IAAAA,IAAAA,EAAA,IACV7rB,KAAKo9B,SAAWvR,EAAKuR,SAAWvR,EAAKuR,SAAS30B,IAAI,SAAAhB,GAAU,OAAA,IAAI01B,EAAc11B,KAAWvF,UACzFlC,KAAKq9B,MAAQxR,EAAKwR,OAASn7B,UAC3BlC,KAAKs9B,WAAUzR,EAAKyR,YAAWp7B,UAC/BlC,KAAK2I,QAAUkjB,EAAKljB,SAAWzG,UAC/BlC,KAAKu9B,KAAO1R,EAAK0R,MAAQr7B,UACzBlC,KAAKoL,MAAQygB,EAAKzgB,OAASlJ,UAC3BlC,KAAK45B,MAAQ/N,EAAK+N,OAAS,UAC3B55B,KAAKw9B,SAAW3R,EAAK2R,UAAYt7B,UACjClC,KAAKy9B,YAAc5R,EAAK4R,aAAev7B,UACvClC,KAAK09B,IAAM7R,EAAK6R,KAAO7R,EAAKzgB,OCxEhCuyB,GAAA,WA0DE,SAAAA,EACUC,EACAzlB,GAFV,IAAA5X,EAAAP,KACUA,KAAA49B,MAAAA,EACA59B,KAAAmY,OAAAA,gBAV0B,eAIU,IAAIjN,EAAAA,4BAEE,IAAIA,EAAAA,8BAW1C,WACZkE,WAAW,WACT7O,EAAKs9B,sBACJ,kBAwCc,SAACC,EAAKC,GAIvB,QAJuB,IAAAA,IAAAA,GAAA,GAEvBx9B,EAAKy9B,eAAiBF,EAAIJ,IAEtBn9B,EAAKoI,SAAWm1B,EAAK,CAEvB,IAAMG,EAAQ,CACZt1B,QAASm1B,EAAIn1B,QACby0B,SAAUU,EAAIV,SACdW,QAASA,GAGXx9B,EAAKuD,OAAOsK,KAAK6vB,YArFrBh+B,OAAAC,eACIy9B,EAAAx9B,UAAA,UAAO,KAMX,WACE,OAAOH,KAAKk+B,cARd,SACY79B,GACNL,KAAKk+B,WAAa79B,IACpBL,KAAKk+B,SAAW79B,EAAIA,EAAEoI,IAAI,SAAAhB,GAAU,OAAA,IAAI01B,GAAc11B,KAAW,qCAuBrEk2B,EAAAx9B,UAAA0F,YAAA,WACE7F,KAAKm+B,6BASPR,EAAAx9B,UAAAi+B,WAAA,SAAWV,GACT,OAAO19B,KAAKq+B,aAAwC,GAAzBr+B,KAAKq+B,YAAYX,GAAY19B,KAAKq+B,YAAYX,GAAO,KAGlFC,EAAAx9B,UAAAm+B,UAAA,SAAUR,GACR99B,KAAKu+B,iBAAiBT,IAGxB79B,OAAAC,eAAIy9B,EAAAx9B,UAAA,cAAW,KAAf,WAAA,IAAAI,EAAAP,KAEE,OAAOA,KAAK2I,QAAU3I,KAAK2I,QAAQmD,KAAK,SAAArE,GAAU,OAAAA,EAAOi2B,MAAQn9B,EAAKy9B,iBAAkB97B,2CAI1FjC,OAAAC,eAAIy9B,EAAAx9B,UAAA,iBAAc,KAAlB,WACE,IAAMgd,EAAUnd,KAAK2I,QAAU3I,KAAK2I,QAAQlB,OAAO,SAACA,GAAW,OAACA,EAAO81B,OAAQ,GAC/E,OAAQpgB,GAA4B,EAAjBA,EAAQ3X,OAAc2X,EAAUjb,2CAG7Cy7B,EAAAx9B,UAAAq+B,4BAEN,IAAMC,EAAkBz+B,KAAK2I,QAAQmD,KAAK,SAACX,GACzC,OAAOA,EAAKmyB,aAKZt9B,KAAK0+B,WAFHD,EAEgBA,EAAWf,IAIX19B,KAAK2I,QAAQ,GAAG+0B,KAwB9BC,EAAAx9B,UAAAw+B,4BACN,OAAO3+B,KAAKqJ,KAAO,QAGbs0B,EAAAx9B,UAAAo+B,0BAAiBT,GACvB,IAAM3R,EAAsBlsB,OAAOmlB,OAAO,GAAIplB,KAAK49B,MAAMgB,SAASzS,aAClEA,EAAYnsB,KAAK2+B,oBAAsBb,EACvC99B,KAAKmY,OAAOgB,SAAS,CAAC,KAAM,CAAE0lB,WAAY7+B,KAAK49B,MAAOzR,YAAaA,EAAa2S,YAAY,KAGtFnB,EAAAx9B,UAAA09B,yCAEN79B,KAAKw+B,mBAELx+B,KAAK++B,oBAAsB/+B,KAAK49B,MAAMzR,YACnCniB,UAAU,SAAChG,GAEV,IAAM85B,EAAM95B,EAAOzD,EAAKo+B,qBAAuBp+B,EAAKm+B,WAGpD,GAAIZ,IAAQv9B,EAAKy9B,eAAgB,CAE/B,IAAMgB,EAAcz+B,EAAKoI,QAAQmD,KAAK,SAAArE,GAAU,OAAAA,EAAOi2B,MAAQI,IAE/Dv9B,EAAK0+B,SAASD,GAEdz+B,EAAK2+B,UAAU9wB,KAAK0vB,OAQpBH,EAAAx9B,UAAAg+B,qCACFn+B,KAAK++B,qBACP/+B,KAAK++B,oBAAoB70B,mCA/J9BwI,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,uBACVC,SAAU,srBAgBVC,OAAQ,CAAC,6aAtBFssB,EAAAA,sBAAgB3lB,EAAAA,+CAkCtBvG,EAAAA,uBAEAA,EAAAA,sBAiBAC,EAAAA,OAAMpR,KAAA,CAAC,6BAEPoR,EAAAA,OAAMpR,KAAA,CAAC,kBAxDV,GCAAs9B,GAAA,WAuDE,SAAAA,cAlBY,iBAcD,0BAED,oBAdVn/B,OAAAC,eAAIk/B,EAAAj/B,UAAA,SAAM,KAIV,WACE,OAAOH,KAAKq/B,aALd,SAAWh/B,GACTL,KAAKq/B,QAAUr/B,KAAKq/B,SAAWh/B,mCAiBjC++B,EAAAj/B,UAAAkY,SAAA,aAGQ+mB,EAAAj/B,UAAAm/B,qCAEYr/B,OAAOsB,KAAKvB,KAAKu/B,MAAM93B,OAAO,SAAA8M,GAC9C,IAAMzL,EAAQvI,EAAKg/B,KAAKhrB,GACxB,MAAqB,iBAAVzL,EACQ,KAAVA,GAAgBA,IAAU5G,YACxB0G,MAAMC,QAAQC,IACC,IAAjBA,EAAMtD,SAMPwD,QAAQ,SAAAuL,UACThU,EAAKg/B,KAAKhrB,MAKrB6qB,EAAAj/B,UAAAkP,MAAA,WACErP,KAAKw/B,WAGPJ,EAAAj/B,UAAAs/B,OAAA,WAEEz/B,KAAKs/B,iBAELt/B,KAAKi/B,gCArFRvsB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,2BACVC,SAAU,qmBA6BVC,OAAQ,CAAC,mFAgBR6sB,EAAAA,aAAY59B,KAAA,CAACiY,EAAAA,kBAjDhB,GCQM4lB,GAAiB,CAAC,CAAEv0B,MAAO,UAAWzC,QAAS,mBAiNnD,SAAAi3B,EACUhC,EACAzlB,GAFV,IAAA5X,EAAAP,KACUA,KAAA49B,MAAAA,EACA59B,KAAAmY,OAAAA,kBAzFQ,CAChBrU,OAAQ5B,+BAiBM,+BAWkB,oCAUEy9B,wBAUV,cA8BY,IAAIz0B,EAAAA,2BA6C/B,SAAC20B,GAEV,QAFU,IAAAA,IAAAA,GAAA,GAENt/B,EAAKu/B,YAAcD,EAAmB,CAExC,IAAME,EAAoB,CAExBp3B,QAAS,IAIX1I,OAAOsB,KAAKhB,EAAKu/B,YAAY92B,QAAQ,SAAAuL,GAEnC,GAAoC,oBAAzBhU,EAAKu/B,WAAWvrB,GAAsB,CAE/C,IAAM9M,EAAS,CAAEu4B,SAAUzrB,EAAKzL,MAAOvI,EAAKu/B,WAAWvrB,IAEvDwrB,EAAkBp3B,QAAQwI,KAAK1J,MAOI,EAAnCs4B,EAAkBp3B,QAAQnD,SAExBjF,EAAK0/B,qBAEuB,GAA1B1/B,EAAK2/B,kBAEP3/B,EAAK0/B,qBAAqB1/B,EAAK2/B,mBAAqBH,EAIpDx/B,EAAK0/B,qBAAqB9uB,KAAK4uB,GAMjCx/B,EAAK0/B,qBAAuB,CAACF,IAQnCx/B,EAAK4/B,2CAA0C,yBA8C/B,WAEZ5/B,EAAKu/B,YAEP7/B,OAAOsB,KAAKhB,EAAKu/B,YAAY92B,QAAQ,SAAAuL,GAEnChU,EAAKu/B,WAAWvrB,GAAOrS,qCAsPA,SAAC2L,GAExBL,OAASA,MAAY,OAEKK,EAAa,KAAE/B,KAAK,SAAAtL,GAE9C,IAAMmd,EAAY,GAAGnd,EAAgB,WAAO,GAEtC4/B,EAAmE,GAAnDziB,EAAUnc,QAAQjB,EAAK8/B,yBAEvCC,EAAkD,GAAnC3iB,EAAUnc,QAAQ,cAEjC++B,EAAkE,GAA/C5iB,EAAUnc,QAAQ,0BAErCg/B,EAAuE,GAA9C7iB,EAAUnc,QAAQ,yBAEjD,OAAO4+B,GAAiBE,GAAgBC,GAAoBC,MAM5DjgC,EAAKkgC,eAELlgC,EAAKmgC,4BAxfXzgC,OAAAC,eAAI0/B,EAAAz/B,UAAA,qBAAkB,KAOtB,WACE,OAAOH,KAAK2gC,yBARd,SAAuBtgC,GACjBL,KAAK2gC,sBAAwBtgC,IAC/BL,KAAK2gC,sBAAwBtgC,EAC7BL,KAAK4gC,uBAAuBvgC,qCA2DhCJ,OAAAC,eACI0/B,EAAAz/B,UAAA,UAAO,KAuBX,WACE,OAAOH,KAAKk+B,cAzBd,SACY79B,GAEVA,EAAKA,GAAgB,EAAXA,EAAEmF,OAAcnF,EAAIs/B,GAE1B3/B,KAAKk+B,WAAa79B,IAEpBL,KAAKk+B,SAAW79B,EAAEoI,IAAI,SAAAhB,GAAU,OAAA,IAAI01B,GAAc11B,uCAMtDxH,OAAAC,eAAI0/B,EAAAz/B,UAAA,kBAAe,KAAnB,WACE,OAAOH,KAAK6gC,sBAGd,SACoBxgC,IACR,IAANA,IACFL,KAAK6gC,kBAAmB,oCAqB5BjB,EAAAz/B,UAAAkY,SAAA,WACErY,KAAK8gC,kBACL9gC,KAAK+gC,aACL/gC,KAAKghC,iBACLhhC,KAAKihC,2BAGPrB,EAAAz/B,UAAA0F,YAAA,WACE7F,KAAKkhC,oBACLlhC,KAAKmhC,yBACLnhC,KAAKohC,yBAGPxB,EAAAz/B,UAAAkhC,kBAAA,WAAA,IAAA9gC,EAAAP,KACEA,KAAKshC,iBAAmBthC,KAAKshC,gBACxBthC,KAAKshC,gBAGRlyB,WAAW,WACT7O,EAAKghC,YAAY7yB,cAAcC,SAC9B,KAJH3O,KAAKwhC,oBAAqB,GAQ9B5B,EAAAz/B,UAAAshC,qBAAA,SAAqB5zB,GAEnBA,EAAO6zB,kBAEP1hC,KAAKwhC,oBAAsBxhC,KAAKwhC,oBAuDlC5B,EAAAz/B,UAAAq/B,QAAA,WAEEx/B,KAAKygC,eAELzgC,KAAK6H,aAAe3F,UAEpBlC,KAAK2hC,wBAA0Bz/B,UAE/BlC,KAAKigC,qBAAuB/9B,UAE5BlC,KAAK0gC,kBAEL1gC,KAAKi/B,YAIPW,EAAAz/B,UAAAyhC,qBAAA,SAAqBC,GAEnB7hC,KAAK6H,aAAe7H,KAAK6H,aAAaJ,OAAO,SAACq6B,EAAO54B,GAAU,OAAAA,IAAU24B,IAEzE7hC,KAAK2hC,wBAA0B3hC,KAAK2hC,wBAAwBl6B,OAAO,SAACq6B,EAAO54B,GAAU,OAAAA,IAAU24B,IAE/F7hC,KAAKigC,qBAAuBjgC,KAAKigC,qBAAqBx4B,OAAO,SAACq6B,EAAO54B,GAAU,OAAAA,IAAU24B,IAEzF7hC,KAAKi/B,UAAS,IAIhBW,EAAAz/B,UAAA4hC,mBAAA,SAAmBF,GAEjB7hC,KAAKkgC,kBAAoB2B,EAEzB,IAAMG,EAAuBhiC,KAAK2hC,wBAAwBE,GAEtDG,GAA8D,EAAtCA,EAAqBr5B,QAAQnD,QAEvDxF,KAAKiiC,mCAAmCD,EAAqBr5B,UAqBjEi3B,EAAAz/B,UAAA+hC,YAAA,WACEnhC,QAAQC,IAAI,mCAQd4+B,EAAAz/B,UAAAgiC,+BAAA,SAA+BC,EAAcC,GAE3C,IAAM56B,EAAS,CACbu4B,SAAYoC,EACZt5B,MAASu5B,GAGPriC,KAAK2hC,wBAEP3hC,KAAK2hC,wBAAwB34B,QAAQ,SAACN,GAEJA,EAAYC,QAAQmD,KAAK,SAAAw2B,GAAqB,OAAAA,EAAkBtC,WAAav4B,EAAOu4B,YAIlHt3B,EAAYC,QAAQwI,KAAK1J,KAQ7BzH,KAAK2hC,wBAA0B,CAAC,CAAEh5B,QAAS,CAAClB,KAI9CzH,KAAKigC,qBAAuBjgC,KAAK2hC,wBAEjC3hC,KAAKmgC,6CAIPP,EAAAz/B,UAAAsgC,aAAA,WAEEzgC,KAAKkgC,kBAAoBh+B,UAEzBlC,KAAKwhC,oBAAqB,EAE1BxhC,KAAKshC,iBAAkB,GAIjB1B,EAAAz/B,UAAAggC,mDAA0CpC,mBAAA,IAAAA,IAAAA,GAAA,GAEhD/9B,KAAKuiC,2BAA2BxE,GAC7Bl9B,KAAK,WAECN,EAAKiiC,gBAMVjiC,EAAKkiC,0BACF5hC,KAAK,WAEJN,EAAKkgC,eAELlgC,EAAKmgC,uBASPd,EAAAz/B,UAAA8hC,4CAAmCt5B,cAEzC3I,KAAK0gC,kBAEL/3B,EAAQK,QAAQ,SAAAvB,GAEVA,EAAOqB,QAETvI,EAAKu/B,WAAWr4B,EAAOu4B,UAAYv4B,EAAOqB,SAM9C9I,KAAK0iC,eAIC9C,EAAAz/B,UAAAuiC,uBAEN1iC,KAAKwhC,oBAAqB,EAE1BxhC,KAAKshC,iBAAkB,GAIjB1B,EAAAz/B,UAAA8gC,mCAEFjhC,KAAK2iC,0BAEP3iC,KAAK2iC,wBAAwBpD,KAAOv/B,KAAK8/B,WAEzC9/B,KAAK2iC,wBAAwB1D,SAAWj/B,KAAKi/B,SAE7Cj/B,KAAK2iC,wBAAwBnD,QAAUx/B,KAAK0gC,kBAMxCd,EAAAz/B,UAAAygC,gCAAuBgC,GAEzB5iC,KAAK2iC,0BAEP3iC,KAAK2iC,wBAAwBE,OAASD,IAMlChD,EAAAz/B,UAAA2gC,sCACF9gC,KAAK8iC,sBACP9iC,KAAK+iC,uBAAyB/iC,KAAK8iC,oBAAoBh/B,OAAOkG,UAAU,SAAAg5B,GAElEA,EAAY5F,UAEd78B,EAAK0iC,WAAa,WAElB1iC,EAAK2iC,gBAAkBF,EAAY5F,WAInC78B,EAAK0iC,WAAa,OAElB1iC,EAAK2iC,gBAAkBhhC,WAIzB3B,EAAK4iC,WAAaH,EAAYr6B,QAE9BpI,EAAKgiC,2BAA2BhiC,EAAK6iC,eAAiBJ,EAAYjF,SAElEx9B,EAAK6iC,eAAgB,MAMnBxD,EAAAz/B,UAAAghC,kCACFnhC,KAAK+iC,wBACP/iC,KAAK+iC,uBAAuB74B,eAIxB01B,EAAAz/B,UAAAkjC,kDAEAC,EAAgB,GAEhBC,EAA2B,GAE7BvjC,KAAKigC,sBAAwBjgC,KAAKigC,qBAAqBz6B,OAEzDxF,KAAKigC,qBAAqBj3B,QAAQ,SAACN,GAEjC,IAAMH,EAAkB,CACtBI,QAASD,EAAYC,QAAQzD,SAG3B3E,EAAK4iC,aACPrW,EAAAvkB,EAAgBI,SAAQwI,KAAIwU,MAAAmH,EAAArF,GAAIlnB,EAAK4iC,aAGvCG,EAAcnyB,KAAK5I,GAEnB,MAAMi7B,EAA6B,CACjC76B,QAASD,EAAYC,QAAQzD,SAG/Bq+B,EAAyBpyB,KAAKqyB,KAIvBxjC,KAAKmjC,YAEdG,EAAcnyB,KAAK,CAAExI,QAAS3I,KAAKmjC,aAIrCnjC,KAAK6H,aAAey7B,EAAc99B,OAAS89B,EAAgBphC,UAE3DlC,KAAK2hC,wBAA0B4B,EAAyB/9B,OAAS+9B,EAA2BrhC,WAOtF09B,EAAAz/B,UAAAoiC,oCAA2BxE,mBAAA,IAAAA,IAAAA,GAAA,GAEjC,IAAIl2B,EAAe7H,KAAK6H,aAAeQ,KAAKG,MAAMH,KAAKC,UAAUtI,KAAK6H,eAAiB3F,UAEvF,OAAO,IAAIqP,QAAQ,SAACzQ,EAAK2iC,GAEvBljC,EAAK8iC,8BAED9iC,EAAKmjC,YAEP77B,EAAetH,EAAKmjC,UAAU77B,IAIhCtH,EAAKuD,OAAOsK,KAAK,CACfvG,aAAcA,EACdk2B,QAASA,EACTkF,WAAY1iC,EAAK0iC,WACjB7F,SAAU78B,EAAK2iC,kBAGjBpiC,OAgDI8+B,EAAAz/B,UAAA4gC,sBACNlf,SAASuR,iBAAiB,QAASpzB,KAAK2jC,oBAAoB,IAOtD/D,EAAAz/B,UAAA+gC,6BACNrf,SAAS+hB,oBAAoB,QAAS5jC,KAAK2jC,oBAAoB,IAOzD/D,EAAAz/B,UAAA0jC,+BACN,OAAO7jC,KAAKqJ,KAAO,WAObu2B,EAAAz/B,UAAA6gC,qCAEDhhC,KAAKwiC,iBAMVxiC,KAAK8jC,2BAA6B9jC,KAAK49B,MAAMzR,YAC1CniB,UAAU,SAAChG,GAEV,IAAMiZ,EAAW3T,OAAOy6B,YAAY,WAElC,GAAIxjC,EAAK8I,KAAM,CAEb,IAAM26B,EAAehgC,EAAOzD,EAAKsjC,uBAEjC,GAAIG,GAEEA,IAAiBzjC,EAAK0jC,wBAAyB,CAEjD,IAAMx8B,EAASlH,EAAK2jC,wBAAwBF,GAE5CzjC,EAAK0/B,qBAAuBx4B,EAE5BlH,EAAK8iC,8BAEL9iC,EAAK0+B,WAMT31B,OAAO66B,cAAclnB,KAItB,QASD2iB,EAAAz/B,UAAAihC,iCAEFphC,KAAK8jC,4BAEP9jC,KAAK8jC,2BAA2B55B,eAU5B01B,EAAAz/B,UAAAsiC,8CAEN,OAAO,IAAIlxB,QAAQ,SAACzQ,EAAK2iC,GAEvB,IAAMW,EAAe7jC,EAAK8jC,qCAE1B9jC,EAAK+jC,oBAAoBF,GAAcvjC,KAAKC,EAAK2iC,MAW7C7D,EAAAz/B,UAAAmkC,6BAAoB78B,GAE1BzH,KAAKikC,wBAA0Bx8B,EAE/B,IAAM0kB,EAAsBlsB,OAAOmlB,OAAO,GAAIplB,KAAK49B,MAAMgB,SAASzS,aAIlE,OAFAA,EAAYnsB,KAAK6jC,uBAAyBp8B,EAEnCzH,KAAKmY,OAAOgB,SAAS,CAAC,KAAM,CAAE0lB,WAAY7+B,KAAK49B,MAAOzR,YAAaA,EAAa2S,YAAY,KAQ7Fc,EAAAz/B,UAAAkkC,8CACN,OAAIrkC,KAAK2hC,yBAA2B3hC,KAAK2hC,wBAAwBn8B,OAC1C++B,KAAKC,mBAAmBn8B,KAAKC,UAAUtI,KAAK2hC,2BACjBj7B,QAAQ,KAAM,IAGvDxE,WASH09B,EAAAz/B,UAAA+jC,iCAAwBF,GAG9B,IAFA,IAMIS,EANEC,EAA2C,EAA3BV,EAAax+B,OAAS,EAAS,EAAKw+B,EAAax+B,OAAS,EAAK,EAE5EgY,EAAI,EAAGA,EAAIknB,EAAclnB,IAChCwmB,GAAgB,IAKlB,IACES,EAAep8B,KAAKG,MAAMm8B,mBAAmBC,KAAKZ,KAClD,MAAO3iC,GAEPN,QAAQM,MADI,sHACO2iC,GAGrB,OAAOA,EAAeS,EAAeviC,+BArwBxCwQ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,kBACVC,SAAU,23GAiGVC,OAAQ,CAAC,08CA5GFssB,EAAAA,sBAAgB3lB,EAAAA,6CA8KtBvG,EAAAA,8BAEAA,EAAAA,8BAEAA,EAAAA,uBAEAA,EAAAA,+BAiBAA,EAAAA,sBAWAC,EAAAA,4BAEAH,EAAAA,UAASjR,KAAA,CAAC,4CAEViR,EAAAA,UAASjR,KAAA,CAAC67B,qCAEV+B,EAAAA,aAAY59B,KAAA,CAACs9B,YCvNhByF,GAAA,WAyDE,SAAAA,sBANwB,eAEc,IAAI35B,EAAAA,uBAEN,IAAIA,EAAAA,oBAIxC25B,EAAA1kC,UAAAkY,SAAA,aAGAwsB,EAAA1kC,UAAA4hC,mBAAA,SAAmBl0B,EAAQnF,GACzBmF,EAAO6zB,kBACP1hC,KAAK8kC,KAAK12B,KAAK1F,IAEjBm8B,EAAA1kC,UAAAyhC,qBAAA,SAAqB/zB,EAAQnF,GAC3BmF,EAAO6zB,kBACP1hC,KAAKsP,OAAOlB,KAAK1F,IAGnBm8B,EAAA1kC,UAAA4kC,aAAA,SAAaj8B,GAEX,IAEIlH,EAEJ,QAAQ,GACN,KAAwC,IAAnC,IALYgH,MAAMC,QAAQC,GAASA,EAAM,GAAKA,IAK9BtH,QAAQ,QAC3BI,EAAO,OACP,MACF,QACEA,EAAO,UAIX,OAAOA,uBApFV8Q,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,gCACVC,SAAU,uqCA2CVC,OAAQ,CAAC,ilkBAIRI,EAAAA,sBAEAC,EAAAA,qBAEAA,EAAAA,YAvDH,GCAA8xB,GAAA,oDAMC5xB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAE,EAAAA,eACAG,EAAAA,cACAkG,EAAAA,iBAEF/F,aAAc,CAAC+wB,IACf9wB,QAAS,CAAC8wB,UAdZ,GCAAI,GAAA,WAUE,SAAAA,EAAoBn6B,EACAo6B,EACAC,GAFAnlC,KAAA8K,QAAAA,EACA9K,KAAAklC,YAAAA,EACAllC,KAAAmlC,cAAAA,gBAJF,SAOlBllC,OAAAC,eACI+kC,EAAA9kC,UAAA,gBAAa,KADjB,SACkBslB,GACXA,EAIHzlB,KAAKolC,cAAc3f,IAHnBzlB,KAAKmlC,cAAcE,mBAAmBrlC,KAAKklC,aAC3CllC,KAAKslC,SAAU,oCAMnBL,EAAA9kC,UAAAilC,cAAA,SAAc3f,GAAd,IAAAllB,EAAAP,KACEA,KAAK8K,QAAQ5H,MAAM8G,UACjB,SAAAC,GACMA,GAAQ1J,EAAKglC,gBAAgB9f,EAAGxb,EAAKwzB,aAClCl9B,EAAK+kC,UACR/kC,EAAK4kC,cAAcE,mBAAmB9kC,EAAK2kC,aAC3C3kC,EAAK+kC,SAAU,IAGjB/kC,EAAK4kC,cAAcl2B,QACnB1O,EAAK+kC,SAAU,MAMfL,EAAA9kC,UAAAolC,yBAAgBC,EAA6BC,QAA7B,IAAAD,IAAAA,EAAA,SAA6B,IAAAC,IAAAA,EAAA,IACnD,IAME,QALqBA,EAAa35B,KAAK,SAAC45B,GACtC,QAAOF,EAAa15B,KAAK,SAAC65B,GACxB,OAAOA,IAAeD,MAI1B,MAAOrkC,GACP,OAAO,wBA/CZ6gB,EAAAA,UAASpgB,KAAA,CAAC,CACT6Q,SAAU,+DAHH5Q,SADkBgY,EAAAA,mBAAaoI,EAAAA,2DAerClP,EAAAA,WAfH,GCAA2yB,GAAA,oDAGCxyB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,GACTS,aAAc,CACZmxB,IAEFlxB,QAAS,CACPkxB,UATJ,GCAAY,GAAA,oDAWCzyB,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACA/F,EAAAA,YACAoxB,GACAY,GACAlyB,EAAAA,gBACAoyB,EAAAA,cACAtyB,EAAAA,eACAG,EAAAA,cACAF,EAAAA,eACAoG,EAAAA,iBAEF/F,aAAc,CAAC8rB,GAAwBjC,IACvC5pB,QAAS,CAAC6rB,UA1BZ,GCAAmG,GAAA,WA+BE,SAAAA,kBAZkB,kBAIG,qBAEF,oBAEqB,IAAI76B,EAAAA,wBAE5B,UAIhBjL,OAAAC,eAAI6lC,EAAA5lC,UAAA,OAAI,KAMR,WACE,OAAOH,KAAKgmC,WAPd,SAAS3lC,GACHL,KAAKgmC,QAAU3lC,IACjBL,KAAKgmC,MAAQ3lC,oCAQjB0lC,EAAA5lC,UAAAkY,SAAA,aAGA0tB,EAAA5lC,UAAA8lC,YAAA,SAAYz4B,EAAOrC,EAAM+6B,EAAMh9B,GAE7BlJ,KAAKmmC,SAAS/3B,KAAK,CAACZ,MAAKA,EAAErC,KAAIA,EAAE+6B,KAAIA,EAAEh9B,MAAKA,yBA9C/CwJ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,gBACVC,SAAU,0ZAWVC,OAAQ,CAAC,mFAMR6sB,EAAAA,aAAY59B,KAAA,CAACiY,EAAAA,gCAEb9G,EAAAA,uBAEAA,EAAAA,wBAEAC,EAAAA,YA3BH,GCAAkzB,GAAA,mCAcmB,iBAWE,SATnBnmC,OAAAC,eAAakmC,EAAAjmC,UAAA,UAAO,KAKpB,WACE,OAAOH,KAAKqmC,cANd,SAAqBhmC,GACnB,IAAMimC,GAAUjmC,EAChBL,KAAKqmC,SAAWv0B,MAAMw0B,GAAU,EAAIA,uDAhBvC5zB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,8BAEVC,OAAQ,CAAC,0CAIR6sB,EAAAA,aAAY59B,KAAA,CAACiY,EAAAA,2BAEb9G,EAAAA,qBAEAA,EAAAA,uBAEAA,EAAAA,WAhBH,iBCiFE,SAAAszB,kBAdkB,cAMU,aAIQ,IAAIr7B,EAAAA,2BAEA,IAAIA,EAAAA,oBAzB5CjL,OAAAC,eACIqmC,EAAApmC,UAAA,OAAI,KAMR,WACE,OAAOH,KAAKgmC,WARd,SACS3lC,GACHL,KAAKgmC,QAAU3lC,IACjBL,KAAKgmC,MAAQ3lC,oCA0BjBkmC,EAAApmC,UAAAqmC,OAAA,SAAOh5B,GAEL,IAAMi5B,EAAa,CAAC,CAClBzG,SAAUxyB,EAAMk5B,MAAM,GAAGC,KACzBC,MAAOp5B,EAAMk5B,MAAM,GAAGG,IAAIC,gBAGxBL,IAAezmC,KAAK+mC,oBAEtB/mC,KAAK+mC,kBAAoBN,EAEzBzmC,KAAKkI,KAAKkG,KAAKpO,KAAK+mC,qBAMxBR,EAAApmC,UAAA6mC,SAAA,SAASla,SAAE/gB,EAAA+gB,EAAA/gB,SACT/L,KAAK+L,SAASwD,OAAO,EAAGvP,KAAK+L,SAASvG,SACtCyhC,EAAAjnC,KAAK+L,UAASoF,KAAIwU,MAAAshB,EAAAxf,GAAI1b,KAGxBw6B,EAAApmC,UAAA8lC,YAAA,SAAYp4B,GAEV,IAAML,EAAQK,EAER1C,EAAO0C,EAAOq5B,IAEdhB,EAAOlmC,KAAKmnC,KAEZj+B,EAAQ2E,EAAOq5B,IAAIE,QAEzBpnC,KAAKmmC,SAAS/3B,KAAK,CAAEZ,MAAKA,EAAErC,KAAIA,EAAE+6B,KAAIA,EAAEh9B,MAAKA,yBA/GhDwJ,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,iBACVC,SAAU,otCA4CVC,OAAQ,CAAC,q3CAIRI,EAAAA,0BAWAA,EAAAA,8BAIAF,EAAAA,UAASjR,KAAA,CAACulC,EAAAA,qCAMV9rB,EAAAA,gBAAezZ,KAAA,CAACskC,kBAEhBlzB,EAAAA,yBAEAA,EAAAA,eCpEGo0B,GAA0B,SAACC,EAAOhjC,GAAO,OAAAgjC,EAAMhjC,KAAOA,iBAuc1D,SAAAijC,EACU18B,GADV,IAAAvK,EAAAP,KACUA,KAAA8K,QAAAA,kBA/VwB,uBAgFQ,IAAI28B,EAAAA,uBAO3B,yBA0CS,IAAIv8B,EAAAA,wBAsIf,iCAcmB,oCAchB,oBAOE,kBAOC,IAAIA,EAAAA,2BAOa,IAAIA,EAAAA,8BAuQtB,WAEpB,IAAIsyB,EAAWj9B,EAAKi9B,SAgBpB,OAdIj9B,EAAKkH,QAAUlH,EAAKkH,OAAOq7B,sBAI3BtF,EAFEj9B,EAAKy+B,aAAez+B,EAAKy+B,YAAYxB,SAE5Bj9B,EAAKy+B,YAAYxB,SAIjBj9B,EAAKmnC,MAAQ,QAAU,QAM/BlK,4BA2HqB,SAAC3vB,GAE7B,GAAIA,EAAa,QAEoBA,EAAa,KAAE/B,KAAK,SAAAtL,GAErD,IAAMmd,EAAYnd,EAAgB,WAAK,GAEjCmnC,EAAoD,GAApChqB,EAAUnc,QAAQ,eAElComC,EAAsF,GAApDjqB,EAAUnc,QAAQ,+BAE1D,OAAOmmC,GAAiBC,MAMnBrnC,EAAKsnC,YAAY,CAEpB,IAAMnqB,EAAc7P,EAAe,OAE7BjG,EAAQ8V,EAAOoqB,aAAepqB,EAAOqqB,aAEvCrqB,EAAOsqB,WAAcpgC,EAAQ,IAE/BrH,EAAK0nC,kCAuCW,SAACp6B,GAEpBtN,EAAK2nC,SAER3nC,EAAK4nC,kBAAkB/5B,KAAKP,WAlwBhC5N,OAAAC,eAAIsnC,EAAArnC,UAAA,UAAO,KAYX,WACE,OAAOH,KAAKooC,cAbd,SAAY/nC,GAEVL,KAAKooC,SAAW/nC,EAEZL,KAAKyH,SAEPzH,KAAKyH,OAAOygC,QAAU7nC,oCAe1BJ,OAAAC,eAAIsnC,EAAArnC,UAAA,eAAY,KAAhB,WACE,OAAOH,KAAKyH,OAASzH,KAAKyH,OAAOI,aAAe,oCAiLlD5H,OAAAC,eACIsnC,EAAArnC,UAAA,WAAQ,KAMZ,WACE,OAAOH,KAAK+X,eARd,SACa1X,GACPL,KAAK+X,YAAc1X,IACrBL,KAAK+X,UAAa1X,EAAE,IAAe,MAATA,EAAE,GAAcA,EAAEqG,QAAQ,IAAK,IAAMrG,oCAanEJ,OAAAC,eACIsnC,EAAArnC,UAAA,OAAI,KAOR,WACE,OAAOH,KAAKqoC,WATd,SACShoC,GACHL,KAAKqoC,QAAUhoC,IACjBL,KAAKqoC,MAAQhoC,EACbL,KAAKsoC,yEAaTroC,OAAAC,eAEIsnC,EAAArnC,UAAA,OAAI,KAKR,WACE,OAAOH,KAAKuoC,OAASvoC,KAAKuoC,OAAOniB,OAAO+gB,KAAOjlC,eARjD,SAESilC,GACPnnC,KAAKwoC,WAAarB,EAClBnnC,KAAKyoC,QAAQzoC,KAAKwoC,6CAkFpBvoC,OAAAC,eACIsnC,EAAArnC,UAAA,SAAM,KAOV,WACE,OAAOH,KAAK0oC,aATd,SACWroC,GACLL,KAAK0oC,UAAYroC,IACnBL,KAAK0oC,QAAUroC,EACfL,KAAKsoC,yEA2BTd,EAAArnC,UAAAkY,SAAA,WACErY,KAAK2oC,kBACL3oC,KAAK4oC,mBACL5oC,KAAK6oC,6CAWRrB,EAAArnC,UAAA0M,gBAAA,WACE7M,KAAK8oC,cACL9oC,KAAK+oC,cACL/oC,KAAKgpC,iBACLhpC,KAAKipC,kBACLjpC,KAAKkpC,iBACLlpC,KAAKmpC,wBACLnpC,KAAKopC,yBACLppC,KAAKqpC,cACLrpC,KAAKspC,2BAYN9B,EAAArnC,UAAA0F,YAAA,WACE7F,KAAKupC,8BACLvpC,KAAKwpC,qBACLxpC,KAAKypC,qBACLzpC,KAAK0pC,yBACL1pC,KAAK2pC,wBACL3pC,KAAK4pC,kCAOPpC,EAAArnC,UAAA0pC,kBAAA,WAAA,IAAAtpC,EAAAP,KAEE,GAAIA,KAAKyH,QAAUzH,KAAKyH,OAAOkB,SAAW3I,KAAKyH,OAAOqiC,gBAAiB,CAErE,IAAM1nC,EAAuD,MAA5CpC,KAAKoC,SAASpC,KAAKoC,SAASoD,OAAS,GAAgBxF,KAAKoC,SAAQ,QAAapC,KAAKoC,SAAQ,SAEvGuG,EAAU3I,KAAKyH,OAAOkB,QAEtBohC,EAAkC/pC,KAAKgqC,oBAAoBrhC,GAEjE3I,KAAK8K,QAAQrG,KAAKrC,EAAU2nC,GACzB//B,UAAU,SAAAlJ,GAETP,EAAK89B,YAAc99B,EAAK0pC,iBAAiBnpC,GAEzCP,EAAKkH,OAAO42B,YAAc99B,EAAK89B,gBAavCmJ,EAAArnC,UAAA+pC,WAAA,SAAWC,EAAwBC,EAAqCrM,GAAxE,IAAAx9B,EAAAP,KAEE,QAFiC,IAAAoqC,IAAAA,EAAA9C,SAAqC,IAAAvJ,IAAAA,GAAA,GAElEn1B,MAAMC,QAAQshC,GAEhBA,EAAInhC,QAAQ,SAAAzE,GAEVhE,EAAK2pC,WAAW3lC,EAAI6lC,GAAW,SAI5B,CAEL,IAAMj/B,EAAOnL,KAAKmnC,KAAKr7B,KAAK,SAACy7B,GAAU,OAAA6C,EAAU7C,EAAO4C,KAExD,GAAIh/B,EAAM,CAEN,IAAMk/B,EAAYrqC,KAAKmnC,KAAK3lC,QAAQ2J,GAEnB,GAAbk/B,GAEFrqC,KAAKmnC,KAAK53B,OAAO86B,EAAW,GAI9B,IAAMC,EAAoBtqC,KAAK+L,SAASvK,QAAQ2J,GAEvB,GAArBm/B,GAEAtqC,KAAK+L,SAASwD,OAAO+6B,EAAmB,IAQ9CvM,GAAW/9B,KAAKoC,UAElBpC,KAAK6pC,qBAWTrC,EAAArnC,UAAAoqC,QAAA,WAEEvqC,KAAKwqC,YAAW,GAChBxqC,KAAKyqC,iBAOPjD,EAAArnC,UAAA8nC,SAAA,WAEE,OAAOjoC,KAAKwqC,cASdhD,EAAArnC,UAAAuqC,kBAAA,SAAkBjjC,GAEZzH,KAAK2qC,sBAAwBljC,EAAOi2B,KAEtC19B,KAAK4qC,sBAAsBnjC,EAAOi2B,MAWtC8J,EAAArnC,UAAA0qC,mBAAA,WACE,OAAO7qC,KAAKyc,MAAQzc,KAAK0nC,OAQ3BF,EAAArnC,UAAA2qC,eAAA,WAAA,IAAAvqC,EAAAP,KAEEA,KAAKw9B,SAA6B,SAAlBx9B,KAAKw9B,SAAsB,QAAU,OAE/B,UAAlBx9B,KAAKw9B,UAEPpuB,WAAW,WAET7O,EAAKmnC,MAAMqD,eAAeC,eAEzB,IAWPxD,EAAArnC,UAAA8qC,oBAAA,SAAoBvN,GAElB,IAEE,OAAO19B,KAAKq+B,YAAYr+B,KAAKg/B,aAAa5B,SAASM,GAAKL,MAExD,MAAOh8B,GAEP,MAAO,MAuCHmmC,EAAArnC,UAAA8pC,0BAAiBiB,cAEjB7M,EAA2B,CAC/BhB,MAAO,GAmBT,OAhBA6N,EAAgBliC,QAAQ,SAAAmC,GAEtBkzB,EAAYlzB,EAAKuyB,KAAO,CAEtBL,MAAOlyB,EAAKkyB,OAIVlyB,EAAKiyB,WAEPiB,EAAYlzB,EAAKuyB,KAAKN,SAAW78B,EAAK0pC,iBAAiB9+B,EAAKiyB,aAMzDiB,GAYDmJ,EAAArnC,UAAA6pC,6BAAoBrhC,cAEpBg5B,EAA0B3hC,KAAKyH,OAAOk6B,yBAA2B,CAAC,CAAEh5B,QAAS,KAE7EwiC,EAAoBxiC,EAAQF,IAAI,SAAA2iC,GAEpC,IAAMC,EAA6BhjC,KAAKG,MAAMH,KAAKC,UAAU8iC,IAE7D,GAAIC,EAA2B1iC,QAAS,CAEtC,IAAM2iC,EAAiBjjC,KAAKG,MAAMH,KAAKC,UAAU+iC,EAA2B1iC,UAE5E0iC,EAA2B1iC,QAAUN,KAAKG,MAAMH,KAAKC,UAAUq5B,IAE/D0J,EAA2B1iC,QAAQK,QAAQ,SAAAN,UAEzCokB,EAAApkB,EAAYC,SAAQwI,KAAIwU,MAAAmH,EAAArF,GAAI6jB,WAIrBD,EAA2BjO,WAEpCiO,EAA2BjO,SAAW78B,EAAKypC,oBAAoBqB,EAA2BjO,WAI5F,MAAO,CACLM,IAAK2N,EAA2B3N,IAChC/0B,QAAS0iC,EAA2B1iC,QACpCy0B,SAAUiO,EAA2BjO,YAKzC,OAAOp9B,KAAKurC,0BAA0BJ,IAUhC3D,EAAArnC,UAAAorC,mCAA0B1jC,cAEhC,YAFgC,IAAAA,IAAAA,EAAA,IAEzBA,EAAaY,IAAI,SAAA+iC,GAuBtB,OArBIA,EAAc7iC,UAEhBpI,EAAKkrC,8CAA8CD,EAAc7iC,SAEjE6iC,EAAc7iC,QAAU6iC,EAAc7iC,QAAQF,IAAI,SAAAC,GAWhD,OARAA,EAAYC,QAAUD,EAAYC,QAAQF,IAAI,SAAAhB,GAI5C,OAFAA,EAAOqB,MAAQF,MAAMC,QAAQpB,EAAOqB,OAASrB,EAAOqB,MAAQ,CAACrB,EAAOqB,OAE7DrB,IAIFiB,KAMJ8iC,KAqDHhE,EAAArnC,UAAA6oC,0BAENhpC,KAAK0rC,eAUClE,EAAArnC,UAAA0oC,qDAEN7oC,KAAKw9B,SAAWx9B,KAAKw9B,SAAWx9B,KAAKw9B,SAAWx9B,KAAK0nC,MAAQ,QAAU,QAwBjEF,EAAArnC,UAAAwrC,+BACN,OAAO3rC,KAAKyH,QAAUzH,KAAKyH,OAAOq7B,qBAU5B0E,EAAArnC,UAAA4oC,uBACF/oC,KAAK2rC,sBACP3rC,KAAK4rC,0BAEL5rC,KAAK6rC,oBAAmB,IAYpBrE,EAAArnC,UAAAyrC,mCACN5rC,KAAKyH,OAAOq7B,oBAAoBiG,eAQ1BvB,EAAArnC,UAAA0rC,4BAAmBC,GACzB9rC,KAAKwqC,WAAWsB,IASVtE,EAAArnC,UAAAyoC,4BACN,IAAK5oC,KAAKqJ,KAAM,CAGd,MAAM,IAAI6H,MAFI,qKAYVs2B,EAAArnC,UAAAyqC,+BAAsBmB,cAEtBtkC,EAASzH,KAAKgsC,mBAAmB5O,SAAStxB,KAAK,SAAAX,GAAQ,OAAAA,EAAKuyB,MAAQqO,IAEpErjC,EAA2B,CAAEC,QAASlB,EAAOkB,SAEnD3I,KAAKwqC,YAAW,EAAM9hC,GAEtB0G,WAAW,WAET7O,EAAKoqC,oBAAsBljC,EAAOi2B,KAEjC,IAcG8J,EAAArnC,UAAAqqC,oBAAWyB,EAAgCC,cAEjD,OAAO,IAAI36B,QAAQ,SAACzQ,EAAK2iC,GAEnBwI,GAAwB1rC,EAAK4mC,OAE/B5mC,EAAKkqC,gBACLlqC,EAAKkoC,QAAQloC,EAAK4mC,OAIpB5mC,EAAK0rC,qBAAuBA,EAE5B1rC,EAAK2nC,SAAU,EAEX3nC,EAAK6B,SAEP7B,EAAK4rC,aAAaF,EAAsBC,GACrCrrC,KAAK,SAAAuD,GAEJ7D,EAAK6D,QAAUA,EAEf7D,EAAK6rC,WAAWjpC,KAAK,CAAEf,SAAU7B,EAAK6B,SAAUgC,QAAS7D,EAAK6D,QAASioC,IAAKvrC,EAAKmO,MAAOg9B,MAKnF1rC,EAAK+rC,kBAEd/rC,EAAK4rC,aAAaF,EAAsBC,GACrCrrC,KAAK,SAAAuD,GAEJ7D,EAAK6D,QAAUA,EAEf7D,EAAK6rC,WAAWjpC,SAIX5C,EAAK4mC,KAEdpmC,QAAQC,IAAI,8EAIZoO,WAAW,WAETq0B,EAAI,8CAEJljC,EAAK2nC,SAAU,GAEd,MAQDV,EAAArnC,UAAAgsC,sBAAaF,EAAuCC,cAE1D,YAFmB,IAAAD,IAAAA,GAAA,GAEZ,IAAI16B,QAAQ,SAACC,EAASC,GAE3B,IAAM86B,EAAqBhsC,EAAKkH,OAASlH,EAAKkH,OAAOI,aAAe3F,UAE9D2F,EAAetH,EAAKisC,oCAAoCD,EAAoBL,GAE5E9nC,EAAqB,GAE3BA,EAAQwD,MAAQrH,EAAKqH,MAEjBC,IAEFzD,EAAQyD,aAAeA,GAIrBtH,EAAKwmC,oBAEP3iC,EAAQ8D,KAAO3H,EAAKwmC,oBAIjBkF,GAAwB1rC,EAAKgoC,SAEhCnkC,EAAQuD,KAAOpH,EAAKgoC,OAAO5gC,KAAO,EAElCvD,EAAQwD,MAAQrH,EAAKgoC,OAAO3gC,OAI9B4J,EAAQpN,MAWJojC,EAAArnC,UAAAqsC,6CAAoC3kC,EAA4B4kC,GAoBtE,OAlBIA,IAEE5kC,GAAsC,EAAtBA,EAAarC,OAE/BqC,EAAamB,QAAQ,SAAA84B,UAEnBhV,EAAAgV,EAAMn5B,SAAQwI,KAAIwU,MAAAmH,EAAArF,GAAIglB,EAAoB9jC,YAM5Cd,EAAe,CAAC4kC,IAMb5kC,GAAgB,IAQjB2/B,EAAArnC,UAAAmoC,gDAEFtoC,KAAKyH,SAEPzH,KAAKyH,OAAO4B,KAAOrJ,KAAKqJ,KAGpBrJ,KAAKyH,OAAOq7B,sBAEd9iC,KAAKyH,OAAOq7B,oBAAoBz5B,KAAOrJ,KAAKqJ,KAExCrJ,KAAKssC,kBAEPtsC,KAAKyH,OAAOq7B,oBAAoBwJ,kBAAoBtsC,KAAKssC,kBAIzDtsC,KAAKyH,OAAOq7B,oBAAoBh4B,QAAU9K,KAAK8K,WAkB/C08B,EAAArnC,UAAAsoC,iBAAQtB,QAAA,IAAAA,IAAAA,EAAOnnC,KAAKwoC,YAAc,IAExCxoC,KAAKuoC,OAAS,CAEZ5gC,KAAM,EAENye,OAAQ,CAEN+gB,KAAMA,EAEN9J,MAAO8J,EAAK3hC,SAKhBxF,KAAK0sC,eAAevF,EAAMA,EAAK3hC,QAE/BxF,KAAK2sC,yBAQCnF,EAAArnC,UAAAmpC,mCAENtpC,KAAK4sC,8BAAgC5sC,KAAKmoC,kBACvCplC,KACCqH,EAAAA,aAAa,KACbgI,EAAAA,wBACApI,UAAUhK,KAAK6sC,sBASbrF,EAAArnC,UAAAypC,0CAEF5pC,KAAK4sC,+BAEP5sC,KAAK4sC,8BAA8B1iC,eAU/Bs9B,EAAArnC,UAAAwoC,sCACN3oC,KAAK8sC,eAAiB9sC,KAAKosC,WACxBrpC,KACCqH,EAAAA,aAAa,KACboI,EAAAA,UAAU,SAAC45B,GAET,IAAMW,EAAa,IAAI9qC,EAAAA,gBAAqBC,WAEtC8qC,EAAkCzsC,EAAK+rC,mBAAqB/rC,EAAKuK,QAAQnK,IAEzEyB,EAAWgqC,EAAaA,EAAWhqC,SAAWF,UAE9C6nC,EAAkCxpC,EAAK0sC,wDAAwD1sC,EAAK6D,SA0B1G,OAxBEgoC,GAAcA,EAAWn9B,OAC3B1O,EAAKkoC,UAGLuE,EAAY5qC,EAAU2nC,GACnB//B,UAAU,SAAAlJ,GAgBT,OAdAisC,EAAW5pC,KAAKrC,GAEZsrC,GAAcA,EAAWC,KAE3Bj9B,WAAW,WAETg9B,EAAWC,IAAI,IAAI96B,QAAQ,SAACC,EAASiyB,GAEnCjyB,EAAQ1Q,OAIT,GAEEA,IAGJisC,KAIb/sC,KAAKktC,6BAGC1F,EAAArnC,UAAA8sC,iEAAwD7oC,GAE9D,IAAM+oC,EAAWhoB,GAAA,GAAQ/gB,GAEzB,OAAI+oC,EAAYtlC,cAAgB7H,KAAKotC,sBAEnCD,EAAYtlC,aAAY4f,GAAOrjB,EAAQyD,cAEvC7H,KAAKyrC,8CAA8C0B,EAAYtlC,cAExDslC,GAIAntC,KAAKoE,SAMRojC,EAAArnC,UAAAsrC,uDAA8C5jC,cAE9CwlC,EAAsCrtC,KAAKstC,0CAA0CzlC,GAEvFwlC,GAAoF,EAA7CA,EAAoC7nC,QAE7E6nC,EAAoCrkC,QAAQ,SAAAukC,GAE1ChtC,EAAKitC,kBAAkB3lC,EAAc0lC,GAErC,IAAME,EAAcF,EAAmC5kC,QAAQmD,KAAK,SAAArE,GAAU,MAAoB,WAApBA,EAAOu4B,WAE/E0N,EAAmBH,EAAmC5kC,QAAQnH,QAAQisC,GAE5EltC,EAAK6sC,qBAAqBpkC,QAAQ,SAAAg3B,GAEhC,IAAM2N,EAA8B,CAClChlC,QAAO8e,GAAM8lB,EAAmC5kC,UAGlDglC,EAAehlC,QAAQ+kC,GAAoB,CACzC1N,SAAUA,EACVl3B,MAAO,CAAC2kC,EAAY3kC,QAGtBjB,EAAasJ,KAAKw8B,QAUlBnG,EAAArnC,UAAAqtC,2BAAkB3lC,EAAc0lC,GAEtC,IAAMK,EAA0C/lC,EAAarG,QAAQ+rC,GAErE1lC,EAAa0H,OAAOq+B,EAAyC,IAIvDpG,EAAArnC,UAAAmtC,mDAA0CzlC,GAEhD,OAAOA,EAAaJ,OAAO,SAAAiB,GAIzB,SAFyBA,EAAYC,QAAUD,EAAYC,QAAQmD,KAAK,SAAArE,GAAU,MAAoB,WAApBA,EAAOu4B,WAAyB99B,cAY9GslC,EAAArnC,UAAA+sC,gDACNltC,KAAK6tC,2BAA6B7tC,KAAK8sC,eACpC/pC,KACCC,EAAAA,IAAI,SAAAlC,GACEA,IACFP,EAAK2nC,SAAU,MAIpBl+B,UAAU,SAAA6hB,GACLA,GAAQA,EAAKzF,QAAUyF,EAAKzF,OAAO+gB,OAEhC5mC,EAAK0rC,uBACRpgB,EAAKzF,OAAO+gB,KAAO5mC,EAAKgoC,OAAOniB,OAAO+gB,KAAKzf,OAAOmE,EAAKzF,OAAO+gB,OAGhE5mC,EAAKgoC,OAAS1c,EAEdtrB,EAAKutC,WAAW1/B,KAAKyd,GAErBtrB,EAAKosC,wBAELpsC,EAAKmsC,eAAe7gB,EAAKzF,OAAO+gB,KAAMtb,EAAKzF,OAAOiX,WAMlDmK,EAAArnC,UAAAusC,wBAAevF,EAAM9J,GAE3B,IAAM0Q,EAAe5G,EAAK3hC,OAEpBwoC,EAA4B,IAAjBD,EAEXE,EAAiBF,IAAiB1Q,EAExCr9B,KAAK6nC,WAAamG,GAAYC,GAQxBzG,EAAArnC,UAAAopC,uCACFvpC,KAAK6tC,4BACP7tC,KAAK6tC,2BAA2B3jC,eAQ5Bs9B,EAAArnC,UAAAwsC,iCAEN,IAAMxF,EAAOnnC,KAAKoC,SAAWpC,KAAKuoC,OAAOniB,OAAO+gB,KAAOnnC,KAAKmnC,KAExDnnC,KAAKyc,OACPzc,KAAKyc,KAAK0qB,KAAOA,GAGfnnC,KAAK0nC,QACP1nC,KAAK0nC,MAAMP,KAAOA,GAGhBnnC,KAAKyH,SACPzH,KAAKyH,OAAO41B,MAAQr9B,KAAKuoC,OAAOniB,OAAOiX,QAUnCmK,EAAArnC,UAAAgpC,iCAEFnpC,KAAKyc,MACPzc,KAAKkuC,oBAGHluC,KAAK0nC,OACP1nC,KAAKmuC,sBAUD3G,EAAArnC,UAAAipC,6CAENh6B,WAAW,WACL7O,EAAKmnC,QACPnnC,EAAKmnC,MAAM37B,SAAWxL,EAAKwL,UAGzBxL,EAAKkc,OACPlc,EAAKkc,KAAK1Q,SAAWxL,EAAKwL,WAE3B,IAQGy7B,EAAArnC,UAAA+tC,wCACNluC,KAAKyc,KAAK0pB,SAASn8B,UAAU,SAAC6D,GAC5BtN,EAAK4lC,SAAS/3B,KAAKP,MAQf25B,EAAArnC,UAAAguC,yCACNnuC,KAAK0nC,MAAMvB,SAASn8B,UAAU,SAAC6D,GAC7BtN,EAAK4lC,SAAS/3B,KAAKP,MAQf25B,EAAArnC,UAAA2oC,kCACF9oC,KAAKyH,SACPzH,KAAKouC,mBAAqBpuC,KAAKyH,OAAO3D,OAAOkG,UAAU,SAAAwD,GAErD,IAAM6gC,GAAc9tC,EAAK+tC,qBAAwB/tC,EAAK+tC,sBAAwB/tC,EAAKy+B,YAE7EuP,EAAoBhuC,EAAK0iC,aAAez1B,EAAMy1B,WAE/C1iC,EAAK+tC,sBAAuBD,IAE/B9tC,EAAK+tC,oBAAsB/tC,EAAKy+B,YAEhCz+B,EAAKkoC,WAIH8F,IAEFhuC,EAAK0iC,WAAaz1B,EAAMy1B,YAIF,SAApB1iC,EAAK0iC,YAEP1iC,EAAKoqC,oBAAsBzoC,UAE3B3B,EAAKyrC,mBAAqB9pC,UAE1B3B,EAAKiqC,YAAW,GAAM3pC,KAAK,SAACC,GAEtB0M,EAAMuwB,SAERx9B,EAAKspC,wBAQJtpC,EAAK89B,cAAe7wB,EAAMuwB,SAE7Bx9B,EAAKspC,oBAIHtpC,EAAKoqC,sBAAwB0D,EAE/B9tC,EAAKqqC,sBAAsBrqC,EAAKoqC,sBAIhCpqC,EAAKyrC,mBAAqB,CACxBlO,IAAKv9B,EAAKy+B,YACV5B,SAAU5vB,EAAM4vB,SAAW5vB,EAAM4vB,SAAW,IAG9C78B,EAAKoqC,oBAAsBzoC,gBAc7BslC,EAAArnC,UAAAspC,8BACFzpC,KAAKouC,oBACPpuC,KAAKouC,mBAAmBlkC,eAQpBs9B,EAAArnC,UAAAkpC,kCACNj6B,WAAW,WACT7O,EAAKiuC,oBAAsB3sB,SAASgS,uBAAuBtzB,EAAKkuC,0BAA0B,GACtFluC,EAAKiuC,qBACPjuC,EAAKiuC,oBAAoBpb,iBAAiB,SAAU7yB,EAAKmuC,iBAAiB,IAE3E,IAOGlH,EAAArnC,UAAAqpC,8BACFxpC,KAAKwuC,qBACPxuC,KAAKwuC,oBAAoB5K,oBAAoB,SAAU5jC,KAAK0uC,iBAAiB,IAQzElH,EAAArnC,UAAA8oC,sCACFjpC,KAAKyH,QAAUzH,KAAKyH,OAAOq7B,sBAC7B9iC,KAAKg/B,YAAch/B,KAAKyH,OAAOq7B,oBAAoB9D,YACnDh/B,KAAK2uC,uBAAyB3uC,KAAKyH,OAAOq7B,oBAAoB5D,UAAUl1B,UAAU,SAAA8zB,GAChFv9B,EAAKy+B,YAAclB,EACnBv9B,EAAKyoC,qBASHxB,EAAArnC,UAAAupC,kCACF1pC,KAAK2uC,wBACP3uC,KAAK2uC,uBAAuBzkC,eAQxBs9B,EAAArnC,UAAA+oC,qCACFlpC,KAAK0nC,QAEP1nC,KAAK4uC,sBAAwB5uC,KAAK0nC,MAAMx/B,KAAK8B,UAAU,SAAA+8B,GAEjDxmC,EAAKwmC,oBAAsBA,IAE7BxmC,EAAKwmC,kBAAoBA,EAErBxmC,EAAKyrC,mBAEPzrC,EAAKqqC,sBAAsBrqC,EAAKoqC,qBAIhCpqC,EAAKiqC,YAAW,QAclBhD,EAAArnC,UAAAwpC,iCACF3pC,KAAK4uC,uBACP5uC,KAAK4uC,sBAAsB1kC,eASxBs9B,EAAArnC,UAAAsqC,yBACPzqC,KAAK+L,SAAW,GAChB/L,KAAKopC,8CA7lDN12B,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,WACVC,SAAU,srGAqFVC,OAAQ,CAAC,kRA9FF9Q,gDA8SNkR,EAAAA,iCAQAA,EAAAA,qCAOAA,EAAAA,wBAOAA,EAAAA,oBAgBAA,EAAAA,oBAiBAA,EAAAA,MAAKnR,KAAA,CAAC,uBAgBNmR,EAAAA,wBAOAA,EAAAA,wCAOAA,EAAAA,oCAOAA,EAAAA,wBAOAA,EAAAA,0BAOAA,EAAAA,0BAOAC,EAAAA,yBAOAA,EAAAA,qBAOAwsB,EAAAA,aAAY59B,KAAA,CAACikC,mBAObrG,EAAAA,aAAY59B,KAAA,CAACykC,oBAOb7G,EAAAA,aAAY59B,KAAA,CAAC89B,YCjchBiP,GAAA,oDAQCz7B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACAm1B,EAAAA,mBACAj1B,EAAAA,iBAEF/F,aAAc,CACZyyB,GACAH,IAEFryB,QAAS,CACPwyB,GACAH,UArBJ,GCAA2I,GAAA,oDAECr8B,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,kBACVC,SAAU,8BAEVC,OAAQ,CAAC,UANX,GCAAm8B,GAAA,oDAOC57B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAI,EAAAA,gBACAmG,EAAAA,gBACAF,EAAAA,kBAEF7F,aAAc,CAACsrB,IACfrrB,QAAS,CAACqrB,UAfZ,GCAA6P,GAAA,WA6BE,SAAAA,YAEAA,EAAA9uC,UAAAkY,SAAA,iCA7BD3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,cACVC,SAAU,iiBAqBVC,OAAQ,CAAC,uIAzBX,GCAAq8B,GAAA,oDAIC97B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,cAEFQ,aAAc,CAACm7B,IACfl7B,QAAS,CAACk7B,UATZ,GCAAE,GAAA,WAYE,SAAAA,YAEAA,EAAAhvC,UAAAkY,SAAA,iCAZD3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,mBACVC,SAAU,+BAEVC,OAAQ,CAAC,gFAIR6sB,EAAAA,aAAY59B,KAAA,CAACiY,EAAAA,kBAVhB,GCAAq1B,GAAA,oDAICh8B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,cAEFQ,aAAc,CAACq7B,IACfp7B,QAAS,CAACo7B,UATZ,GCAAE,GAAA,oDAmBCj8B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACA2mB,GACAtgB,EAAAA,iBACA21B,EAAAA,mBACA57B,EAAAA,gBACAC,EAAAA,cACA47B,EAAAA,kBACAT,EAAAA,mBACAl1B,EAAAA,aACAC,EAAAA,gBACAm1B,GACAnJ,GACAgJ,GACAK,IAEFp7B,aAAc,CACZ0zB,GACAzB,GACAgJ,IAEFh7B,QAAS,CACPyzB,GACAzB,GACA8I,GACAE,GACAlJ,GACAmJ,GACAI,UAhDJ,GCAAI,GAAA,WAmBE,SAAAA,EAAoBr3B,GAApB,IAAA5X,EAAAP,KAAoBA,KAAAmY,OAAAA,EAClBnY,KAAKmY,OAAOs3B,OACX1sC,KACC0E,EAAAA,OAAO,SAAA+F,GAAS,OAAAA,aAAiBkiC,EAAAA,iBAElC1lC,UAAU,SAAC6Y,GACVtiB,EAAKovC,YAAc9tB,SAAS+tB,UAAY/sB,EAAElc,iCArB/C+L,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,oBACVC,SAAU,iSAOVC,OAAQ,CAAC,4HAZF2G,EAAAA,YADT,GCAAq2B,GAAA,oDAKCz8B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAuG,EAAAA,iBAEF/F,aAAc,CACZ07B,IAEFz7B,QAAS,CACPy7B,UAdJ,GCAAM,GAAA,WAmBE,SAAAA,EAAoB33B,GAApB,IAAA5X,EAAAP,MAAoBA,KAAAmY,OAAAA,GACXs3B,OACN1sC,KACC0E,EAAAA,OAAO,SAAA+F,GAAS,OAAAA,aAAiBkiC,EAAAA,iBAElC1lC,UAAU,SAAC6Y,GACRtiB,EAAKovC,YAAc9sB,EAAElc,iCArB5B+L,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,qBACVC,SAAU,gRAOVC,OAAQ,CAAC,6HAZF2G,EAAAA,YADT,GCAAu2B,GAAA,oDAKC38B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAuG,EAAAA,iBAEF/F,aAAc,CACZg8B,IAEF/7B,QAAS,CACP+7B,UAdJ,GCAAE,GAAA,WAmGE,SAAAA,YAfA/vC,OAAAC,eACI8vC,EAAA7vC,UAAA,WAAQ,KAOZ,WACE,OAAOH,KAAKiwC,eATd,SACa5vC,GACPA,IACFL,KAAKiwC,UAAY5vC,EACjBL,KAAKkwC,cAAc7vC,qCAavB2vC,EAAA7vC,UAAAkY,SAAA,aAGA23B,EAAA7vC,UAAA+vC,cAAA,SAAcC,GACZnwC,KAAKowC,iBAAmB,GAExB,IAAM9vB,EAAQ,CACZlV,MAAO,cACPilC,QAASrwC,KAAKswC,aAAatwC,KAAKmwC,SAASI,eAAetnB,QAAQ,IAChEunB,MAAOxwC,KAAKswC,aAAatwC,KAAKmwC,SAASM,YACvCC,UAAW1wC,KAAK2wC,mBAAmB3wC,KAAKmwC,SAASI,gBACjDK,QAAS5wC,KAAK2wC,mBAAmB3wC,KAAKmwC,SAASM,aAG3CI,EAAQ,CACZzlC,MAAO,cACPilC,QAASrwC,KAAKswC,aAAatwC,KAAKmwC,SAASW,eAAe7nB,QAAQ,IAChEunB,MAAOxwC,KAAKswC,aAAatwC,KAAKmwC,SAASY,YACvCL,UAAW1wC,KAAK2wC,mBAAmB3wC,KAAKmwC,SAASW,gBACjDF,QAAS5wC,KAAK2wC,mBAAmB3wC,KAAKmwC,SAASY,aAG3CxwB,EAAS,CACbnV,MAAO,cACPilC,QAASrwC,KAAKswC,aAAatwC,KAAKmwC,SAASa,eAAe/nB,QAAQ,IAChEunB,MAAOxwC,KAAKswC,aAAatwC,KAAKmwC,SAASc,YACvCP,UAAW1wC,KAAK2wC,mBAAmB3wC,KAAKmwC,SAASa,gBACjDJ,QAAS5wC,KAAK2wC,mBAAmB3wC,KAAKmwC,SAASc,aAGjDjxC,KAAKowC,iBAAiBj/B,KAAKmP,GAC3BtgB,KAAKowC,iBAAiBj/B,KAAK0/B,GAC3B7wC,KAAKowC,iBAAiBj/B,KAAKoP,IAIrByvB,EAAA7vC,UAAAmwC,sBAAaY,GACnB,OAAIA,EACKA,EAAU,MAEZ,KAGDlB,EAAA7vC,UAAAwwC,4BAAmBO,GACzB,OAAIA,EACMlsC,KAAK6jB,MAAgB,MAAVqoB,GAAoBjoB,QAAQ,GAAK,MAE/C,yBAlJVvW,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,kCACVC,SAAU,u3EA4EVC,OAAQ,CAAC,wXAIRI,EAAAA,WApFH,GCAAk+B,GAAA,oDAQC/9B,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAI,EAAAA,gBACAC,EAAAA,cACAkG,EAAAA,gBACA+e,GACAjf,EAAAA,kBAEF7F,aAAc,CACZk8B,IAEFj8B,QAAS,CACPi8B,UArBJ,GCEMoB,GAAiB,qKAGjBC,GAAgB,uoBAyJpB,SAAAC,EAAoBxiB,GAApB,IAAAvuB,EAAAP,KAAoBA,KAAA8uB,SAAAA,oBA/ELuiB,iBAEI,kBACE,sBACaD,uBACT,6BACO,YAuBf,IAAIlmC,EAAAA,4BAED,kBACA,oBA6DL,SAACsC,GACdjN,EAAKgxC,oBACDhxC,EAAKgxC,oBAAsBhxC,EAAKixC,YAClCjxC,EAAKkxC,iBAAmBlxC,EAAKmxC,OAAO,GACpCnxC,EAAKoxC,eAAgB,gBAIhB,WACHpxC,EAAKmxC,OAAOnxC,EAAKqxC,WAAa,GAChCrxC,EAAKqxC,aACIrxC,EAAKsxC,UACdtxC,EAAKqxC,WAAarxC,EAAKixC,UAAY,iBAI7B,WACJjxC,EAAKmxC,OAAOnxC,EAAKqxC,WAAa,GAChCrxC,EAAKqxC,aACIrxC,EAAKsxC,UACdtxC,EAAKqxC,WAAa,eAId,SAAC/jC,GACPtN,EAAKkxC,iBAAmBJ,GACxB9wC,EAAKgxC,kBAAoB,EACzBhxC,EAAKoxC,eAAgB,EACrBpxC,EAAKuxC,SAAU,yBAGE,WACjB,OAAmD,EAA3CvxC,EAAKixC,UAAYjxC,EAAKgxC,mBAA2B,IAAMhxC,EAAKixC,UAAajxC,EAAKgxC,mBAAmBtoB,QAAQ,GAAK,UArHxHhpB,OAAAC,eACIoxC,EAAAnxC,UAAA,OAAI,KAgBR,WACE,OAAOH,KAAK+xC,WAlBd,SACSC,GACP,GAAIA,EAAM,CACR,IAAMN,EAAS1xC,KAAKiyC,WAAWD,KAERhyC,KAAK0xC,QAAWA,GAAU1xC,KAAK0xC,OAAOh9B,SAAWg9B,EAAOh9B,SAG7E1U,KAAKkyC,gBAAgBR,GAIvB1xC,KAAK+xC,MAAQC,oCA0BjBV,EAAAnxC,UAAAgyC,YADA,SACY3kC,GAGV,OAFAA,EAAMk0B,kBACNl0B,EAAM0gB,kBACC,GAKTojB,EAAAnxC,UAAAiyC,YADA,SACY5kC,GACVA,EAAMk0B,kBACN1hC,KAAKqyC,WAAY,EACjBryC,KAAKsyC,eAAiB9kC,GAKxB8jC,EAAAnxC,UAAAoyC,YADA,SACY/kC,GACNxN,KAAKqyC,WAAaryC,KAAK8xC,UAEzB9xC,KAAKwyC,kBAAkBhlC,GAGnBxI,KAAKwtB,IAAIxyB,KAAKyyC,eAAiBzyC,KAAKid,WAClCjd,KAAKyyC,aAAe,EACtBzyC,KAAK0yC,UAEL1yC,KAAK2yC,SAEP3yC,KAAKsyC,eAAiB9kC,KAO5B8jC,EAAAnxC,UAAAkY,SAAA,WAAA,IAAA9X,EAAAP,KAEEA,KAAK4xC,WAAa,EAElB5xC,KAAK8uB,SAAS8jB,aAAa,WAAY,UAAW,SAACplC,GAC7CjN,EAAK8xC,YACP9xC,EAAK8xC,WAAY,MAyCvBf,EAAAnxC,UAAA0yC,OAAA,SAAOhlC,GAEL7N,KAAK+xB,KAAK3jB,KAAKP,IAcTyjC,EAAAnxC,UAAA2yC,0CAAiCd,EAAMN,GAE7C1xC,KAAK+yC,cAAoC,MAApBf,EAAKl9B,QAAQvQ,GAElCvE,KAAK+yC,cAAgB/yC,KAAK+yC,eAAiBrB,EAAOlsC,QAAU,IAItD8rC,EAAAnxC,UAAA+xC,yBAAgBR,GACtB1xC,KAAKyxC,iBAAmBC,EAAO,GAC/B1xC,KAAKwxC,UAAYE,EAAOlsC,OACxBxF,KAAK0xC,OAASA,GAGRJ,EAAAnxC,UAAA8xC,oBAAWD,GACjB,IACE,IAAMN,EAAS1xC,KAAKgzC,oBAAoBhB,EAAKnmB,KAAKonB,OAClD,OAAOvB,GAA0B,EAAhBA,EAAOlsC,OAAaksC,EAAS,CAACN,IAC/C,MAAO/vC,GACP,MAAO,CAAC+vC,MAIJE,EAAAnxC,UAAAqyC,2BAAkBhlC,GACxB,IAAMkQ,EAAclQ,EAAc,OAE9BxN,KAAKogB,iBAAmB1C,EAAOw1B,cACjClzC,KAAKogB,eAAkB1C,EAAOw1B,YAC9BlzC,KAAKid,SAAYjd,KAAKogB,eAAiBpgB,KAAKwxC,UAAa,KAG3DxxC,KAAKyyC,aAAejlC,EAAMwV,QAAUhjB,KAAKsyC,eAAetvB,SAGlDsuB,EAAAnxC,UAAA6yC,6BAAoBG,GAC1B,OAAKA,EAGIA,EAAS1qC,IAAI,SAAAQ,GAClB,OAAOA,EAAKmqC,WAAWr1B,eAHzB,uBAzPLrL,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,mBACVC,SAAU,uxDAyDVC,OAAQ,CAAC,wgCArE4DwgC,EAAAA,6CAiFpEpgC,EAAAA,yBACAA,EAAAA,8BACAA,EAAAA,6BACAA,EAAAA,oCACAA,EAAAA,oBAEAA,EAAAA,oBAqBAC,EAAAA,4BAgBAshB,EAAAA,aAAY1yB,KAAA,CAAC,YAAa,CAAC,gCAQ3B0yB,EAAAA,aAAY1yB,KAAA,CAAC,YAAa,CAAC,gCAQ3B0yB,EAAAA,aAAY1yB,KAAA,CAAC,YAAa,CAAC,mBC5I9BwxC,GAAA,oDAMClgC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAI,EAAAA,gBACAC,EAAAA,cACA4/B,EAAAA,iBACA15B,EAAAA,iBAEF/F,aAAc,CACZw9B,IAEFv9B,QAAS,CACPu9B,UAlBJ,GCAAkC,GAAA,WAuEE,SAAAA,mBAFY,SAnBZvzC,OAAAC,eACIszC,EAAArzC,UAAA,MAAG,KAaP,WACE,OAAOH,KAAKyzC,UAfd,SACQpzC,GACFA,IACFU,QAAQC,IAAIX,GACU,EAAlBA,EAAEqzC,OAAOluC,SACXnF,EAAEqzC,OAAO,GAAGrwC,OAAS,SACC,EAAlBhD,EAAEqzC,OAAOluC,SACXnF,EAAEqzC,OAAO,GAAGrwC,OAAS,WAGzBrD,KAAKyzC,KAAOpzC,oCAahBmzC,EAAArzC,UAAAkY,SAAA,iCAvED3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,gBACVC,SAAU,08DA0CVC,OAAQ,CAAC,+mBAIRI,EAAAA,WAlDH,GCAA0gC,GAAA,WAgGE,SAAAA,qBAFa,SAnBb1zC,OAAAC,eACIyzC,EAAAxzC,UAAA,QAAK,KAST,WACE,OAAOH,KAAK4zC,YAXd,SACUvzC,GACJA,IACe,WAAbA,EAAEgD,SACJhD,EAAEgD,OAAS,SAEbrD,KAAK4zC,OAASvzC,oCAiBlBszC,EAAAxzC,UAAA0zC,eAAA,WACE7zC,KAAK8zC,YAAa,uBAjGrBphC,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,qBACVC,SAAU,krFAiEVC,OAAQ,CAAC,6PAMRI,EAAAA,wBAcAA,EAAAA,2BACAA,EAAAA,qBACAA,EAAAA,WA3FH,GCEM8gC,GAAoDC,GAAyBC,gBAcjF,SAAAC,EAAoBC,EAAkCC,GAAlCp0C,KAAAm0C,MAAAA,EAAkCn0C,KAAAo0C,OAAAA,SAGtDF,EAAA/zC,UAAAk0C,UAAA,SAAUvrC,EAAsBwrC,GAa9B,OAZIt0C,KAAKu0C,WAAWzrC,EAAOwrC,IACzBt0C,KAAKw0C,SAAWx0C,KAAK6b,QAAQ/S,GAC7B9I,KAAKy0C,UAAY3rC,EACjB9I,KAAK00C,eAAiBJ,EACtBt0C,KAAK20C,cACL30C,KAAK40C,cACL50C,KAAK60C,SAAWd,GAAkBjrC,GAAOgqB,KAAKihB,KAAqBO,IAGnEt0C,KAAK40C,cAGA50C,KAAK60C,UAGdX,EAAA/zC,UAAA0F,YAAA,WACE7F,KAAK20C,eAICT,EAAA/zC,UAAAy0C,kCACN,IAAI50C,KAAK80C,aAAT,CAGA,IAAMC,EAAiBhB,GAAkB/zC,KAAKy0C,WAExCO,EAA4D,IAA7Ch1C,KAAKi1C,sBAAsBF,GAChD/0C,KAAK80C,aAAe90C,KAAKo0C,OAAOc,kBAAkB,WAChD,GAAsB,oBAAX5rC,OACT,OAAOA,OAAO8F,WAAW,WACvB7O,EAAKs0C,SAAWd,GAAkBxzC,EAAKk0C,WAAW3hB,KAAKihB,KAAqBxzC,EAAKm0C,gBAEjFn0C,EAAKu0C,aAAe,KACpBv0C,EAAK6zC,OAAOe,IAAI,WAAM,OAAA50C,EAAK4zC,MAAMiB,kBAChCJ,OAMDd,EAAA/zC,UAAAw0C,uBACF30C,KAAK80C,eACPxrC,OAAO+rC,aAAar1C,KAAK80C,cACzB90C,KAAK80C,aAAe,OAIhBZ,EAAA/zC,UAAA80C,+BAAsBF,GAC5B,IAAMO,EAAStwC,KAAKwtB,IAAIuhB,KAAoBwB,KAAKR,EAAgB,WACjE,OAAIO,EAAS,EACJ,EACEA,EAAS,GACX,GACEA,EAAS,IACX,IAEA,MAIHpB,EAAA/zC,UAAAo0C,oBAAWzrC,EAAsBwrC,GACvC,OAAOt0C,KAAK6b,QAAQ/S,KAAW9I,KAAKw0C,UAAYF,IAAet0C,KAAK00C,gBAG9DR,EAAA/zC,UAAA0b,iBAAQ/S,GACd,OAAI0sC,EAAAA,OAAc1sC,GACTA,EAAM+S,UACJ45B,EAAAA,SAAgB3sC,GAClBA,EAAM4sC,UAEN3B,GAAkBjrC,GAAO4sC,+BAtFrCC,EAAAA,KAAI7zC,KAAA,CAAC,CACJuH,KAAM,uDALCusC,EAAAA,yBAAmBC,EAAAA,eCA5BC,GAAA,oDAIC1iC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,cAEFQ,aAAc,CACZogC,IAEFngC,QAAS,CACPmgC,IAEFphC,UAAW,CACTohC,UAfJ,GCAA6B,GAAA,WAiBE,SAAAA,kBANqB,IAAI7qC,EAAAA,oBAQzB6qC,EAAA51C,UAAAkY,SAAA,WAAA,IAAA9X,EAAAP,KACEA,KAAKg2C,UAAYh2C,KAAK6b,UACtBo6B,EAAAA,MAAM,IAAM,KAAMjsC,UAAU,SAAAksC,GAC1B31C,EAAK41C,qBACL51C,EAAKy1C,UAAYz1C,EAAKsb,UACA,IAAlBtb,EAAK0c,UACP1c,EAAK61C,wBAKHL,EAAA51C,UAAA0b,mBACF7b,KAAKid,SAAW,IAClBjd,KAAKid,SAAWjY,KAAKwtB,IAAIxyB,KAAKid,UAC9Bjd,KAAKq2C,WAAY,GAEnB,IAAMC,EAAQtxC,KAAKuxC,MAAMv2C,KAAKid,SAAW,MACnCu5B,EAAUxxC,KAAKuxC,OAAOv2C,KAAKid,SAAoB,KAARq5B,GAAiB,IACxDG,EAAWz2C,KAAKid,SAAoB,KAARq5B,EAA2B,GAAVE,EACnD,OAAUF,EAAM5yC,WAAWy4B,SAAS,EAAG,KAAI,IAAIqa,EAAQ9yC,WAAWy4B,SAAS,EAAG,KAAI,IAAIsa,EAAQ/yC,WAAWy4B,SAAS,EAAG,MAG/G4Z,EAAA51C,UAAAg2C,8BACFn2C,KAAKq2C,UACPr2C,KAAKid,WAELjd,KAAKid,YAIT84B,EAAA51C,UAAAi2C,mBAAA,WACEp2C,KAAKq2C,WAAY,EACjBr2C,KAAK02C,SAAStoC,4BAhDjBsE,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,gBACVC,SAAU,8FAITK,EAAAA,wBAEAC,EAAAA,YAXH,GCAAyjC,GAAA,oDAICvjC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,cAEFQ,aAAc,CAACiiC,IACfhiC,QAAS,CAACgiC,UATZ,GCAAa,GAAA,oDAUCxjC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAqG,EAAAA,iBACAhG,EAAAA,cACAupB,GACA4Y,GACAj8B,EAAAA,gBACA88B,IAEF7iC,aAAc,CACZ6/B,IAEF5/B,QAAS,CACP4/B,UAxBJ,GCAAkD,GAAA,oDASCzjC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAsjC,GACAj9B,EAAAA,iBACAif,GACAjlB,EAAAA,cACAkG,EAAAA,iBAEF/F,aAAc,CACZ0/B,IAEFz/B,QAAS,CACPy/B,UAtBJ,GCAAsD,GAAA,WAcE,SAAAA,YAEAA,EAAA32C,UAAAkY,SAAA,iCAdD3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,4BACVC,SAAU,2GAIVC,OAAQ,CAAC,uHAIRI,EAAAA,WAZH,GCAA8jC,GAAA,WAkEE,SAAAA,wBApBgB,cACP,cACD,gCAM0B,gCAEC,2BAEa,sBAEF,IAAI7rC,EAAAA,kCAEH,IAAIA,EAAAA,oBAMnD6rC,EAAA52C,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEoP,WAAW,WACT7O,EAAK6T,aAAc,GAClB,IAGL2iC,EAAA52C,UAAAkY,SAAA,WAC2B,UAArBrY,KAAKg3C,aACPh3C,KAAKi3C,OAAS,eACdj3C,KAAKoL,MAAQ,eACiB,gBAArBpL,KAAKg3C,aACdh3C,KAAKi3C,OAAS,cACdj3C,KAAKoL,MAAQ,qBACiB,OAArBpL,KAAKg3C,aACdh3C,KAAKi3C,OAAS,aACdj3C,KAAKoL,MAAQ,YACiB,WAArBpL,KAAKg3C,aACdh3C,KAAKi3C,OAAS,eACdj3C,KAAKoL,MAAQ,iBAEbpL,KAAKk3C,eAAgB,EACrBl3C,KAAKi3C,OAAS,sCAtFnBvkC,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,sBACVC,SAAU,8hCAmCVC,OAAQ,CAAC,g7BAURI,EAAAA,2BAEAA,EAAAA,sCAEAA,EAAAA,uCAEAA,EAAAA,kCAEAA,EAAAA,8BAEAC,EAAAA,gCAEAA,EAAAA,4BAEAwsB,EAAAA,aAAY59B,KAAA,CAACg1C,SAhEhB,GCAAK,GAAA,WAmDE,SAAAA,EACUh/B,GAAAnY,KAAAmY,OAAAA,cAPS,IAAIjN,EAAAA,+BAIT,SAMdisC,EAAAh3C,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KACEoP,WAAW,WACT7O,EAAKuxC,SAAU,GACd,IAGL7xC,OAAAC,eAAIi3C,EAAAh3C,UAAA,WAAQ,KAAZ,WACE,IAAMi3C,EAAWp3C,KAAKq3C,UAAU18B,UAEhC,OADAy8B,EAAS7nC,OAAO,EAAG,GACZ6nC,mCAGTD,EAAAh3C,UAAAm3C,cAAA,WACEt3C,KAAKu3C,aAAev3C,KAAKu3C,YACzBv3C,KAAKw3C,OAAOppC,KAAKpO,KAAKu3C,cAGxBJ,EAAAh3C,UAAAs3C,aAAA,WACEz3C,KAAKu3C,aAAc,GAGrBJ,EAAAh3C,UAAAu3C,SAAA,WACE,GAAI13C,KAAK23C,WACP,GAA+B,iBAApB33C,KAAK23C,WAAyB,CACvC,IAAMC,EAAU53C,KAAK23C,WAAWE,WAAW,MACrCC,EAAS93C,KAAK23C,WAAWE,WAAW,WACpCE,EAAU/3C,KAAK23C,WAAWE,WAAW,YACvCD,GAAWE,GAAUC,EACvBzuC,OAAOC,SAASC,KAAOxJ,KAAK23C,WAE5B33C,KAAKmY,OAAOgB,SAAS,CAACnZ,KAAK23C,kBAEpB/uC,MAAMC,QAAQ7I,KAAK23C,aAC5B33C,KAAKmY,OAAOgB,SAASnZ,KAAK23C,aAKhCR,EAAAh3C,UAAA63C,cAAA,SAAcC,GACZ,OAAOj4C,KAAKk4C,gBAAkB,uBAAyB,iBAAmBD,GAG5Ed,EAAAh3C,UAAA+3C,cAAA,WACE,QAAIl4C,KAAKm4C,WAEEn4C,KAAKu3C,aAGSv3C,KAAKo4C,gBAKhCn4C,OAAAC,eAAci3C,EAAAh3C,UAAA,iBAAc,KAA5B,WACE,QAAKH,KAAKo3C,UAGDp3C,KAAKo3C,SAAS1qB,OAAO,SAAC+nB,EAAWtpC,GACtC,OAAOspC,GAAatpC,EAAKgtC,UAAYhtC,EAAKitC,iBACzC,oCAIPn4C,OAAAC,eAAci3C,EAAAh3C,UAAA,WAAQ,KAAtB,WACE,OAAOH,KAAK23C,aAAeruC,OAAOC,SAAS8uC,8DApH9C3lC,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,62BA8BVC,OAAQ,CAAC,wkCAlCF2G,EAAAA,8CAsCNvG,EAAAA,wBAEAF,EAAAA,UAASjR,KAAA,CAACiY,EAAAA,gCAEVwB,EAAAA,gBAAezZ,KAAA,CAACq1C,EAA6B,CAACmB,aAAa,oBAE3DplC,EAAAA,YA7CH,GCAAqlC,GAAA,WAUE,SAAAA,YAEAA,EAAAp4C,UAAAkY,SAAA,iCAVD3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,yBACVC,SAAU,8BAEVC,OAAQ,CAAC,gDANX,GCGa2lC,GAAiB,iCAO5B,SAAAC,4BAFqB,IAAIx2C,EAAAA,iBAAkC,UAI3Dw2C,EAAAt4C,UAAAu4C,qBAAA,SAAqBrvC,EAAMsvC,GAEzB,IAAMx3C,EAASnB,KAAK44C,mBAEpBz3C,EAAOkI,GAAQsvC,EAEf34C,KAAK64C,iBAAiB13C,IAIxBs3C,EAAAt4C,UAAA24C,qBAAA,SAAqBzvC,GAInB,OAFerJ,KAAK44C,mBAENvvC,IAIhBovC,EAAAt4C,UAAA44C,gBAAA,SAAgBj0C,GAEd9E,KAAKg5C,mBAAmB71C,KAAK2B,IAAO,IAItC2zC,EAAAt4C,UAAA84C,gBAAA,WAEEj5C,KAAKg5C,mBAAmB71C,MAAK,IAI/Bs1C,EAAAt4C,UAAA+4C,kBAAA,WAEE,IAAMC,GAAen5C,KAAKg5C,mBAAmBlwC,MAE7C9I,KAAKg5C,mBAAmB71C,KAAKg2C,IAIvBV,EAAAt4C,UAAA04C,0BAAiBO,GAEvB,IAAMC,EAAahxC,KAAKC,UAAU8wC,GAElCE,aAAaC,QAAQf,GAAgBa,IAI/BZ,EAAAt4C,UAAAy4C,4BAEN,IAAM/sB,EAAOytB,aAAaE,QAAQhB,IAElC,GAAI3sB,EAEF,OAAOxjB,KAAKG,MAAMqjB,GAIlB,IAAM4tB,EAAiB,GAIvB,OAFAz5C,KAAK64C,iBAAiBY,GAEfA,uBAnEZh4C,EAAAA,wDCLDi4C,GAAA,WA+DE,SAAAA,EACUC,GAAA35C,KAAA25C,kBAAAA,uBA3CiB,IAAI13C,EAAAA,iBAAyB,qBAEhC,IAAIA,EAAAA,gBAAwB,0BAkC3B,IAAIiJ,EAAAA,6BAEN,IAAIA,EAAAA,oCAEiB,GAK1ClL,KAAK45C,yCAzCP35C,OAAAC,eACIw5C,EAAAv5C,UAAA,OAAI,KAQR,WACE,OAAOH,KAAK65C,gBAAgB/wC,WAV9B,SACSzI,GAEHA,IADiBL,KAAK65C,gBAAgB/wC,QAExC9I,KAAK65C,gBAAgB12C,KAAK9C,GAC1BL,KAAK25C,kBAAkBjB,qBAAqB,kBAAmBr4C,qCAQnEJ,OAAAC,eACIw5C,EAAAv5C,UAAA,OAAI,KAQR,WACE,OAAOH,KAAK85C,aAAahxC,WAV3B,SACSzI,GAGHA,IAFiBL,KAAK85C,aAAahxC,OAGrC9I,KAAK85C,aAAa32C,KAAK9C,oCA0BnBq5C,EAAAv5C,UAAAy5C,sDAEN55C,KAAK65C,gBAAgB7vC,UAAU,SAAAlB,GAC7BvI,EAAKw5C,aAAa3rC,KAAKtF,KAGzB9I,KAAK85C,aAAa9vC,UAAU,SAAAlB,GAC1BvI,EAAKy5C,WAAW5rC,KAAKtF,MAKzB4wC,EAAAv5C,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KAEgBA,KAAKka,MAAMS,UAEnB3R,QAAQ,SAACmC,GAEbA,EAAKqsC,OAAOxtC,UAAU,SAAA44B,GAEhBA,GAEFriC,EAAK05C,cAAc9uC,QAU3BuuC,EAAAv5C,UAAA0F,YAAA,WACE7F,KAAKk6C,kBAAkBlxC,QAAQ,SAACmxC,GAC9BA,EAAajwC,iBAITwvC,EAAAv5C,UAAA85C,uBAAc3+B,GAENtb,KAAKka,MAAMS,UAEnB3R,QAAQ,SAACmC,GAETmQ,IAAiBnQ,GAEnBA,EAAKssC,sCA7GZ/kC,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,wBACVC,SAAU,mRASVC,OAAQ,CAAC,yGAbF4lC,oCAqBNxlC,EAAAA,oBAaAA,EAAAA,qCAaAA,EAAAA,qBAEAsI,EAAAA,gBAAezZ,KAAA,CAACq1C,GAA6B,CAACmB,aAAa,yBAE3D5Y,EAAAA,aAAY59B,KAAA,CAACy2C,0BAEbrlC,EAAAA,2BAEAA,EAAAA,YA3DH,GCAAknC,GAAA,WAgEE,SAAAA,EACUT,GAAA35C,KAAA25C,kBAAAA,wBA5CkB,IAAI13C,EAAAA,iBAAyB,sBAEhC,IAAIA,EAAAA,gBAAwB,0BAmC5B,IAAIiJ,EAAAA,6BAEN,IAAIA,EAAAA,oCAEiB,GAK1ClL,KAAK45C,yCA1CP35C,OAAAC,eACIk6C,EAAAj6C,UAAA,OAAI,KASR,WACE,OAAOH,KAAKq6C,iBAAiBvxC,WAX/B,SACSzI,GAGHA,IAFiBL,KAAKq6C,iBAAiBvxC,QAGzC9I,KAAKq6C,iBAAiBl3C,KAAK9C,GAC3BL,KAAK25C,kBAAkBjB,qBAAqB,mBAAoBr4C,qCAQpEJ,OAAAC,eACIk6C,EAAAj6C,UAAA,OAAI,KAQR,WACE,OAAOH,KAAKs6C,cAAcxxC,WAV5B,SACSzI,GAGHA,IAFiBL,KAAKs6C,cAAcxxC,OAGtC9I,KAAKs6C,cAAcn3C,KAAK9C,oCA0BpB+5C,EAAAj6C,UAAAy5C,sDAEN55C,KAAKq6C,iBAAiBrwC,UAAU,SAAAlB,GAC9BvI,EAAKw5C,aAAa3rC,KAAKtF,KAGzB9I,KAAKs6C,cAActwC,UAAU,SAAAlB,GAC3BvI,EAAKy5C,WAAW5rC,KAAKtF,MAKzBsxC,EAAAj6C,UAAA0M,gBAAA,WAAA,IAAAtM,EAAAP,KAEgBA,KAAKka,MAAMS,UAEnB3R,QAAQ,SAACmC,GAEbA,EAAKqsC,OAAOxtC,UAAU,SAAA44B,GAEhBA,GAEFriC,EAAK05C,cAAc9uC,QAU3BivC,EAAAj6C,UAAA0F,YAAA,WACE7F,KAAKk6C,kBAAkBlxC,QAAQ,SAACmxC,GAC9BA,EAAajwC,iBAITkwC,EAAAj6C,UAAA85C,uBAAc3+B,GAENtb,KAAKka,MAAMS,UAEnB3R,QAAQ,SAACmC,GAETmQ,IAAiBnQ,GAEnBA,EAAKssC,sCA9GZ/kC,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,yBACVC,SAAU,mRASVC,OAAQ,CAAC,yGAbF4lC,oCAqBNxlC,EAAAA,oBAcAA,EAAAA,qCAaAA,EAAAA,qBAEAsI,EAAAA,gBAAezZ,KAAA,CAACq1C,GAA6B,CAACmB,aAAa,yBAE3D5Y,EAAAA,aAAY59B,KAAA,CAACy2C,0BAEbrlC,EAAAA,2BAEAA,EAAAA,YA5DH,GCAAqnC,GAAA,WAgGE,SAAAA,EACSZ,GAAA35C,KAAA25C,kBAAAA,SA3CT15C,OAAAC,eACIq6C,EAAAp6C,UAAA,WAAQ,KAMZ,WACE,OAAOH,KAAKw6C,eARd,SACan6C,IACXL,KAAKw6C,UAAYn6C,IAEfL,KAAKy6C,qEAOTx6C,OAAAC,eACIq6C,EAAAp6C,UAAA,YAAS,KAMb,WACE,OAAOH,KAAK06C,gBARd,SACcr6C,IACZL,KAAK06C,WAAar6C,IAEhBL,KAAK26C,sEAeT16C,OAAAC,eACIq6C,EAAAp6C,UAAA,UAAO,KAOX,WACE,OAAOH,KAAK25C,kBAAkBX,mBAAmBlwC,WATnD,SACYzI,GAENA,IADiBL,KAAK25C,kBAAkBX,mBAAmBlwC,OAE7D9I,KAAK25C,kBAAkBX,mBAAmB71C,KAAK9C,oCAYnDk6C,EAAAp6C,UAAA0M,gBAAA,WACE7M,KAAK46C,+BACL56C,KAAK66C,2BACL76C,KAAK86C,0BAIPP,EAAAp6C,UAAA46C,cAAA,WACE/6C,KAAKg7C,eACLh7C,KAAKi7C,iBAGPV,EAAAp6C,UAAA66C,aAAA,WACEh7C,KAAKk7C,SAASrB,gBAAgB12C,MAAK,IAGrCo3C,EAAAp6C,UAAA86C,cAAA,WACEj7C,KAAKm7C,UAAUd,iBAAiBl3C,MAAK,IAGvCo3C,EAAAp6C,UAAAi7C,eAAA,WACEp7C,KAAKq7C,gBACLr7C,KAAKs7C,kBAGPf,EAAAp6C,UAAAk7C,cAAA,WACEr7C,KAAKk7C,SAASrB,gBAAgB12C,MAAK,IAGrCo3C,EAAAp6C,UAAAm7C,eAAA,WACEt7C,KAAKm7C,UAAUd,iBAAiBl3C,MAAK,IAGvCo3C,EAAAp6C,UAAAo7C,gBAAA,WACEv7C,KAAKw7C,iBACLx7C,KAAKy7C,mBAGPlB,EAAAp6C,UAAAq7C,eAAA,WACEx7C,KAAKk7C,SAASnpB,MAAQ/xB,KAAKk7C,SAASrB,gBAAgB/wC,OAGtDyxC,EAAAp6C,UAAAs7C,gBAAA,WACEz7C,KAAKm7C,UAAUppB,MAAQ/xB,KAAKm7C,UAAUd,iBAAiBvxC,OAGzDyxC,EAAAp6C,UAAAu7C,iBAAA,SAAiB9/B,QAAA,IAAAA,IAAAA,EAAA,QACf5b,KAAK27C,gBAAgB//B,GACrB5b,KAAK47C,iBAAiBhgC,IAGxB2+B,EAAAp6C,UAAAw7C,gBAAA,SAAgB//B,QAAA,IAAAA,IAAAA,EAAA,QACd5b,KAAKk7C,SAASpB,aAAa32C,KAAKyY,IAGlC2+B,EAAAp6C,UAAAy7C,iBAAA,SAAiBhgC,QAAA,IAAAA,IAAAA,EAAA,QACf5b,KAAKm7C,UAAUb,cAAcn3C,KAAKyY,IAGpC2+B,EAAAp6C,UAAA+4C,kBAAA,WACEl5C,KAAK25C,kBAAkBT,qBAGzBqB,EAAAp6C,UAAA44C,gBAAA,WACE/4C,KAAK25C,kBAAkBX,mBAAmB71C,MAAK,IAGjDo3C,EAAAp6C,UAAA07C,gBAAA,WACE77C,KAAK25C,kBAAkBX,mBAAmB71C,MAAK,IAGjDo3C,EAAAp6C,UAAA27C,wBAAA,SAAwBC,GACtB/7C,KAAKk7C,SAASnpB,KAAOgqB,EACrB/7C,KAAKk7C,SAASrB,gBAAgB12C,KAAK44C,IAGrCxB,EAAAp6C,UAAA67C,yBAAA,SAAyBD,GACvB/7C,KAAKm7C,UAAUppB,KAAOgqB,EACtB/7C,KAAKm7C,UAAUd,iBAAiBl3C,KAAK44C,IAG/BxB,EAAAp6C,UAAAy6C,wCAEN56C,KAAKi8C,QAAQC,yBAAyBl8C,KAAKk7C,SAE3Cl7C,KAAKi8C,QAAQE,0BAA0Bn8C,KAAKm7C,WAItCZ,EAAAp6C,UAAA06C,+CAEF76C,KAAKi8C,UAEPj8C,KAAKi8C,QAAQT,eAAexxC,UAAU,WACpCzJ,EAAK67C,YAAY5E,WAGnBx3C,KAAKi8C,QAAQR,gBAAgBzxC,UAAU,WACrCzJ,EAAK87C,aAAa7E,aAOhB+C,EAAAp6C,UAAAw6C,8CACN36C,KAAKm7C,UAAUd,iBAAiBl3C,MAAMnD,KAAK25C,kBAAkBb,qBAAqB,qBAG5EyB,EAAAp6C,UAAAs6C,6CACNz6C,KAAKk7C,SAASrB,gBAAgB12C,MAAMnD,KAAK25C,kBAAkBb,qBAAqB,oBAG1EyB,EAAAp6C,UAAA26C,6CACN96C,KAAK25C,kBAAkBX,mBAAmBhvC,UAAU,SAAA44B,GAC9CriC,EAAK07C,UACP17C,EAAK07C,QAAQjD,mBAAqBpW,0BAjNzClwB,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,cACVC,SAAU,0yCAuCVC,OAAQ,CAAC,mqBA3CF4lC,uCA+CN/Y,EAAAA,aAAY59B,KAAA,CAACi1C,sBAEbrX,EAAAA,aAAY59B,KAAA,CAAC43C,uBAWbha,EAAAA,aAAY59B,KAAA,CAACs4C,yBAWbrnC,EAAAA,UAASjR,KAAA,CAAC,qCAEViR,EAAAA,UAASjR,KAAA,CAAC,iCAMVmR,EAAAA,WApFH,GCAAqpC,GAAA,WAYE,SAAAA,YAEAA,EAAAn8C,UAAAkY,SAAA,iCAZD3F,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,sBACVC,SAAU,mFAIVC,OAAQ,CAAC,0FARX,GCAA0pC,GAAA,WAuBE,SAAAA,eAJiB,mBAEK,6BAnBvB7pC,EAAAA,UAAS5Q,KAAA,CAAC,CACT6Q,SAAU,mBACVC,SAAU,6UAWVC,OAAQ,CAAC,qGAIRI,EAAAA,yBAEAA,EAAAA,WArBH,GCAAupC,GAAA,oDAiBCppC,EAAAA,SAAQtR,KAAA,CAAC,CACRuR,QAAS,CACPC,EAAAA,aACAmpC,EAAAA,iBACAC,EAAAA,cACA/oC,EAAAA,cACAgpC,EAAAA,iBACAnzB,EAAAA,qBACA5P,EAAAA,aACAgjC,EAAAA,iBACA/iC,EAAAA,iBAEF/F,aAAc,CACZymC,GACA+B,GACAnF,GACAuC,GACAU,GACAmC,GACAhE,GACAxB,GACAD,IAEF/iC,QAAS,CACPwmC,GACA+B,GACAnF,GACAuC,GACAU,GACA7B,GACAxB,GACAD,IAEFhkC,UAAW,CACT2lC,UAnDJ,GCAAoE,GAAA,WAkBE,SAAAA,EAAoB/8C,GAAAE,KAAAF,KAAAA,mBA0BE,SAACuB,GACrB,IAAMkC,EAAUlC,EAAMkC,QAChBmB,EAAerD,GAASA,EAAMA,MAASA,EAAMA,MAAMkC,QAAU,GAC7DF,EAAShC,EAAMgC,OACfuB,EAAavD,EAAMuD,WACzB,OAAOxB,EAAAA,WAAW,CAAEC,OAAMA,EAAEuB,WAAUA,EAAErB,QAAOA,EAAEmB,YAAWA,YA7B9Dm4C,EAAA18C,UAAA28C,YAAA,SAAYpf,EAAaqf,GACvB,IAAMz6C,EAAuB,GACvBC,EAAU,IAAI6D,EAAAA,YAAY,CAAC42C,eAAgB,qBACjD16C,EAAQC,QAAUA,EAClB,IAAMoE,EAAM,uCAAyC+2B,EAAM,0CACrD52B,EAAiB9G,KAAKF,KAAKsH,MAAMT,EAAKo2C,EAASz6C,GACpDS,KACCkE,EAAAA,WAAWjH,KAAKkH,cAElB,OAAOlH,KAAKmH,gBAAgBL,IAG9B+1C,EAAA18C,UAAA88C,eAAA,SAAevf,GACb,IAAMp7B,EAAuB,GACvBC,EAAU,IAAI6D,EAAAA,YAAY,CAAC42C,eAAgB,qBACjD16C,EAAQC,QAAUA,EAClB,IAAMoE,EAAM,kCAAkC+2B,EAAG,YAC3C52B,EAAiB9G,KAAKF,KAAKa,IAAIgG,EAAKrE,GACzCS,KACCkE,EAAAA,WAAWjH,KAAKkH,cAElB,OAAOlH,KAAKmH,gBAAgBL,IAWtB+1C,EAAA18C,UAAAgH,yBAAgBzG,GACtB,OAAOA,EAAKqC,KAAKsH,EAAAA,8BAtCpB5I,EAAAA,sDAZQC,EAAAA,gBAHT,GCAAw7C,GAAA,WAuJE,SAAAA,EAAoBC,GAAAn9C,KAAAm9C,oBAAAA,YAxBH,IAAIjyC,EAAAA,4BAUV,eACF,8BACe,gBAGd,oBAEK,CACb,MACA,MACA,SACA,eAlCFjL,OAAAC,eACIg9C,EAAA/8C,UAAA,WAAQ,KAQZ,WACE,OAAOH,KAAKo9C,eAVd,SACa/8C,GACPA,IACFL,KAAKo9C,UAAY/8C,EACjBL,KAAKq9C,kBAAkBh9C,EAAEi9C,SAASC,iBAAiBC,aACnDx9C,KAAKy9C,aAAap9C,EAAEq9C,yDAkCxBR,EAAA/8C,UAAAkY,SAAA,aAGA6kC,EAAA/8C,UAAAk9C,kBAAA,SAAkB94C,GAAlB,IAAAhE,EAAAP,KA4KEA,KAAKm9C,oBAAoBL,YAAYv4C,EA3KtB,CACbjC,QAAW,CACTwpB,QAAW,EACX6xB,WAAc,CACZjxC,OAAU,UACVgxB,IAAO,mCACP9D,MAAS,CACP,GACA,GACA,KAGJod,YAAe,CACbtqC,QAAU,EACVkxC,mBAAsB,EACtBC,SAAY,kBACZC,SAAY,iBACZpgB,IAAO,mCACP1uB,KAAQ,GACR+uC,cAAgB,EAChBC,eAAkB,EAClBC,WAAc,MAEhBC,SAAY,CACVxxC,QAAU,EACVyxC,OAAU,CACR,CACEv8C,KAAQ,YACR8K,QAAU,EACVktB,MAAS,CACP,YACA,YACA,GAEFwkB,UAAa,IACbC,OAAU,CACR,GACA,GACA,IAEFC,gBAAmB,EACnBC,OAAU,EACP,UACD,aACC,YACD,EACA,WACA,YACA,YACA,EACA,YACA,aACC,YACD,EACA,aACA,eACC,aACD,GAEFC,QAAW,YACXC,kBAAoB,EACpBC,MAAS,GACTC,SAAY,GACZC,aAAe,EACfX,WAAc,MAEhB,CACEr8C,KAAQ,YACR8K,QAAU,EACVktB,MAAS,CACP,EACA,WACA,aAEFwkB,UAAa,EACbC,OAAU,CACR,GACA,GACA,IAEFC,gBAAmB,EACnBC,OAAU,CACR,aACC,WACD,YACA,EACA,YACA,aACC,YACD,GACC,YACD,YACA,YACA,GACC,cACD,cACA,cACA,GAEFC,QAAW,YACXC,kBAAoB,EACpBC,MAAS,GACTC,SAAY,GACZC,aAAe,EACfX,WAAc,MAEhB,CACEr8C,KAAQ,YACR8K,QAAU,EACVktB,MAAS,CACP,YACA,YACA,GAEFwkB,UAAa,IACbC,OAAU,CACR,YACA,YACA,aAEFC,gBAAmB,IACnBC,OAAU,CACR,aACC,aACA,YACD,GACC,YACD,YACC,WACD,EACA,YACA,YACA,YACA,EACA,cACA,cACA,cACA,GAEFC,QAAW,YACXC,kBAAoB,EACpBC,MAAS,GACTC,SAAY,GACZC,aAAe,EACfX,WAAc,QAIpBY,YAAe,CACbN,OAAU,CACR,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,OAMyCv0C,UAAU,SAAA6iB,GACzDtsB,EAAK48C,oBAAoBF,eAAe14C,GAAIyF,UAAU,SAAA80C,GAChDA,IACFv+C,EAAKi9C,YAAcj5C,EACnBhE,EAAKw+C,SAAWD,EAAYE,cAMpC9B,EAAA/8C,UAAA8+C,iBAAA,SAAiB13B,GACXA,IACFvnB,KAAKk/C,QAAS,EACdl/C,KAAKm/C,SAAW53B,EAChBvnB,KAAKo/C,qBAAqB73B,EAAEle,QAIhC6zC,EAAA/8C,UAAAi/C,qBAAA,SAAqB/1C,GACnBrJ,KAAKq/C,aAAeh2C,EACpBrJ,KAAKs/C,eAAiBt/C,KAAKu/C,UAAU93C,OAAO,SAAA8b,GAAK,OAAAA,EAAE87B,eAAiBh2C,IACpErJ,KAAKs/C,eAAiBt/C,KAAKs/C,e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","sourcesContent":["import { Injectable, Inject, Optional } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { DecConfigurationForRootConfig } from './configuration-service.models';\nimport { tap } from 'rxjs/operators';\n\nconst CONFIG_PATH = 'assets/configuration/configuration.json';\n\n@Injectable()\nexport class DecConfigurationService {\n\n  set config(v: any) {\n    if (this._config !== v) {\n      this._config = v;\n    }\n  }\n\n  get config(): any {\n    return this._config;\n  }\n\n  profile = 'local';\n\n  private _config: any;\n\n  constructor(\n    private http: HttpClient,\n    @Optional() @Inject('DECORA_CONFIGURATION_SERVICE_CONFIG') private serviceConfiguration: DecConfigurationForRootConfig,\n  ) {}\n\n  loadConfig() {\n    const basePath = this.serviceConfiguration.basePath;\n    const path = `${basePath}/${CONFIG_PATH}`;\n\n    const call = this.http.get(path).toPromise();\n\n    call.then((res: any) => {\n      console.log(`DecConfigurationService:: Initialized in ${this.profile} mode`);\n      this.profile = this.isValidProfile(res.profile, res) ? res.profile : this.profile;\n      this.config = res[this.profile];\n    }, err => {\n      console.error('DecConfigurationService:: Initialization Error. Could retrieve app configuration', err);\n    });\n\n    return call;\n  }\n\n  private isValidProfile(profile, availableProfiles) {\n\n    const availables = Object.keys(availableProfiles);\n\n    return (availables.indexOf(profile) >= 0) ? true : false;\n\n  }\n\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams, HttpRequest } from '@angular/common/http';\nimport { Observable, throwError, BehaviorSubject, Subscription } from 'rxjs';\nimport { catchError, share, tap, finalize, debounceTime } from 'rxjs/operators';\nimport { UserAuthData, LoginData, FacebookLoginData, DecFilter, SerializedDecFilter, QueryParams } from './decora-api.model';\nimport { DecConfigurationService } from './../configuration/configuration.service';\n\nexport type CallOptions = {\n  headers?: HttpHeaders;\n  withCredentials?: boolean;\n  params?: {\n    [prop: string]: any;\n  };\n  loadingMessage?: string;\n} & {\n  [prop: string]: any;\n};\n\nexport type HttpRequestTypes = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\n@Injectable()\nexport class DecApiService implements OnDestroy {\n\n  user: UserAuthData;\n\n  user$: BehaviorSubject<UserAuthData> = new BehaviorSubject<UserAuthData>(undefined);\n\n  loading$: Observable<boolean | string>;\n\n  private sessionToken: string;\n\n  private userSubscripion: Subscription;\n\n  private loadingMap = {};\n\n  private loadingStream$ = new BehaviorSubject<boolean | string>(undefined);\n\n  constructor(\n    private http: HttpClient,\n    private decConfig: DecConfigurationService,\n  ) {\n    this.subscribeToUser();\n    this.subscribeToLoading();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeToUser();\n  }\n\n  get host() {\n    return this.decConfig.config.api;\n  }\n\n  // ******************* //\n  // PUBLIC AUTH METHODS //\n  // ******************* //\n  auth = (loginData: LoginData) => {\n    if (loginData) {\n      const endpoint = this.getResourceUrl('auth/signin');\n      const options = { headers: this.newHeaderWithSessionToken('application/x-www-form-urlencoded') };\n      const body = new HttpParams()\n        .set('username', loginData.email)\n        .set('password', loginData.password);\n      return this.postMethod<UserAuthData>(endpoint, body, options)\n        .pipe(\n          tap((res) => {\n            this.extratSessionToken(res),\n              this.user$.next(res);\n            return res;\n          })\n        );\n    } else {\n      return throwError({ status, notified: true, message: 'DECORA-API AUTH ERROR:: No credentials provided' });\n    }\n  }\n\n  authFacebook = (loginData: FacebookLoginData) => {\n    if (loginData) {\n      const endpoint = this.getResourceUrl('auth/facebook/signin');\n      const options = { headers: this.newHeaderWithSessionToken('application/x-www-form-urlencoded') };\n      const body = new HttpParams()\n        .set('facebookToken', loginData.facebookToken)\n        .set('keepLogged', loginData.keepLogged.toString());\n      return this.postMethod<UserAuthData>(endpoint, body, options)\n        .pipe(\n          tap((res) => {\n            this.extratSessionToken(res),\n              this.user$.next(res);\n            return res;\n          })\n        );\n    } else {\n      return throwError({ status, notified: true, message: 'DECORA-API AUTH FACEBOOK ERROR:: No credentials provided' });\n    }\n  }\n\n  logout = (redirectToLoginPage = true) => {\n    const endpoint = this.getResourceUrl('auth/signout');\n    const options = { headers: this.newHeaderWithSessionToken('application/x-www-form-urlencoded') };\n    return this.postMethod(endpoint, {}, options)\n      .pipe(\n        tap((res) => {\n          this.sessionToken = undefined;\n          this.user$.next(res);\n          if (redirectToLoginPage) {\n            this.goToLoginPage();\n          }\n          return res;\n        }));\n  }\n\n  // ******************* //\n  // PUBLIC HTTP METHODS //\n  // ******************* //\n  get = <T>(endpoint, search?: DecFilter | QueryParams, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n\n    let params = search;\n\n    if (search && search['filterGroups']) {\n\n      params = this.transformDecFilterInParams(search);\n\n    }\n\n    return this.getMethod<T>(endopintUrl, params, options);\n  }\n\n  delete = <T>(endpoint, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.deleteMethod<T>(endopintUrl, options);\n  }\n\n  patch = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.patchMethod<T>(endopintUrl, payload, options);\n  }\n\n  post = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.postMethod<T>(endopintUrl, payload, options);\n  }\n\n  put = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.putMethod<T>(endopintUrl, payload, options);\n  }\n\n  upsert = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    if (payload.id >= 0) {\n      return this.put(endpoint, payload, options);\n    } else {\n      return this.post(endpoint, payload, options);\n    }\n  }\n\n  upload(endpoint: string, files: File[], options: CallOptions = {}) {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    const formData = this.createFilesFormData(files);\n    options.reportProgress = true;\n    options.headers = options.headers || new HttpHeaders();\n    return this.requestMethod('POST', endopintUrl, formData, options);\n  }\n\n\n\n  handShake() {\n    return this.tryToLoadSignedInUser();\n  }\n\n  getResourceUrl(path) {\n\n    const basePath = this.decConfig.config.useMockApi ? this.decConfig.config.mockApiHost : this.decConfig.config.api;\n\n    path = path.replace(/^\\/|\\/$/g, '');\n\n    return `${basePath}/${path}`;\n\n  }\n\n  // ************ //\n  // Http Methods //\n  // ************ //\n  private getMethod<T>(url: string, search: any = {}, options: CallOptions = {}): Observable<any> {\n    const uuid = this.startLoading(options.loadingMessage);\n    options.params = search;\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.get<T>(url, options)\n      .pipe(\n        finalize(() => this.stopLoading(uuid)),\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private patchMethod<T>(url, body = {}, options: CallOptions = {}): Observable<any> {\n    const uuid = this.startLoading(options.loadingMessage);\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.patch<T>(url, body, options)\n      .pipe(\n        finalize(() => this.stopLoading(uuid)),\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private postMethod<T>(url, body?, options: CallOptions = {}): Observable<any> {\n    const uuid = this.startLoading(options.loadingMessage);\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.post<T>(url, body, options)\n      .pipe(\n        finalize(() => this.stopLoading(uuid)),\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private putMethod<T>(url, body = {}, options: CallOptions = {}): Observable<any> {\n    const uuid = this.startLoading(options.loadingMessage);\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.put<T>(url, body, options)\n      .pipe(\n        finalize(() => this.stopLoading(uuid)),\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private deleteMethod<T>(url: string, options: CallOptions = {}): Observable<any> {\n    const uuid = this.startLoading(options.loadingMessage);\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.delete<T>(url, options)\n      .pipe(\n        finalize(() => this.stopLoading(uuid)),\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private requestMethod<T>(type: HttpRequestTypes, url: string, body: any = {}, options: CallOptions = {}): Observable<any> {\n    const uuid = this.startLoading(options.loadingMessage);\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken(undefined, options.headers);\n    const req = new HttpRequest(type, url, body, options);\n    const callObservable = this.http.request<T>(req)\n      .pipe(\n        finalize(() => this.stopLoading(uuid)),\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private handleError = (error: any) => {\n    const message = error.message;\n    const bodyMessage = (error && error.error) ? error.error.message : '';\n    const bodyError = error.error;\n    const status = error.status;\n    const statusText = error.statusText;\n\n    switch (error.status) {\n      case 401:\n        if (this.decConfig.config.authHost) {\n          this.goToLoginPage();\n        }\n        break;\n        /* REMOVED handlers because the error must be handled by the caller not the api. Excepts the 401 that should redirect to login page\n              case 404:\n                this.snackbar.open(bodyMessage || 'message.http-status.404', 'error', undefined, !!!bodyMessage);\n                break;\n\n              case 409:\n                this.snackbar.open(bodyMessage || 'message.http-status.409', 'error', undefined, !!!bodyMessage);\n                break;\n\n              case 412:\n                this.snackbar.open(bodyMessage, 'error');\n                break;\n        */\n    }\n\n    return throwError({ status, statusText, message, bodyMessage, bodyError });\n  }\n\n  // ******* //\n  // Helpers //\n  // ******* //\n\n  private startLoading = (msg: string | boolean = true) => {\n\n    const uuid = Math.random().toString(26).slice(2) + Date.now();\n\n    this.loadingMap[uuid] = msg || true;\n\n    this.emitLoading();\n\n    return uuid;\n\n  }\n\n  private stopLoading = (uuid) => {\n\n    if (this.loadingMap[uuid]) {\n\n      delete this.loadingMap[uuid];\n\n    }\n\n    this.emitLoading();\n\n  }\n\n  private emitLoading = () => {\n    const keys = Object.keys(this.loadingMap);\n    const hasLoading = keys.length > 0;\n    const loadingMessage = this.loadingMap[keys[0]];\n    this.loadingStream$.next(hasLoading ? loadingMessage : false);\n  }\n\n  private fetchCurrentLoggedUser = () => {\n    const endpoint = this.getResourceUrl('auth/account');\n    const options = { headers: this.newHeaderWithSessionToken() };\n    return this.getMethod<UserAuthData>(endpoint, {}, options)\n      .pipe(\n        tap((res) => {\n          this.extratSessionToken(res),\n            this.user$.next(res);\n          return res;\n        })\n      );\n  }\n\n  private transformDecFilterInParams(filter: DecFilter): SerializedDecFilter {\n\n    const serializedFilter: SerializedDecFilter = {};\n\n    if (filter) {\n\n      if (filter.page) {\n        serializedFilter.page = filter.page;\n      }\n\n      if (filter.limit) {\n        serializedFilter.limit = filter.limit;\n      }\n\n      if (filter.filterGroups) {\n        const filterWithValueAsArray = this.getFilterWithValuesAsArray(filter.filterGroups);\n        serializedFilter.filter = this.filterObjectToQueryString(filterWithValueAsArray);\n      }\n\n      if (filter.projectView) {\n        serializedFilter.projectView = this.filterObjectToQueryString(filter.projectView);\n      }\n\n      if (filter.sort) {\n        serializedFilter.sort = this.filterObjectToQueryString(filter.sort);\n      }\n\n      if (filter.textSearch) {\n        serializedFilter.textSearch = filter.textSearch;\n      }\n\n    }\n\n    return serializedFilter;\n\n  }\n\n  private filterObjectToQueryString(obj) {\n    if (obj) {\n      return JSON.stringify(obj);\n    } else {\n      return obj;\n    }\n  }\n\n  private getFilterWithValuesAsArray(filterGroups) {\n\n    const filterGroupCopy = JSON.parse(JSON.stringify(filterGroups)); // make a copy of the filter so we do not change the original filter\n\n    if (filterGroupCopy) {\n\n      return filterGroupCopy.map(filterGroup => {\n\n        filterGroup.filters = filterGroup.filters.map(filter => {\n\n          if (!Array.isArray(filter.value)) {\n            filter.value = [filter.value];\n          }\n\n          return filter;\n\n        });\n\n        return filterGroup;\n\n      });\n\n    } else {\n\n      return filterGroups;\n\n    }\n  }\n\n  private createFilesFormData(files: File[]) {\n    const formData: FormData = new FormData();\n    files.forEach((file, index) => {\n      const formItemName = index > 0 ? `file-${index}` : 'file';\n      formData.append(formItemName, file, file.name);\n    });\n    return formData;\n  }\n\n  private goToLoginPage() {\n    const nakedAppDomain = window.location.href\n      .replace('https://', '')\n      .replace('http://', '')\n      .replace(window.location.search, '');\n\n    const nakedAuthDomain = this.decConfig.config.authHost.split('?')[0]\n      .replace('https://', '')\n      .replace('http://', '')\n      .replace('//', '');\n\n    if (nakedAppDomain !== nakedAuthDomain) {\n      const authUrlWithRedirect = `${this.decConfig.config.authHost}${this.getParamsDivider()}redirectUrl=${window.location.href}`;\n      console.log(`DecApiService:: Not authenticated. Redirecting to login page at: ${authUrlWithRedirect}`);\n      window.location.href = authUrlWithRedirect;\n    }\n  }\n\n  private getParamsDivider() {\n    return this.decConfig.config.authHost.split('?').length > 1 ? '&' : '?';\n  }\n\n  private tryToLoadSignedInUser() {\n    const call = this.fetchCurrentLoggedUser().toPromise();\n    call.then(account => {\n      console.log(`DecoraApiService:: Initialized as ${account.name}`);\n    }, err => {\n      if (err.status === 401) {\n        console.log('DecoraApiService:: Initialized as not logged');\n      } else {\n        console.error('DecoraApiService:: Initialization Error. Could retrieve user account', err);\n      }\n    });\n    return call;\n  }\n\n  private newHeaderWithSessionToken(type?: string, headers?: HttpHeaders) {\n    headers = headers || new HttpHeaders();\n    const customizedContentType = headers.get('Content-Type');\n    if (!customizedContentType && type) {\n      headers = headers.set('Content-Type', type);\n    }\n    if (this.sessionToken) {\n      headers = headers.set('X-Auth-Token', this.sessionToken);\n    }\n    return headers;\n  }\n\n  private extratSessionToken(res) {\n    this.sessionToken = res && res.session ? res.session.id : undefined;\n    return res;\n  }\n\n  private subscribeToUser() {\n    this.userSubscripion = this.user$.subscribe(user => {\n      this.user = user;\n    });\n  }\n\n  private unsubscribeToUser() {\n    this.userSubscripion.unsubscribe();\n  }\n\n\n  private subscribeToLoading() {\n    this.loading$ = this.loadingStream$.pipe(debounceTime(100));\n  }\n\n  /*\n  * Share Observable\n  *\n  * This method is used to share the actual data values and not just the observable instance\n  *\n  * To reuse a single, common stream and avoid making another subscription to the server providing that data.\n  *\n  */\n  private shareObservable(call: Observable<any>) {\n    return call.pipe(share());\n  }\n}\n","import { Component, AfterViewInit, Input, forwardRef, ViewChild, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { COMMA, ENTER } from '@angular/cdk/keycodes';\nimport { FormControl, NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Observable, of, BehaviorSubject, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap, startWith, tap, filter, map } from 'rxjs/operators';\nimport { LabelFunction, ValueFunction, SelectionEvent, CustomFetchFunction } from './autocomplete.models';\nimport { MatAutocompleteTrigger, MatChipInputEvent } from '@angular/material';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete',\n  template: `<ng-container [ngSwitch]=\"multi ? true : false\">\n\n  <ng-container *ngSwitchCase=\"true\">\n    <mat-form-field>\n      <mat-chip-list #decAutocompleteChipList>\n        <mat-chip *ngFor=\"let option of optionsSelected\" [removable]=\"true\" (removed)=\"remove(option)\">\n          {{ extractLabel(option) }}\n          <mat-icon matChipRemove>cancel</mat-icon>\n        </mat-chip>\n        <input matInput [attr.aria-label]=\"name\" #termInput [matAutocomplete]=\"decAutocomplete\" [formControl]=\"autocompleteInput\"\n          [name]=\"name\" [required]=\"required\" [placeholder]=\"placeholder\" (keyup.enter)=\"onEnterButton($event)\" (blur)=\"onBlur($event)\"\n          autocomplete=\"off\" readonly onfocus=\"this.removeAttribute('readonly');\"\n          [matChipInputFor]=\"decAutocompleteChipList\" [matChipInputSeparatorKeyCodes]=\"separatorKeysCodes\">\n        <button mat-icon-button matSuffix (click)=\"clear(true)\" *ngIf=\"showClearButton()\">\n          <mat-icon>close</mat-icon>\n        </button>\n        <button mat-icon-button matSuffix (click)=\"reset()\" *ngIf=\"showResetButton()\">\n          <mat-icon>replay</mat-icon>\n        </button>\n      </mat-chip-list>\n      <mat-autocomplete #decAutocomplete=\"matAutocomplete\" [displayWith]=\"extractLabel\" (optionSelected)=\"onOptionSelected($event)\"\n        name=\"autocompleteValue\">\n        <mat-option *ngFor=\"let item of getSelectableOptions(options$ | async)\" [value]=\"item\">\n          {{ extractLabel(item) }}\n        </mat-option>\n      </mat-autocomplete>\n    </mat-form-field>\n  </ng-container>\n\n  <ng-container *ngSwitchCase=\"false\">\n    <mat-form-field>\n      <input matInput [attr.aria-label]=\"name\" #termInput [matAutocomplete]=\"decAutocomplete\" [formControl]=\"autocompleteInput\"\n        [name]=\"name\" [required]=\"required\" [placeholder]=\"placeholder\" (keyup.enter)=\"onEnterButton($event)\" (blur)=\"onBlur($event)\"\n        autocomplete=\"off\" readonly onfocus=\"this.removeAttribute('readonly');\">\n      <button mat-icon-button matSuffix (click)=\"clear(true)\" *ngIf=\"showClearButton()\">\n        <mat-icon>close</mat-icon>\n      </button>\n      <button mat-icon-button matSuffix (click)=\"reset()\" *ngIf=\"showResetButton()\">\n        <mat-icon>replay</mat-icon>\n      </button>\n    </mat-form-field>\n    <mat-autocomplete #decAutocomplete=\"matAutocomplete\" [displayWith]=\"extractLabel\" (optionSelected)=\"onOptionSelected($event)\"\n      name=\"autocompleteValue\">\n      <mat-option *ngIf=\"!required\" [value]=\"\"></mat-option>\n      <mat-option *ngFor=\"let item of getSelectableOptions(options$ | async)\" [value]=\"item\">\n        {{ extractLabel(item) }}\n      </mat-option>\n    </mat-autocomplete>\n  </ng-container>\n\n</ng-container>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteComponent implements ControlValueAccessor, AfterViewInit, OnDestroy {\n\n  @ViewChild(MatAutocompleteTrigger) autocompleteTrigger: MatAutocompleteTrigger;\n\n  autocompleteInput = new FormControl('');\n\n  options$: Observable<any[]>;\n\n  optionsSelected: any[];\n\n  writtenValue: any;\n\n  separatorKeysCodes: number[] = [ENTER, COMMA];\n\n  /*\n  ** ngModel VALUE\n  */\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.setInnerValue(v);\n      this.onChangeCallback(v);\n    }\n  }\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Params\n  @Input() customFetchFunction: CustomFetchFunction;\n\n  @Input() endpoint;\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Input()\n  set disabled(v: boolean) {\n    this._disabled = v;\n    if (v) {\n      this.autocompleteInput.disable();\n    } else {\n      this.autocompleteInput.enable();\n    }\n  }\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  @Input() labelFn: LabelFunction;\n\n  @Input() labelAttr: string;\n\n  @Input() name = 'autocompleteInput';\n\n  @Input()\n  set options(v: any[]) {\n    this._options = v;\n    this.innerOptions = v;\n  }\n  get options(): any[] {\n    return this._options;\n  }\n\n  @Input() placeholder = '';\n\n  @Input() required: boolean;\n\n  @Input() valueFn: ValueFunction;\n\n  @Input() valueAttr: string;\n\n  // Events\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<SelectionEvent> = new EventEmitter<SelectionEvent>();\n\n  @Output() enterButton: EventEmitter<SelectionEvent> = new EventEmitter<SelectionEvent>();\n\n  // View elements\n  @ViewChild('termInput') termInput;\n\n  @ViewChild('chipList') chipList;\n\n  // private data;\n  private _disabled: boolean;\n\n  private _options: any[];\n\n  private innerOptions: any[] = [];\n\n  private responses: { [key: string]: any } = {};\n\n  private search$ = new BehaviorSubject<string>(undefined);\n\n  private searchInputSubscription: Subscription;\n\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(\n    private service: DecApiService\n  ) { }\n\n  ngAfterViewInit() {\n    this.detectRequiredData()\n    .then(() => {\n      this.subscribeToInputValueChanges();\n      this.subscribeToSearchAndSetOptionsObservable();\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeFromInputValueChanges();\n    this.unsubscribeFromSearchAndSetOptionsObservable();\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.optionsSelected = [];\n      this.writtenValue = value;\n      this.innerValue = value;\n      this.populateAutocompleteWithInitialValues(value, true);\n    }\n  }\n\n  onOptionSelected($event) {\n\n    let shouldEmit = true;\n\n    const selectedOption = $event.option.value;\n\n    const selectedOptionValue = this.extractValue(selectedOption);\n\n    if (selectedOptionValue !== this.value) {\n\n      if (this.multi) {\n\n        shouldEmit = this.addOptionToOptionsSelected(selectedOption);\n\n        this.setInputValue(undefined);\n\n      } else {\n\n        this.value = selectedOptionValue;\n\n      }\n\n      if (shouldEmit) {\n        this.optionSelected.emit({\n          value: this.value,\n          option: selectedOption,\n          options: this.innerOptions,\n        });\n      }\n\n      this.blurInput();\n\n    }\n\n  }\n\n  onEnterButton($event) {\n    this.enterButton.emit($event);\n  }\n\n  setFocus() {\n    this.termInput.nativeElement.focus();\n  }\n\n  openPanel() {\n    this.autocompleteTrigger.openPanel();\n  }\n\n  closePanel() {\n    this.autocompleteTrigger.closePanel();\n  }\n\n  onBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  clear(reopen = false) {\n    this.value = undefined;\n    this.optionsSelected = undefined;\n    this.setInputValue('');\n\n    if (this.writtenValue === this.value) {\n      this.resetInputControl();\n    }\n\n    if (reopen) {\n      setTimeout(() => {\n        this.openPanel();\n      }, 1);\n    }\n  }\n\n  reset() {\n    this.value = this.writtenValue;\n    this.populateAutocompleteWithInitialValues(this.writtenValue);\n    this.resetInputControl();\n  }\n\n  extractLabel: LabelFunction = (item: any): string => {\n    let label = item; // use the object itself if no label function or attribute is provided\n    if (item) {\n      if (this.labelFn) { // Use custom label function if provided\n        label = this.labelFn(item);\n      } else if (this.labelAttr) { // Use object label attribute if provided\n        label = item[this.labelAttr] || undefined;\n      }\n    }\n    label = this.ensureString(label);\n    return label;\n  }\n\n  remove(option: string): void {\n\n    const index = this.optionsSelected.indexOf(option);\n\n    if (index >= 0) {\n      this.optionsSelected.splice(index, 1);\n    }\n\n    this.updateValueWithOptionsSelected();\n\n  }\n\n  getSelectableOptions = (options) => {\n\n    const isArray = options ? Array.isArray(options) : false;\n\n    let selectableOptions = options;\n\n    if (isArray && !this.repeat) {\n\n      selectableOptions = options.filter(option => {\n        if (!this.repeat) {\n          const optionValue = this.extractValue(option);\n          let alreadySelected: boolean;\n          if (this.multi) {\n            alreadySelected = this.optionsSelected && this.optionsSelected.find(selected => {\n              const selectedValue = this.extractValue(selected);\n              return this.compareAsString(selectedValue, optionValue);\n            }) ? true : false;\n          } else {\n            alreadySelected = this.compareAsString(this.value, optionValue);\n          }\n          return !alreadySelected;\n        } else {\n          return true;\n        }\n      });\n\n    }\n\n    return selectableOptions;\n  }\n\n  showClearButton() {\n    const thereIsValueSet = this.detectIfHasValue(this.value);\n    const show = !this.disabled && !this.required && thereIsValueSet;\n    return show;\n  }\n\n  showResetButton() {\n    const valueAsString = Array.isArray(this.value) ? JSON.stringify(this.value) : this.value;\n    const writtenValueAsString = Array.isArray(this.writtenValue) ? JSON.stringify(this.writtenValue) : this.writtenValue;\n    const show = !this.disabled && (valueAsString !== writtenValueAsString);\n    return show;\n  }\n\n  private detectIfHasValue(variable) {\n    let thereIsValueSet = false;\n    if (variable) {\n      const isString = typeof variable === 'string';\n      if (isString) {\n        thereIsValueSet = variable.length;\n      } else {\n        const isArray = Array.isArray(variable);\n        if (isArray) {\n          thereIsValueSet = variable.length;\n        } else {\n          thereIsValueSet = true;\n        }\n      }\n    }\n    return thereIsValueSet;\n  }\n\n  private setInputValue(v) {\n    this.autocompleteInput.setValue(v);\n\n    if (!v) {\n      this.termInput.nativeElement.value = '';\n    }\n  }\n\n  private searchBasedFetchingType(textSearch, rememberResponse = false): Observable<any[]> {\n\n    if (this.options) {\n\n      return this.searchInLocalOptions(textSearch);\n\n    } else if (this.customFetchFunction) {\n\n      return this.customFetchFunction(textSearch)\n        .pipe(\n          tap(options => {\n            this.innerOptions = options;\n          })\n        );\n\n    } else {\n\n      const body = textSearch ? { textSearch } : undefined;\n\n      if (rememberResponse) {\n\n        const dataInMemory = this.responses[textSearch];\n\n        if (dataInMemory) {\n\n          return of(dataInMemory);\n\n        } else {\n\n          return this.service.get<any[]>(this.endpoint, body)\n            .pipe(\n              tap((options: any[]) => {\n                this.responses[textSearch] = options;\n                this.innerOptions = options;\n              })\n            );\n\n        }\n\n      } else {\n\n        return this.service.get<any[]>(this.endpoint, body)\n          .pipe(\n            tap((options: any[]) => {\n              this.innerOptions = options;\n            })\n          );\n\n      }\n\n\n    }\n  }\n\n  private searchInLocalOptions(term: string) {\n    const termString = `${term}`;\n\n    let filteredData = this.innerOptions;\n\n    if (termString) {\n      filteredData = this.innerOptions\n        .filter(item => {\n          const label: string = this.extractLabel(item);\n          const lowerCaseLabel = label.toLowerCase();\n          const lowerCaseTerm = termString.toLowerCase();\n          return lowerCaseLabel.search(lowerCaseTerm) >= 0;\n        });\n    }\n\n    return of(filteredData);\n  }\n\n  private raiseError(error: string) {\n    throw new Error(`DecAutocompleteComponent Error:: The autocomplete with name \"${this.name}\" had the follow problem: ${error}`);\n  }\n\n\n  private blurInput() {\n\n    this.termInput.nativeElement.blur();\n\n  }\n\n  private addOptionToOptionsSelected(option): boolean {\n\n    if (option) {\n\n      let shouldEmit = true;\n\n      if (this.optionsSelected && this.optionsSelected.length) {\n        const index = this.optionsSelected.indexOf(option);\n        if (index === -1) {\n          this.optionsSelected.push(option);\n          this.setInputValue(null);\n          this.updateValueWithOptionsSelected();\n        } else {\n          shouldEmit = false;\n        }\n      } else {\n        this.optionsSelected = [option];\n        this.updateValueWithOptionsSelected();\n      }\n\n      return shouldEmit;\n\n    } else {\n\n      return false;\n\n    }\n\n  }\n\n  private populateAutocompleteWithInitialValues(value, reloadOptions = false) {\n\n    if (value) {\n\n      if (this.multi) {\n\n        const isArray = Array.isArray(value);\n\n        if (isArray) {\n\n          this.optionsSelected = [];\n\n          value.forEach(optionValue => {\n\n            this.loadRemoteObjectByWrittenValue(optionValue)\n              .then((option) => {\n\n                this.addOptionToOptionsSelected(option);\n\n              });\n\n          });\n\n        }\n\n      } else {\n\n        this.loadRemoteObjectByWrittenValue(value)\n          .then((options) => {\n            this.setInnerValue(value);\n          });\n\n      }\n\n    } else {\n\n      // this.innerValue = this.writtenValue;\n\n    }\n\n\n  }\n\n  private updateValueWithOptionsSelected() {\n\n    if (this.optionsSelected && this.optionsSelected.length) {\n\n      this.value = this.optionsSelected.map(option => this.extractValue(option));\n\n    } else {\n\n      this.value = [];\n\n    }\n\n\n  }\n\n  private loadRemoteObjectByWrittenValue(writtenValue: any): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      if (writtenValue) {\n        this.searchBasedFetchingType(writtenValue, true)\n          .subscribe((res) => {\n            resolve(res[0]);\n          });\n      } else {\n        resolve(writtenValue);\n      }\n    });\n  }\n\n  private detectRequiredData(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let error: string;\n      if (!this.endpoint && !this.options && !this.customFetchFunction) {\n        error = 'No endpoint | options | customFetchFunction set. You must provide one of them to be able to use the Autocomplete';\n      }\n      if (error) {\n        this.raiseError(error);\n        reject(error);\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  private resetInputControl() {\n    this.autocompleteInput.markAsPristine();\n    this.autocompleteInput.markAsUntouched();\n    this.blurInput();\n  }\n\n  private extractValue: ValueFunction = (item: any): any => {\n    let value = item; // use the object itself if no value function or attribute is provided\n    if (item) {\n      if (this.valueFn) { // Use custom value function if provided\n        value = this.valueFn(item);\n      } else if (this.valueAttr) { // Use object value attribute if provided\n        value = item[this.valueAttr] || undefined;\n      }\n    }\n    return value;\n  }\n\n  private compareAsString(v1, v2) {\n    const string1 = this.ensureString(v1);\n    const string2 = this.ensureString(v2);\n    return string1 === string2;\n  }\n\n  private ensureString(v) {\n    if (typeof v !== 'string') {\n      if (isNaN(v)) {\n        v = JSON.stringify(v);\n      } else {\n        v = `${v}`;\n      }\n    }\n    return v;\n  }\n\n  private setInnerValue(v: any) {\n    this.innerValue = v;\n    this.setInputValueBasedOnInnerValue(v);\n  }\n\n  private setInputValueBasedOnInnerValue(v: any) {\n    const option = this.getOptionBasedOnValue(v);\n    this.setInputValue(option);\n  }\n\n  private getOptionBasedOnValue(v: any) {\n    return this.innerOptions.find(item => {\n      const itemValue = this.extractValue(item);\n      return this.compareAsString(itemValue, v);\n    });\n  }\n\n  private subscribeToInputValueChanges() {\n\n    this.searchInputSubscription = this.autocompleteInput.valueChanges\n      .pipe(\n        debounceTime(300),\n        distinctUntilChanged(),\n      )\n      .subscribe(searchText => {\n        this.search$.next(searchText);\n      });\n\n  }\n\n  private unsubscribeFromInputValueChanges() {\n\n    this.searchInputSubscription.unsubscribe();\n\n  }\n\n  private subscribeToSearchAndSetOptionsObservable() {\n    this.options$ = this.search$\n      .pipe(\n        distinctUntilChanged(),\n        switchMap((textSearch: string) => {\n\n          const searchTerm = textSearch || '';\n\n          const isStringTerm = typeof searchTerm === 'string';\n\n          if (isStringTerm) {\n            return this.searchBasedFetchingType(searchTerm);\n          } else {\n            return of(this.innerOptions);\n          }\n\n        })\n      );\n  }\n\n  private unsubscribeFromSearchAndSetOptionsObservable() {\n\n    this.searchInputSubscription.unsubscribe();\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { DecAutocompleteComponent } from './autocomplete.component';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { MatAutocompleteModule, MatInputModule, MatButtonModule, MatIconModule, MatChipsModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatAutocompleteModule,\n    MatChipsModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [DecAutocompleteComponent],\n  exports: [DecAutocompleteComponent]\n})\nexport class DecAutocompleteModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Observable } from 'rxjs';\nimport { HttpUrlEncodingCodec } from '@angular/common/http';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\nconst ACCOUNTS_ENDPOINT = 'accounts/options';\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteAccountComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-account',\n  template: `<dec-autocomplete *ngIf=\"endpoint\"\n[disabled]=\"disabled\"\n[required]=\"required\"\n[endpoint]=\"endpoint\"\n[name]=\"name\"\n[multi]=\"multi\"\n[repeat]=\"repeat\"\n[labelFn]=\"labelFn\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[(ngModel)]=\"value\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteAccountComponent implements ControlValueAccessor, AfterViewInit {\n\n  endpoint: string;\n\n  valueAttr = 'key';\n\n  @Input()\n  set types(v: string[]) {\n    if (v !== this._types) {\n      this._types = v;\n      this.value = undefined;\n      this.endpoint = undefined; // enforce autocomplete reload\n      if (this.initialized) {\n        setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n          this.setEndpointBasedOnInputs();\n        });\n      }\n    }\n  }\n\n  get types(): string[] {\n    return this._types;\n  }\n\n  _types: string[];\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Account autocomplete';\n\n  @Input() placeholder = 'Account autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  private initialized: boolean;\n\n  constructor(\n    private decoraApi: DecApiService\n  ) { }\n\n  ngAfterViewInit() {\n    this.initialized = true;\n    setTimeout(() => {\n      this.setEndpointBasedOnInputs();\n    }, 0);\n  }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  labelFn(account) {\n    return `${account.value} #${account.key}`;\n  }\n\n  setEndpointBasedOnInputs() {\n    const params = [];\n    let endpoint = `${ACCOUNTS_ENDPOINT}`;\n\n    if (this.types && this.types.length) {\n      params.push(`roles=${encodeURI(JSON.stringify(this.types))}`);\n    }\n\n    if (params.length) {\n      endpoint += `?${params.join('&')}`;\n    }\n\n    this.endpoint = endpoint;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteAccountComponent } from './autocomplete-account.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n  ],\n  declarations: [DecAutocompleteAccountComponent],\n  exports: [DecAutocompleteAccountComponent]\n})\nexport class DecAutocompleteAccountModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_COMPANY_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteCompanyComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-company',\n  template: `<dec-autocomplete\n[required]=\"required\"\n[name]=\"name\"\n[multi]=\"multi\"\n[repeat]=\"repeat\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[endpoint]=\"endpoint\"\n[(ngModel)]=\"value\"\n[labelFn]=\"labelFn\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_COMPANY_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteCompanyComponent implements ControlValueAccessor {\n\n  endpoint = 'companies/options';\n\n  valueAttr = 'key';\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Company autocomplete';\n\n  @Input() placeholder = 'Company autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() {}\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(company) {\n    return `${company.value} #${company.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteCompanyComponent } from './autocomplete-company.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n  ],\n  declarations: [DecAutocompleteCompanyComponent],\n  exports: [DecAutocompleteCompanyComponent]\n})\nexport class DecAutocompleteCompanyModule { }\n","import { Component, OnInit, Input, Output, EventEmitter, forwardRef, AfterViewInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => AutocompleteComplexityComponent),\n  multi: true\n};\n\nconst BASIC_ENDPOINT = 'jobs/complexities/options';\n\n@Component({\n  selector: 'dec-autocomplete-complexity',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[endpoint]=\"endpoint\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n(enterButton)=\"enterButton.emit($event)\"\n[multi]=\"multi\"\n[repeat]=\"repeat\"\n[(ngModel)]=\"value\"\n[labelAttr]=\"labelAttr\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [``],\n  providers: [AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR]\n})\nexport class AutocompleteComplexityComponent implements ControlValueAccessor {\n\n  endpoint = 'jobs/complexities/options';\n\n  valueAttr = 'key';\n\n  labelAttr = 'value';\n\n  @Input()\n  set type(v) {\n    if (v !== this._type) {\n      this._type = v;\n      this.value = undefined;\n      this.endpoint = undefined; // enforce autocomplete reload\n      setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n        this.setEndpointBasedOnInputs();\n      });\n    }\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  private _type: string;\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Complexity autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Input() placeholder = 'Complexity autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() enterButton: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(complexity) {\n    return `${complexity.value} #${complexity.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  setEndpointBasedOnInputs() {\n    const params = [];\n    let endpoint = `${BASIC_ENDPOINT}`;\n\n    params.push(`type=${this.type}`);\n\n    endpoint += `?${params.join('&')}`;\n\n    this.endpoint = endpoint;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { FormsModule } from '@angular/forms';\nimport { AutocompleteComplexityComponent } from './autocomplete-complexity.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule\n  ],\n  declarations: [\n    AutocompleteComplexityComponent\n  ],\n  exports: [\n    AutocompleteComplexityComponent\n  ]\n})\nexport class AutocompleteComplexityModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Observable, of } from 'rxjs';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_COUNTRY_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteCountryComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-country',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[name]=\"name\"\n[multi]=\"multi\"\n[repeat]=\"repeat\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[options]=\"(countries$ | async)\"\n[(ngModel)]=\"value\"\n[labelFn]=\"labelFn\"\n[valueFn]=\"valueFn\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_COUNTRY_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteCountryComponent implements ControlValueAccessor {\n\n  countries$: Observable<any>;\n\n  @Input() lang: 'en' | 'pt-br' = 'en';\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Country autocomplete';\n\n  @Input() placeholder = 'Country autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() {\n    this.countries$ = of(FAKE_DATA);\n  }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  labelFn = (item) => {\n    return item ? item.name : item;\n  }\n\n  valueFn = (item) => {\n    return item ? item.code : item;\n  }\n\n}\n\nconst FAKE_DATA = [{ 'code': 'AD', 'name': 'Andorra' }, { 'code': 'AE', 'name': 'United Arab Emirates' }, { 'code': 'AF', 'name': 'Afghanistan' }, { 'code': 'AG', 'name': 'Antigua and Barbuda' }, { 'code': 'AI', 'name': 'Anguilla' }, { 'code': 'AL', 'name': 'Albania' }, { 'code': 'AM', 'name': 'Armenia' }, { 'code': 'AN', 'name': 'Netherlands Antilles' }, { 'code': 'AO', 'name': 'Angola' }, { 'code': 'AQ', 'name': 'Antarctica' }, { 'code': 'AR', 'name': 'Argentina' }, { 'code': 'AS', 'name': 'American Samoa' }, { 'code': 'AT', 'name': 'Austria' }, { 'code': 'AU', 'name': 'Australia' }, { 'code': 'AW', 'name': 'Aruba' }, { 'code': 'AX', 'name': 'Ãland Islands' }, { 'code': 'AZ', 'name': 'Azerbaijan' }, { 'code': 'BA', 'name': 'Bosnia and Herzegovina' }, { 'code': 'BB', 'name': 'Barbados' }, { 'code': 'BD', 'name': 'Bangladesh' }, { 'code': 'BE', 'name': 'Belgium' }, { 'code': 'BF', 'name': 'Burkina Faso' }, { 'code': 'BG', 'name': 'Bulgaria' }, { 'code': 'BH', 'name': 'Bahrain' }, { 'code': 'BI', 'name': 'Burundi' }, { 'code': 'BJ', 'name': 'Benin' }, { 'code': 'BL', 'name': 'Saint BarthÃ©lemy' }, { 'code': 'BM', 'name': 'Bermuda' }, { 'code': 'BN', 'name': 'Brunei' }, { 'code': 'BO', 'name': 'Bolivia' }, { 'code': 'BQ', 'name': 'Bonaire, Sint Eustatius and Saba' }, { 'code': 'BR', 'name': 'Brazil' }, { 'code': 'BS', 'name': 'Bahamas' }, { 'code': 'BT', 'name': 'Bhutan' }, { 'code': 'BV', 'name': 'Bouvet Island' }, { 'code': 'BW', 'name': 'Botswana' }, { 'code': 'BY', 'name': 'Belarus' }, { 'code': 'BZ', 'name': 'Belize' }, { 'code': 'CA', 'name': 'Canada' }, { 'code': 'CC', 'name': 'Cocos Islands' }, { 'code': 'CD', 'name': 'The Democratic Republic Of Congo' }, { 'code': 'CF', 'name': 'Central African Republic' }, { 'code': 'CG', 'name': 'Congo' }, { 'code': 'CH', 'name': 'Switzerland' }, { 'code': 'CI', 'name': 'CÃ´te d\\'Ivoire' }, { 'code': 'CK', 'name': 'Cook Islands' }, { 'code': 'CL', 'name': 'Chile' }, { 'code': 'CM', 'name': 'Cameroon' }, { 'code': 'CN', 'name': 'China' }, { 'code': 'CO', 'name': 'Colombia' }, { 'code': 'CR', 'name': 'Costa Rica' }, { 'code': 'CU', 'name': 'Cuba' }, { 'code': 'CV', 'name': 'Cape Verde' }, { 'code': 'CW', 'name': 'CuraÃ§ao' }, { 'code': 'CX', 'name': 'Christmas Island' }, { 'code': 'CY', 'name': 'Cyprus' }, { 'code': 'CZ', 'name': 'Czech Republic' }, { 'code': 'DE', 'name': 'Germany' }, { 'code': 'DJ', 'name': 'Djibouti' }, { 'code': 'DK', 'name': 'Denmark' }, { 'code': 'DM', 'name': 'Dominica' }, { 'code': 'DO', 'name': 'Dominican Republic' }, { 'code': 'DZ', 'name': 'Algeria' }, { 'code': 'EC', 'name': 'Ecuador' }, { 'code': 'EE', 'name': 'Estonia' }, { 'code': 'EG', 'name': 'Egypt' }, { 'code': 'EH', 'name': 'Western Sahara' }, { 'code': 'ER', 'name': 'Eritrea' }, { 'code': 'ES', 'name': 'Spain' }, { 'code': 'ET', 'name': 'Ethiopia' }, { 'code': 'FI', 'name': 'Finland' }, { 'code': 'FJ', 'name': 'Fiji' }, { 'code': 'FK', 'name': 'Falkland Islands' }, { 'code': 'FM', 'name': 'Micronesia' }, { 'code': 'FO', 'name': 'Faroe Islands' }, { 'code': 'FR', 'name': 'France' }, { 'code': 'GA', 'name': 'Gabon' }, { 'code': 'GB', 'name': 'United Kingdom' }, { 'code': 'GD', 'name': 'Grenada' }, { 'code': 'GE', 'name': 'Georgia' }, { 'code': 'GF', 'name': 'French Guiana' }, { 'code': 'GG', 'name': 'Guernsey' }, { 'code': 'GH', 'name': 'Ghana' }, { 'code': 'GI', 'name': 'Gibraltar' }, { 'code': 'GL', 'name': 'Greenland' }, { 'code': 'GM', 'name': 'Gambia' }, { 'code': 'GN', 'name': 'Guinea' }, { 'code': 'GP', 'name': 'Guadeloupe' }, { 'code': 'GQ', 'name': 'Equatorial Guinea' }, { 'code': 'GR', 'name': 'Greece' }, { 'code': 'GS', 'name': 'South Georgia And The South Sandwich Islands' }, { 'code': 'GT', 'name': 'Guatemala' }, { 'code': 'GU', 'name': 'Guam' }, { 'code': 'GW', 'name': 'Guinea-Bissau' }, { 'code': 'GY', 'name': 'Guyana' }, { 'code': 'HK', 'name': 'Hong Kong' }, { 'code': 'HM', 'name': 'Heard Island And McDonald Islands' }, { 'code': 'HN', 'name': 'Honduras' }, { 'code': 'HR', 'name': 'Croatia' }, { 'code': 'HT', 'name': 'Haiti' }, { 'code': 'HU', 'name': 'Hungary' }, { 'code': 'ID', 'name': 'Indonesia' }, { 'code': 'IE', 'name': 'Ireland' }, { 'code': 'IL', 'name': 'Israel' }, { 'code': 'IM', 'name': 'Isle Of Man' }, { 'code': 'IN', 'name': 'India' }, { 'code': 'IO', 'name': 'British Indian Ocean Territory' }, { 'code': 'IQ', 'name': 'Iraq' }, { 'code': 'IR', 'name': 'Iran' }, { 'code': 'IS', 'name': 'Iceland' }, { 'code': 'IT', 'name': 'Italy' }, { 'code': 'JE', 'name': 'Jersey' }, { 'code': 'JM', 'name': 'Jamaica' }, { 'code': 'JO', 'name': 'Jordan' }, { 'code': 'JP', 'name': 'Japan' }, { 'code': 'KE', 'name': 'Kenya' }, { 'code': 'KG', 'name': 'Kyrgyzstan' }, { 'code': 'KH', 'name': 'Cambodia' }, { 'code': 'KI', 'name': 'Kiribati' }, { 'code': 'KM', 'name': 'Comoros' }, { 'code': 'KN', 'name': 'Saint Kitts And Nevis' }, { 'code': 'KP', 'name': 'North Korea' }, { 'code': 'KR', 'name': 'South Korea' }, { 'code': 'KW', 'name': 'Kuwait' }, { 'code': 'KY', 'name': 'Cayman Islands' }, { 'code': 'KZ', 'name': 'Kazakhstan' }, { 'code': 'LA', 'name': 'Laos' }, { 'code': 'LB', 'name': 'Lebanon' }, { 'code': 'LC', 'name': 'Saint Lucia' }, { 'code': 'LI', 'name': 'Liechtenstein' }, { 'code': 'LK', 'name': 'Sri Lanka' }, { 'code': 'LR', 'name': 'Liberia' }, { 'code': 'LS', 'name': 'Lesotho' }, { 'code': 'LT', 'name': 'Lithuania' }, { 'code': 'LU', 'name': 'Luxembourg' }, { 'code': 'LV', 'name': 'Latvia' }, { 'code': 'LY', 'name': 'Libya' }, { 'code': 'MA', 'name': 'Morocco' }, { 'code': 'MC', 'name': 'Monaco' }, { 'code': 'MD', 'name': 'Moldova' }, { 'code': 'ME', 'name': 'Montenegro' }, { 'code': 'MF', 'name': 'Saint Martin' }, { 'code': 'MG', 'name': 'Madagascar' }, { 'code': 'MH', 'name': 'Marshall Islands' }, { 'code': 'MK', 'name': 'Macedonia' }, { 'code': 'ML', 'name': 'Mali' }, { 'code': 'MM', 'name': 'Myanmar' }, { 'code': 'MN', 'name': 'Mongolia' }, { 'code': 'MO', 'name': 'Macao' }, { 'code': 'MP', 'name': 'Northern Mariana Islands' }, { 'code': 'MQ', 'name': 'Martinique' }, { 'code': 'MR', 'name': 'Mauritania' }, { 'code': 'MS', 'name': 'Montserrat' }, { 'code': 'MT', 'name': 'Malta' }, { 'code': 'MU', 'name': 'Mauritius' }, { 'code': 'MV', 'name': 'Maldives' }, { 'code': 'MW', 'name': 'Malawi' }, { 'code': 'MX', 'name': 'Mexico' }, { 'code': 'MY', 'name': 'Malaysia' }, { 'code': 'MZ', 'name': 'Mozambique' }, { 'code': 'NA', 'name': 'Namibia' }, { 'code': 'NC', 'name': 'New Caledonia' }, { 'code': 'NE', 'name': 'Niger' }, { 'code': 'NF', 'name': 'Norfolk Island' }, { 'code': 'NG', 'name': 'Nigeria' }, { 'code': 'NI', 'name': 'Nicaragua' }, { 'code': 'NL', 'name': 'Netherlands' }, { 'code': 'NO', 'name': 'Norway' }, { 'code': 'NP', 'name': 'Nepal' }, { 'code': 'NR', 'name': 'Nauru' }, { 'code': 'NU', 'name': 'Niue' }, { 'code': 'NZ', 'name': 'New Zealand' }, { 'code': 'OM', 'name': 'Oman' }, { 'code': 'PA', 'name': 'Panama' }, { 'code': 'PE', 'name': 'Peru' }, { 'code': 'PF', 'name': 'French Polynesia' }, { 'code': 'PG', 'name': 'Papua New Guinea' }, { 'code': 'PH', 'name': 'Philippines' }, { 'code': 'PK', 'name': 'Pakistan' }, { 'code': 'PL', 'name': 'Poland' }, { 'code': 'PM', 'name': 'Saint Pierre And Miquelon' }, { 'code': 'PN', 'name': 'Pitcairn' }, { 'code': 'PR', 'name': 'Puerto Rico' }, { 'code': 'PS', 'name': 'Palestine' }, { 'code': 'PT', 'name': 'Portugal' }, { 'code': 'PW', 'name': 'Palau' }, { 'code': 'PY', 'name': 'Paraguay' }, { 'code': 'QA', 'name': 'Qatar' }, { 'code': 'RE', 'name': 'Reunion' }, { 'code': 'RO', 'name': 'Romania' }, { 'code': 'RS', 'name': 'Serbia' }, { 'code': 'RU', 'name': 'Russia' }, { 'code': 'RW', 'name': 'Rwanda' }, { 'code': 'SA', 'name': 'Saudi Arabia' }, { 'code': 'SB', 'name': 'Solomon Islands' }, { 'code': 'SC', 'name': 'Seychelles' }, { 'code': 'SD', 'name': 'Sudan' }, { 'code': 'SE', 'name': 'Sweden' }, { 'code': 'SG', 'name': 'Singapore' }, { 'code': 'SH', 'name': 'Saint Helena' }, { 'code': 'SI', 'name': 'Slovenia' }, { 'code': 'SJ', 'name': 'Svalbard And Jan Mayen' }, { 'code': 'SK', 'name': 'Slovakia' }, { 'code': 'SL', 'name': 'Sierra Leone' }, { 'code': 'SM', 'name': 'San Marino' }, { 'code': 'SN', 'name': 'Senegal' }, { 'code': 'SO', 'name': 'Somalia' }, { 'code': 'SR', 'name': 'Suriname' }, { 'code': 'SS', 'name': 'South Sudan' }, { 'code': 'ST', 'name': 'Sao Tome And Principe' }, { 'code': 'SV', 'name': 'El Salvador' }, { 'code': 'SX', 'name': 'Sint Maarten (Dutch part)' }, { 'code': 'SY', 'name': 'Syria' }, { 'code': 'SZ', 'name': 'Swaziland' }, { 'code': 'TC', 'name': 'Turks And Caicos Islands' }, { 'code': 'TD', 'name': 'Chad' }, { 'code': 'TF', 'name': 'French Southern Territories' }, { 'code': 'TG', 'name': 'Togo' }, { 'code': 'TH', 'name': 'Thailand' }, { 'code': 'TJ', 'name': 'Tajikistan' }, { 'code': 'TK', 'name': 'Tokelau' }, { 'code': 'TL', 'name': 'Timor-Leste' }, { 'code': 'TM', 'name': 'Turkmenistan' }, { 'code': 'TN', 'name': 'Tunisia' }, { 'code': 'TO', 'name': 'Tonga' }, { 'code': 'TR', 'name': 'Turkey' }, { 'code': 'TT', 'name': 'Trinidad and Tobago' }, { 'code': 'TV', 'name': 'Tuvalu' }, { 'code': 'TW', 'name': 'Taiwan' }, { 'code': 'TZ', 'name': 'Tanzania' }, { 'code': 'UA', 'name': 'Ukraine' }, { 'code': 'UG', 'name': 'Uganda' }, { 'code': 'UM', 'name': 'United States Minor Outlying Islands' }, { 'code': 'UY', 'name': 'Uruguay' }, { 'code': 'UZ', 'name': 'Uzbekistan' }, { 'code': 'VA', 'name': 'Vatican' }, { 'code': 'VC', 'name': 'Saint Vincent And The Grenadines' }, { 'code': 'VE', 'name': 'Venezuela' }, { 'code': 'VG', 'name': 'British Virgin Islands' }, { 'code': 'VI', 'name': 'U.S. Virgin Islands' }, { 'code': 'VN', 'name': 'Vietnam' }, { 'code': 'VU', 'name': 'Vanuatu' }, { 'code': 'WF', 'name': 'Wallis And Futuna' }, { 'code': 'WS', 'name': 'Samoa' }, { 'code': 'YE', 'name': 'Yemen' }, { 'code': 'YT', 'name': 'Mayotte' }, { 'code': 'ZA', 'name': 'South Africa' }, { 'code': 'ZM', 'name': 'Zambia' }, { 'code': 'ZW', 'name': 'Zimbabwe' }];\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteCountryComponent } from './autocomplete-country.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n  ],\n  declarations: [DecAutocompleteCountryComponent],\n  exports: [DecAutocompleteCountryComponent]\n})\nexport class DecAutocompleteCountryModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nexport const BASE_ENDPOINT = 'companies/${companyId}/departments/options';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_DEPARTMENT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteDepartmentComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-department',\n  template: `<div *ngIf=\"endpoint else fakeDisabled\">\n  <dec-autocomplete\n  [disabled]=\"!companyId || disabled\"\n  [endpoint]=\"endpoint\"\n  [labelAttr]=\"labelAttr\"\n  [name]=\"name\"\n  [multi]=\"multi\"\n  [repeat]=\"repeat\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_DEPARTMENT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteDepartmentComponent implements ControlValueAccessor {\n\n  endpoint: string;\n\n  labelAttr = 'value';\n\n  valueAttr = 'key';\n\n  @Input()\n  set companyId(v: string) {\n    this._companyId = v;\n    this.value = undefined;\n    this.endpoint = undefined; // enforce autocomplete reload\n    setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n      this.setEndpointBasedInputs();\n    });\n  }\n\n  get companyId() {\n    return this._companyId;\n  }\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Department autocomplete';\n\n  @Input() placeholder = 'Department autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  private _companyId: string;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  setEndpointBasedInputs() {\n    this.endpoint = !this.companyId ? undefined : BASE_ENDPOINT.replace('${companyId}', this.companyId);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteDepartmentComponent } from './autocomplete-department.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [DecAutocompleteDepartmentComponent],\n  exports: [DecAutocompleteDepartmentComponent]\n})\nexport class DecAutocompleteDepartmentModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteRoleComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-role',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[name]=\"name\"\n[multi]=\"multi\" [repeat]=\"repeat\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[(ngModel)]=\"value\"\n[endpoint]=\"endpoint\"\n[labelAttr]=\"labelAttr\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteRoleComponent implements ControlValueAccessor {\n\n  endpoint = 'roles/options';\n\n  labelAttr = 'value';\n\n  valueAttr = 'key';\n\n  @Input() types: string[];\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Role autocomplete';\n\n  @Input() placeholder = 'Role autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(\n    private decoraApi: DecApiService\n  ) {}\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteRoleComponent } from './autocomplete-role.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule\n  ],\n  declarations: [DecAutocompleteRoleComponent],\n  exports: [DecAutocompleteRoleComponent]\n})\nexport class DecAutocompleteRoleModule { }\n","import { Component, OnInit, Input, Output, EventEmitter, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => AutocompleteSquadsComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-squads',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[endpoint]=\"endpoint\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n(enterButton)=\"enterButton.emit($event)\"\n[(ngModel)]=\"value\"\n[labelAttr]=\"labelAttr\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>`,\n  styles: [``],\n  providers: [AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR]\n})\nexport class AutocompleteSquadsComponent implements ControlValueAccessor {\n\n  endpoint = 'jobs/squads/options';\n\n  valueAttr = 'key';\n\n  labelAttr = 'value';\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Squads autocomplete';\n\n  @Input() placeholder = 'Squads autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() enterButton: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(squads) {\n    return `${squads.value} #${squads.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { FormsModule } from '@angular/forms';\nimport { AutocompleteSquadsComponent } from './autocomplete-squads.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule\n  ],\n  declarations: [\n    AutocompleteSquadsComponent\n  ],\n  exports: [\n    AutocompleteSquadsComponent\n  ]\n})\nexport class AutocompleteSquadsModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\n\nconst BASE_AUTOCOMPLETE_PRODUCT_ENDPOINT = '/products/options';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_PRODUCT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteProductComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-product',\n  template: `<div *ngIf=\"endpoint else fakeDisabled\">\n  <dec-autocomplete\n  #autocomplete\n  [endpoint]=\"endpoint\"\n  [labelFn]=\"labelFn\"\n  [name]=\"name\"\n  [multi]=\"multi\"\n  [repeat]=\"repeat\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  [disabled]=\"disabled\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_PRODUCT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteProductComponent implements ControlValueAccessor, AfterViewInit {\n\n  endpoint;\n\n  @Input() valueAttr = 'key';\n\n  @Input()\n  set companyId(v: string) {\n    if (this._companyId !== v) {\n      this._companyId = v;\n      this.value = undefined;\n      this.endpoint = undefined; // enforce autocomplete reload\n      if (this.initialized) {\n        this.setEndpointBasedOnInputs();\n      }\n    }\n  }\n\n  get companyId() {\n    return this._companyId;\n  }\n\n  @Input()\n  set modelApproved(v: boolean) {\n    if (this._modelApproved !== v) {\n      this._modelApproved = v;\n      if (this.initialized) {\n        this.setEndpointBasedOnInputs();\n      }\n    }\n  }\n\n  get modelApproved() {\n    return this._modelApproved;\n  }\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Product autocomplete';\n\n  @Input() placeholder = 'Product autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  private _companyId: string;\n\n  private _modelApproved: boolean;\n\n  private params: any = [];\n\n  private initialized;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private decoraApi: DecApiService) { }\n\n  ngAfterViewInit() {\n    this.initialized = true;\n\n    setTimeout(() => {\n      this.setEndpointBasedOnInputs();\n    }, 0);\n\n  }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(company) {\n    return `${company.value} #${company.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  setEndpointBasedOnInputs() {\n    this.indentifyParams();\n    this.endpoint = BASE_AUTOCOMPLETE_PRODUCT_ENDPOINT;\n    if (this.params.length > 0) {\n      this.params.forEach(function(param, index) {\n        const paramName = Object.keys(param)[0];\n        const paramValue = param[paramName];\n        this.endpoint += index === 0 ? '?' : '&';\n        this.endpoint += paramName;\n        this.endpoint += '=';\n        this.endpoint += paramValue;\n      }, this);\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  private indentifyParams() {\n\n    this.params = [];\n\n    if (this.companyId) {\n      this.params.push({\n        companyId: this.companyId\n      });\n    }\n\n    if (this.modelApproved) {\n      this.params.push({\n        modelApproved: this.modelApproved\n      });\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteProductComponent } from './autocomplete-product.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [\n    DecAutocompleteProductComponent\n  ],\n  exports: [\n    DecAutocompleteProductComponent\n  ]\n})\nexport class DecAutocompleteProductModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\n\nexport const BASE_AUTOCOMPLETE_PROJECT_ENDPOINT = '/projects/options';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_PROJECT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteProjectComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-project',\n  template: `<div *ngIf=\"(endpoint && companyId) else fakeDisabled\">\n  <dec-autocomplete\n  #autocomplete\n  [endpoint]=\"endpoint\"\n  [labelFn]=\"labelFn\"\n  [name]=\"name\"\n  [multi]=\"multi\"\n  [repeat]=\"repeat\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  [disabled]=\"disabled\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_PROJECT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteProjectComponent implements ControlValueAccessor {\n\n  endpoint;\n\n  valueAttr = 'key';\n\n  @Input()\n  set companyId(v: string) {\n    if (this._companyId !== v) {\n      this._companyId = v;\n      this.value = undefined;\n      this.endpoint = undefined; // enforce autocomplete reload\n      setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n        this.setEndpointBasedOnInputs();\n      }, 0);\n    }\n  }\n\n  get companyId() {\n    return this._companyId;\n  }\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Project autocomplete';\n\n  @Input() placeholder = 'Project autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  private _companyId: string;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private decoraApi: DecApiService) { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(company) {\n    return `${company.value} #${company.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  setEndpointBasedOnInputs() {\n    if (this.companyId) {\n      this.endpoint = BASE_AUTOCOMPLETE_PROJECT_ENDPOINT + '?companyId=' + this.companyId;\n    } else {\n      this.endpoint = BASE_AUTOCOMPLETE_PROJECT_ENDPOINT;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteProjectComponent } from './autocomplete-project.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [\n    DecAutocompleteProjectComponent\n  ],\n  exports: [\n    DecAutocompleteProjectComponent\n  ]\n})\nexport class DecAutocompleteProjectModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter, AfterViewInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { map } from 'rxjs/operators';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\nconst QUOTE_ENDPOINT = '/projects/${projectId}/quotes/options';\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_QUOTE_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteQuoteComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-quote',\n  template: `<div *ngIf=\"endpoint else fakeDisabled\">\n  <dec-autocomplete\n  [disabled]=\"!projectId || disabled\"\n  [endpoint]=\"endpoint\"\n  [labelFn]=\"labelFn\"\n  [name]=\"name\"\n  [multi]=\"multi\"\n  [repeat]=\"repeat\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_QUOTE_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteQuoteComponent implements ControlValueAccessor, AfterViewInit {\n\n  endpoint: string;\n\n  valueAttr = 'key';\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Quote autocomplete';\n\n  @Input() placeholder = 'Quote autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  @Input()\n  set projectId(v: string) {\n    if (this._projectId !== v) {\n      this._projectId = v;\n      this.value = undefined;\n      this.endpoint = undefined; // enforce autocomplete reload\n      setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n        this.setEndpointBasedOnInputs();\n      }, 0);\n    }\n  }\n\n  get projectId() {\n    return this._projectId;\n  }\n\n\n  @Input()\n  set decoraProduct(v: string) {\n    if (this._decoraProduct !== v) {\n      this._decoraProduct = v;\n\n      if (this.viewInitialized) {\n        this.setEndpointBasedOnInputs();\n      }\n    }\n  }\n\n  get decoraProduct() {\n    return this._decoraProduct;\n  }\n\n  @Input()\n  set decoraProductVariant(v: string) {\n    if (this._decoraProductVariant !== v) {\n      this._decoraProductVariant = v;\n\n      if (this.viewInitialized) {\n        this.setEndpointBasedOnInputs();\n      }\n    }\n  }\n\n  get decoraProductVariant() {\n    return this._decoraProductVariant;\n  }\n\n  private _projectId: string;\n\n  private _decoraProduct: string;\n\n  private _decoraProductVariant: string;\n\n  private viewInitialized: boolean;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private decoraApi: DecApiService) { }\n\n  ngAfterViewInit() {\n    this.viewInitialized = true;\n    this.setEndpointBasedOnInputs();\n  }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  labelFn(item: any = {}) {\n    return `${item.value} #${item.key}`;\n  }\n\n  private setEndpointBasedOnInputs() {\n\n    let endpoint;\n\n    this.value = undefined;\n\n    if (this.projectId) {\n\n      endpoint = QUOTE_ENDPOINT.replace('${projectId}', this.projectId);\n\n      const params = [];\n\n      if (this.decoraProduct) {\n        params.push(`productId=${this.decoraProduct}`);\n      }\n\n      if (this.decoraProductVariant) {\n        params.push(`productVariantId=${this.decoraProductVariant}`);\n      }\n\n      if (params.length) {\n\n        endpoint += `?${params.join('&')}`;\n\n      }\n\n    }\n\n    if (this.endpoint !== endpoint) {\n\n\n      setTimeout(() => {\n        this.endpoint = endpoint;\n      }, 0);\n\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteQuoteComponent } from './autocomplete-quote.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [\n    DecAutocompleteQuoteComponent\n  ],\n  exports: [\n    DecAutocompleteQuoteComponent\n  ]\n})\nexport class DecAutocompleteQuoteModule { }\n","import { Component, OnInit, Input, Output, EventEmitter, forwardRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_TAGS_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteTagsComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-tags',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[endpoint]=\"endpoint\"\n[multi]=\"multi\"\n[repeat]=\"repeat\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n(enterButton)=\"enterButton.emit($event)\"\n[(ngModel)]=\"value\"\n[labelAttr]=\"labelAttr\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [``],\n  providers: [AUTOCOMPLETE_TAGS_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteTagsComponent implements ControlValueAccessor {\n\n  @Input()\n  set endpoint(v) {\n    if (v && v !== this._endpoint) {\n      this.value = undefined;\n      this._endpoint = undefined; // enforce autocomplete reload\n      setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n        this._endpoint = v;\n      }, 0);\n    }\n  }\n\n  get endpoint() {\n    return this._endpoint;\n  }\n\n  valueAttr = 'key';\n\n  labelAttr = 'value';\n\n  _endpoint: string;\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Tags autocomplete';\n\n  @Input() placeholder = 'Tags autocomplete';\n\n  @Input() multi: boolean;\n\n  @Input() repeat: boolean;\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() enterButton: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() {}\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(tags) {\n    return `${tags.value} #${tags.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      this.value = value;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteTagsComponent } from './autocomplete-tags.component';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule\n  ],\n  declarations: [\n    DecAutocompleteTagsComponent\n  ],\n  exports: [\n    DecAutocompleteTagsComponent\n  ]\n})\nexport class DecAutocompleteTagsModule { }\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'dec-breadcrumb',\n  template: `<div fxLayout=\"row\" class=\"dec-breadcrumb-wrapper\">\n\n  <div fxFlex>\n    <div fxLayout=\"column\">\n      <div class=\"title\">\n        <h1>{{feature}}</h1>\n      </div>\n      <div class=\"breadcrumb\">\n        {{breadcrumb}}\n      </div>\n    </div>\n  </div>\n\n  <div fxFlex fxFlexAlign=\"center\" fxLayoutAlign=\"end\">\n    <div fxLayout=\"row\">\n      <div fxFlex>\n        <!-- CONTENT  -->\n        <ng-content></ng-content>\n        <!-- BACK BUTTON -->\n        <button type=\"button\" mat-raised-button color=\"default\" *ngIf=\"backButtonPath\" (click)=\"goBack()\">{{ backLabel }}</button>\n        <!-- FORWARD BUTTON -->\n        <button type=\"button\" mat-raised-button color=\"default\" *ngIf=\"forwardButton\" (click)=\"goForward()\">{{ forwardLabel }}</button>\n      </div>\n    </div>\n  </div>\n\n</div>\n`,\n  styles: [`.dec-breadcrumb-wrapper{margin-bottom:32px}.dec-breadcrumb-wrapper h1{font-size:24px;font-weight:400;margin-top:4px;margin-bottom:4px}.dec-breadcrumb-wrapper .breadcrumb{color:#a8a8a8}`],\n})\nexport class DecBreadcrumbComponent implements OnInit {\n\n  @Input() backButtonPath: string;\n  @Input() breadcrumb: string;\n  @Input() feature: string;\n  @Input() forwardButton: string;\n  @Input() i18nFeature: string;\n  @Input() i18nBreadcrumb: string[];\n  @Input() backLabel = 'Back';\n  @Input() forwardLabel = 'Forward';\n\n  constructor(private router: Router, private translator: TranslateService) {\n  }\n\n  ngOnInit() {\n    this.translateFeature();\n    this.translatePaths();\n    this.detectAndParseButtonsConfig();\n  }\n\n  private detectAndParseButtonsConfig() {\n    this.parseBackButton();\n    this.parseForwardButton();\n  }\n\n  private parseBackButton() {\n    if (this.backButtonPath !== undefined && this.backButtonPath !== 'false') {\n      this.backButtonPath = this.backButtonPath ? this.backButtonPath : '/';\n    }\n  }\n\n  private parseForwardButton() {\n    if (this.forwardButton !== undefined && this.forwardButton !== 'false') {\n      this.forwardButton = this.forwardButton ? this.forwardButton : '/';\n    }\n  }\n\n  private translateFeature() {\n    if (this.i18nBreadcrumb) {\n      this.breadcrumb = this.i18nBreadcrumb.map(path => this.translator.instant(path)).join(' / ');\n    }\n  }\n\n  private translatePaths() {\n    if (this.i18nFeature) {\n      this.feature = this.translator.instant(this.i18nFeature);\n    }\n  }\n\n  // ****************** //\n  // Navigation Methods //\n  // ****************** //\n\n  public goBack() {\n    if (this.backButtonPath) {\n      this.router.navigate([this.backButtonPath]);\n    } else {\n      window.history.back();\n    }\n  }\n\n  public goForward() {\n    if (this.forwardButton) {\n      this.router.navigate([this.forwardButton]);\n    } else {\n      window.history.forward();\n    }\n  }\n}\n","// Angular modules\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatButtonModule } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { DecBreadcrumbComponent } from './breadcrumb.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatButtonModule,\n    RouterModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecBreadcrumbComponent\n  ],\n  exports: [\n    DecBreadcrumbComponent\n  ]\n})\nexport class DecBreadcrumbModule { }\n","import { Component, OnInit, ViewChild, TemplateRef, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-carousel-item',\n  template: `<ng-template>\n  <ng-content></ng-content>\n</ng-template>\n`,\n  styles: [``]\n})\nexport class DecCarouselItemComponent implements OnInit {\n\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n\n  @Input() value: any;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, ContentChildren, QueryList, Input, Output, EventEmitter } from '@angular/core';\nimport { DecCarouselItemComponent } from './dec-carousel-item/dec-carousel-item.component';\n\n@Component({\n  selector: 'dec-carousel',\n  template: `<div *ngIf=\"items\" class=\"dec-carousel-wrapper\" fxLayout=\"row\" [fxLayoutGap]=\"gap\" fxLayoutAlign=\"space-between center\">\n\n  <div fxFlex=\"24px\" *ngIf=\"showNavigators\">\n    <div (click)=\"goPrev()\" *ngIf=\"showPrevButton\" class=\"dec-carousel-navigator dec-carousel-navigator-left\"></div>\n  </div>\n\n  <div fxFlex>\n\n    <div fxLayout=\"row\" [fxLayoutGap]=\"gap\">\n\n      <div *ngFor=\"let item of visibleItems;\" class=\"dec-carousel-item\" [ngClass]=\"{'highlight-selected': highlightSelected}\" [fxFlex]=\"itemWidth\">\n\n        <div class=\"dec-carousel-item-content-wrapper\" [ngClass]=\"{'dec-carousel-item-content-wrapper-selected': selectedIndex === item.index}\" (click)=\"selectItem(item.index)\">\n\n          <div class=\"dec-carousel-item-content\">\n\n            <ng-template [ngTemplateOutlet]=\"item.component.template\"></ng-template>\n\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n  <div fxFlex=\"24px\" *ngIf=\"showNavigators\">\n    <div (click)=\"goNext()\" *ngIf=\"showNextButton\" class=\"dec-carousel-navigator dec-carousel-navigator-right\"></div>\n  </div>\n\n</div>\n\n<ng-content></ng-content>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.dec-carousel-wrapper{padding:2px}.dec-carousel-wrapper .dec-carousel-item .dec-carousel-item-content-wrapper{text-align:center}.dec-carousel-wrapper .dec-carousel-item .dec-carousel-item-content-wrapper .dec-carousel-item-content{text-align:left;cursor:pointer;display:inline-block}.dec-carousel-wrapper .dec-carousel-item.highlight-selected .dec-carousel-item-content-wrapper{border:2px solid transparent}.dec-carousel-wrapper .dec-carousel-item.highlight-selected .dec-carousel-item-content-wrapper.dec-carousel-item-content-wrapper-selected{border-color:#232e38}.dec-carousel-wrapper .dec-carousel-navigator{cursor:pointer;border:solid rgba(0,0,0,.5);border-width:0 4px 4px 0;display:inline-block;padding:12px;margin:4px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dec-carousel-wrapper .dec-carousel-navigator-left{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.dec-carousel-wrapper .dec-carousel-navigator-right{transform:rotate(-45deg);-webkit-transform:rotate(-45deg);margin-left:-8px}`]\n})\nexport class DecCarouselComponent {\n\n  @Input()\n  set selectedIndex(v) {\n    if (v !== this._selectedIndex) {\n      this._selectedIndex = v;\n      if (this.items) {\n        this.mountAndEmitSelected();\n      }\n    }\n  }\n\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n\n  @Input() itemsPerPage = 4;\n\n  @Input() highlightSelected = true;\n\n  @Input() gap = '8px';\n\n  @ContentChildren(DecCarouselItemComponent)\n  set items(v: QueryList<DecCarouselItemComponent>) {\n    if (this._items !== v) {\n      this._items = v;\n      this.mountSelectedItem();\n      this.detectVisibleItems();\n      this.mountAndEmitSelected();\n    }\n  }\n\n  get items() {\n    return this._items;\n  }\n\n  @Output() itemSelected = new EventEmitter<any>();\n\n  visibleItems = [];\n\n  selectedItem: { index: number, value: any } = {\n    index: 0,\n    value: undefined,\n  };\n\n  private initialIndex = 0;\n\n  private finalIndex;\n\n  private _items;\n\n  private _selectedIndex = 0;\n\n  constructor() { }\n\n  get itemWidth() {\n    return 100 / this.itemsPerPage;\n  }\n\n  get showPrevButton() {\n    return this.initialIndex > 0;\n  }\n\n  get showNextButton() {\n    const totalItems = this.items.length;\n    return this.initialIndex < (totalItems - this.itemsPerPage);\n  }\n\n  get showNavigators() {\n    return !this.items || this.items.length > this.itemsPerPage;\n  }\n\n  detectVisibleItems() {\n    const itemsArray = this.items.toArray();\n    this.finalIndex = this.initialIndex + this.itemsPerPage;\n    const itemsObjects = itemsArray.map((item, index) => {\n      return {\n        index: index,\n        component: item\n      };\n    });\n    this.visibleItems = itemsObjects.slice(this.initialIndex, this.finalIndex);\n  }\n\n  goPrev() {\n    this.initialIndex--;\n    this.detectVisibleItems();\n  }\n\n  goNext() {\n    this.initialIndex++;\n    this.detectVisibleItems();\n  }\n\n  selectItem(index) {\n    this.selectedIndex = index;\n    this.mountAndEmitSelected();\n  }\n\n  private mountAndEmitSelected() {\n    this.mountSelectedItem();\n    this.emitSelectedItem();\n  }\n\n  private mountSelectedItem() {\n    const item = this.items.toArray()[this.selectedIndex];\n    this.selectedItem = {\n      index: this.selectedIndex,\n      value: item.value\n    };\n  }\n\n  private emitSelectedItem() {\n    this.itemSelected.emit(this.selectedItem);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecCarouselComponent } from './dec-carousel.component';\nimport { DecCarouselItemComponent } from './dec-carousel-item/dec-carousel-item.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n  ],\n  declarations: [DecCarouselComponent, DecCarouselItemComponent],\n  exports: [DecCarouselComponent, DecCarouselItemComponent]\n})\nexport class DecCarouselModule { }\n","import { Component, Input, forwardRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nconst noop = () => { };\n\nconst DATE_PICKER_CONTROL_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecDatePickerComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-date-picker',\n  template: `<mat-form-field>\n  <input matInput\n  #dueDateInput\n  [matDatepicker]=\"decPicker\"\n  [placeholder]=\"placeholder\"\n  [(ngModel)]=\"dateValue\"\n  (blur)=\"onInputBlur($event)\"\n  (focus)=\"dueDateInput.blur(); decPicker.open();\">\n  <mat-datepicker-toggle matSuffix [for]=\"decPicker\"></mat-datepicker-toggle>\n  <mat-datepicker #decPicker></mat-datepicker>\n</mat-form-field>\n`,\n  styles: [``],\n  providers: [DATE_PICKER_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecDatePickerComponent implements ControlValueAccessor {\n\n  @Input() placeholder = 'Date';\n\n  @Input() mode: 'date' | 'timestamp' = 'date';\n\n  set dateValue(v: Date) {\n\n    if (this.innerDateValue !== v) {\n\n      this.innerDateValue = v;\n\n      this.innerValue = this.mode === 'date' ? v : v.getTime();\n\n      this.onChangeCallback(this.innerValue);\n\n    }\n\n  }\n\n  get dateValue(): Date {\n\n    return this.innerDateValue;\n\n  }\n\n  private innerDateValue: Date;\n\n  private innerValue: Date | number;\n\n  private onTouchedCallback: () => void = noop;\n\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  writeValue(value: Date | number): void {\n\n    this.detectModeBasedOnInputType(value);\n\n    this.innerValue = value;\n\n    this.innerDateValue = new Date(value as any); // value as any avoids type compilation error\n\n  }\n\n  registerOnChange(fn: any) {\n\n    this.onChangeCallback = fn;\n\n  }\n\n  registerOnTouched(fn: any) {\n\n    this.onTouchedCallback = fn;\n\n  }\n\n  onInputBlur(event) {\n\n    this.onTouchedCallback();\n\n  }\n\n  private detectModeBasedOnInputType(value) {\n\n    if (value) {\n\n      const isTimestamp = /^\\d+$/.test(value);\n\n      if (isTimestamp) {\n\n        this.mode = 'timestamp';\n\n      } else {\n\n        this.mode = 'date';\n\n      }\n\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecDatePickerComponent } from './dec-date-picker.component';\nimport { MatInputModule, MatDatepickerModule, MatNativeDateModule } from '@angular/material';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatInputModule,\n    MatDatepickerModule,\n    FormsModule,\n    MatNativeDateModule,\n  ],\n  declarations: [DecDatePickerComponent],\n  exports: [DecDatePickerComponent]\n})\nexport class DecDatePickerModule { }\n","import { Component, Input, ViewChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-events-list-event',\n  template: `<ng-template #contentTemplate>\n  <span #ref>\n    <ng-content></ng-content>\n  </span>\n  <span *ngIf=\"!ref.innerHTML.trim()\">\n    -\n  </span>\n</ng-template>\n`,\n  styles: [``]\n})\nexport class DecEventsListEventComponent {\n\n  @Input() label: string;\n\n  @ViewChild('contentTemplate') contentTemplate: TemplateRef<any>;\n\n  constructor() { }\n\n}\n","import { Component, ContentChildren, QueryList } from '@angular/core';\nimport { DecEventsListEventComponent } from './dec-events-list-event/dec-events-list-event.component';\n\n@Component({\n  selector: 'dec-events-list',\n  template: `<div fxLayout=\"column\">\n  <div fxFlex *ngFor=\"let event of events\">\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\">\n      <div fxFlex=\"72px\" class=\"text-right\">{{ event.label }}</div>\n      <div fxFlex=\"80px\">\n        <strong>\n          <ng-container [ngTemplateOutlet]=\"event.contentTemplate\"></ng-container>\n        </strong>\n      </div>\n    </div>\n  </div>\n</div>\n`,\n  styles: [``]\n})\nexport class DecEventsListComponent {\n\n  @ContentChildren(DecEventsListEventComponent) events: QueryList<DecEventsListEventComponent>;\n\n  constructor() { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecEventsListComponent } from './dec-events-list.component';\nimport { DecEventsListEventComponent } from './dec-events-list-event/dec-events-list-event.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n  ],\n  declarations: [DecEventsListComponent, DecEventsListEventComponent],\n  exports: [DecEventsListComponent, DecEventsListEventComponent]\n})\nexport class DecEventsListModule { }\n","// https://github.com/sheikalthaf/ngu-carousel#input-interface\n\nexport const CarouselConfig = {\n  grid: { xs: 1, sm: 2, md: 3, lg: 4, all: 0 },\n  slide: 1,\n  speed: 400,\n  interval: 4000,\n  point: {\n    visible: false\n  },\n  custom: 'banner'\n};\n\nexport const CarouselZoomConfig = {\n  grid: { xs: 1, sm: 2, md: 3, lg: 8, all: 0 },\n  slide: 1,\n  speed: 400,\n  interval: 4000,\n  point: {\n    visible: false\n  },\n  custom: 'banner'\n};\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CarouselConfig } from './carousel-config';\nimport { NguCarouselStore } from '@ngu/carousel/src/ngu-carousel/ngu-carousel.interface';\n\n@Component({\n  selector: 'dec-gallery',\n  template: `<div class=\"dec-gallery-wrapper\">\n\n  <div class=\"image-highlighted\">\n    <dec-image-zoom [permitUpload]=\"permitUpload\" (uploaded)=\"uploadedFunction($event)\" [image]=\"imageHighlight\"></dec-image-zoom>\n  </div>\n\n  <ngu-carousel class=\"carousel-wrapper\" [inputs]=\"carouselConfig\" (initData)=\"onInitDataFn($event)\" (onMove)=\"onMoveFn($event)\">\n\n    <ngu-item NguCarouselItem *ngFor=\"let image of images; let i = index;\" [class.active]=\"image == imageHighlight\">\n      <img [decImage]=\"image\" [decImageSize]=\"{width:300, height:300}\" (click)=\"onSelectImage($event,image, i)\">\n      <span *ngIf=\"image.order\">{{ 'label.shot-order' | translate }}: {{ image.order }}</span>\n      <span *ngIf=\"resolutions.length > 0\">{{ 'label.size' | translate }}: {{ resolutions[i]}}</span>\n    </ngu-item>\n\n    <mat-icon NguCarouselPrev class=\"left-previous\" [ngClass]=\"{'disabled': isFirst}\">chevron_left</mat-icon>\n\n    <mat-icon NguCarouselNext class=\"right-next\" [ngClass]=\"{'disabled': isLast}\">chevron_right</mat-icon>\n\n  </ngu-carousel>\n\n</div>\n`,\n  styles: [`.dec-gallery-wrapper{max-width:624px;overflow:hidden}.dec-gallery-wrapper .image-highlighted{border:2px solid #f5f5f5;width:620px;height:620px}.dec-gallery-wrapper a{font-size:10px;text-decoration:none;color:#929292;cursor:pointer}.dec-gallery-wrapper .carousel-wrapper{margin-top:8px;padding:0 24px}.dec-gallery-wrapper .carousel-wrapper ngu-item{display:flex;align-items:center;flex-flow:column}.dec-gallery-wrapper .carousel-wrapper ngu-item.active img,.dec-gallery-wrapper .carousel-wrapper ngu-item:hover img{border:2px solid #232e38}.dec-gallery-wrapper .carousel-wrapper ngu-item img{max-width:124px;border:2px solid transparent;cursor:pointer}.dec-gallery-wrapper .carousel-wrapper .left-previous,.dec-gallery-wrapper .carousel-wrapper .right-next{display:block!important;position:absolute;top:calc(50% - 24px);cursor:pointer;text-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dec-gallery-wrapper .carousel-wrapper .left-previous:hover,.dec-gallery-wrapper .carousel-wrapper .right-next:hover{text-shadow:0 0 6px rgba(0,0,0,.2)}.dec-gallery-wrapper .carousel-wrapper .left-previous.disabled,.dec-gallery-wrapper .carousel-wrapper .right-next.disabled{opacity:.4}.dec-gallery-wrapper .carousel-wrapper .left-previous.disabled:hover,.dec-gallery-wrapper .carousel-wrapper .right-next.disabled:hover{text-shadow:none}.dec-gallery-wrapper .carousel-wrapper .left-previous{left:0}.dec-gallery-wrapper .carousel-wrapper .right-next{right:0}`]\n})\nexport class DecGalleryComponent {\n\n  imageHighlight: any;\n\n  activeImage: Element;\n\n  imgExternalLink: string;\n\n  isFirst: boolean;\n\n  isLast: boolean;\n\n  carouselConfig = CarouselConfig;\n\n  index = 0;\n\n  @Input()\n  set images(value: any[]) {\n\n    value = value || new Array<any>();\n\n    if (value && (JSON.stringify(value) !== JSON.stringify(this._images))) {\n\n      this.imageHighlight = value[0];\n\n      this._images = value;\n\n      this.setExternalLink();\n\n    }\n\n  }\n\n  get images(): any[] {\n\n    return this._images;\n\n  }\n\n  // ***UPLOAD*** //\n  @Input() permitUpload = false;\n\n  @Input() resolutions: string[] = [];\n\n  @Output() uploaded = new EventEmitter();\n\n  // ***FIM UPLOAD*** //\n  private _images: any[] = [];\n\n  constructor() { }\n\n  onSelectImage = ($event, sysFile, i) => {\n\n    if (this.activeImage && this.activeImage !== $event.target) {\n\n      this.activeImage.className = '';\n\n    }\n\n    $event.target.className = 'active';\n\n    this.activeImage = $event.target;\n\n    this.imageHighlight = sysFile;\n\n    this.index = i;\n\n    this.setExternalLink();\n\n  }\n\n  setExternalLink = () => {\n\n    if (this.imageHighlight) {\n\n      this.imgExternalLink = this.imageHighlight.fileUrl;\n\n    }\n\n  }\n\n  onInitDataFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.items >= this.images.length);\n\n  }\n\n  onMoveFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.isLast);\n\n  }\n\n  setPrevNextCheckers(first: boolean, last: boolean) {\n\n    setTimeout(() => {\n\n      this.isFirst = first;\n\n      this.isLast = last;\n\n    }, 0);\n\n  }\n\n  uploadedFunction(event) {\n    this.images[this.index] = event;\n    this.uploaded.emit({\n      sysFile: event,\n      index: this.index\n    });\n  }\n}\n","export const ThumborServerHost = 'https://cache-thumbs.decoracontent.com/unsafe';\n\nexport const S3Host = 'http://s3.amazonaws.com/decora-platform-1-nv';\n\nexport const TransparentImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAAmJLR0QA/4ePzL8AAA\nAJcEhZcwAACxMAAAsTAQCanBgAAAALSURBVAjXY2BgAAAAAwABINWUxwAAAABJRU5ErkJggg==`;\n\nexport const ErrorImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAsVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAk2wLSAAAAOnRSTlMAA4UUBQgMEPSKK+jaGxcf950yck86Ni+mgb9XJiOyRPDs3qKWZ0rKrXx3+85jQT24XePX08VtapGaEC5RNwAAB15JREFUeNrtm2dz2zAMhklr2bIl75F41XG84pll1/z/P6yXVjYEkiK\npkd71rs+nniMdIeIFCEAq+c9//pMV2wv83mG5nB56fuDa5C9Cg+nmVGaYH6eXaUDJ9xMOJyyZyTAk30lwrjIds82YfA/uBVbX2HDxSOGM5ywNk36xeuh9sLS8H4szYbRiSZTLLJFaqyDdS2T/9jxshVHwU9uxxsf9XGLK\nY1hA0L8wjo/FyJar1G8LMn2w82rviSF2HZeo8Do7hqj2cz3+A852Z8skWWywM0rZxegi8a0OpttpL9+QGC2SDb8c3/tWqgfp1hiwPZAsLOIPkT6ol3Hz2xncUGLAJYuW7biAnklarrFozurDIOaHNU0n/zXcus8RRaXYY\n6SyAJLfbJzvEGlksqB5v+vk5E3k4IYJMQXU08x/ojngzWvq+HsgRfAM0UhMaEH0kWKosBsmGcm9J5AXUhTg04Bouef/CgEK80LNMTa2SYpkYpoS+/fDhxbbR93LhJb6uuqt1nOLLuobt8xmGznAJ0rq+5/NiPkXzebPfV\n1zQN8LFNXpYRaA1ieT8Wlp1KWPhMdb2lZX6VsmZztWuvfjZqg+BVUcnTfllB2l37Q6rEH52aGamJbzbOSEmlom0UX9pJ1kKpQSp7cY6xIp7wxxCuQKYAo00TNVboEvbqgsGRyZiikBFE7uK7Iloi1u6YGpWGoKpNvuysR\n90x/WdadIA8DNVnIZ0g3Xyib7kMMFoIIzEahGG2ATMl7hJnusNcC44qBREqmKWQJVTV3cZzdjatwzFRcrThB4fD5pRxcKJ8dtDBBGlg4bCWp0HlgafpyxjkMot6Qe2EHC2SSpMVynM6Eui8QZwVjR1XHRe3gw9tSDlLFj\nKdiiQc1eHged6GdXNZ16hGcBkRhQk/mAi+9B9JS8aA+cGr37X14bzBSc+5+ibpUgtmLnIFfjxsmgxqZE7ls8W1KcJfYLVuMrvd81YGZUZXWvJ8vRDlo5QY1voEbLc8PRsjJjGlCzGP3Wk+ThGY7MA6SpT1z98WlkPDA3g\nESnzQJpUNaMMLYawx7hgeHcI5hgpTcALzYgMd5kw5DfV3mgxjJWo80nWVMD9pEn41KXuYVELTrIHufGxpDyJ10i0pKGiroIJAawBsjevWJxH7AJSzMD6mLSs6R5EBY6gqsfWZyVz59ocqQxH4o22dgAYAcLtbAaB0iNOx\nMDbPFE9uE6bACwBns7nBodfcmMk6uY9Vo6A7AabRA8JxLy08AAIjZIXY0BohphkCeIxNiAnmBAQ2kAXmjMqXGMRGJkQNd8B4BdCAvVdCIx34EepIYY2rp7iXuIigsiMRFhS4wCW2/AGAXUOVEkz/ow9MU84OgNgFIOFtK\nrkcjO47qYCS29AR7hCE5YJKP7Tnef1JnQk9ikNyCI7viADexzarTuJnR+qM4CRxkYogG4sS6zSYgXAkoOLxLpIERfD8gYRn/coFGSg9W4XdhYJLI2uCYpUuZ6A5rIkQt6NwEn4dmSgho5A+aS8usSdVF6AxoUboFpluQl\n98coJhISpwzbra6KNVOga7STsY4NT5kmKKgExbdkrWFfb8BJGGmcQqjKZjg3OopppCXrjF70BjDYWm/ztd6s7cI9dIHVuKeE5wV8KarwzcCA9/idjmcTjMepcZowCBjIu2NLbwArETUBp8aWNA925POBV5UBkAs0+B9YN\nnUCDKEklW1MTWMAmCkyhIV4Nf4ENUa2VRUzIr0BrCJqi1a+ZqvQSO3xUH9B8Va/JE3JNkYGsKcWv+vRiQQzKaeCR0VT1MAFSXPChgMGKPnswi7Q/iMstARhrXH4+ITQMoQbx0JQp3b4NBj2AyvwO/MtS5j09zk1hr1kFb\nnCRIll5jG4782yio8SaAIF1nxRwHLw7MI0a8sEBor3BeCeBstDG4qFkrK0Bd65kfuK5aI8tLEagRWRcuTebV5YHnCsjna4rpNC3/F7c4sBudVIjlW0AVL6nIvaLD9XaJcqcKDr3pzW6J8tubLcwFdU9kr/MUsIJy60mfm\nAOf8GehuDF8zTe5JdPJQiKl9E/zb87WHRp/xr0bbR9wONkBSLVb6FBlWXEuhjj+Jw3kHgakroy6uioBPjT3Po3dR5ges/3w9xA2c17nVUYeuXWJpPU46KrwHyfhrrExPO6NTMDf1pWE4DcMcpfyzYcBJuiCkDeD2TNx94\nO/Bolqhh2ynJQ/8H8mcWC9jVKeTD9EHKWwdwa3VEshHsYo9B0lLBnZUG3fvGDUnPK3o/RNKynKF2NgutBgOqy1RnQ++dAeWsPrRQXzMb2qYCmtZQE+dmTyIPXFM8ogZmt8u4JCN5GD1xlfairl59+MEQtXreTN4WirxKV1\n7Vua1NlXFcKMmNN2Eip/bSDx2bfmE73vhwXkvq17VX2P8zysLniBSG/5l+eZ8UynjA0tCsk8JxX59Mm9JXh3wP4UVvw9s5IN+JN72Wk9uweccifwG3v2/W+Aef71se+ZtQx6r7ve7x2PPrlkP+8+/yCzGi7aFzpPUtAAAAAElFTkSuQmCC`;\n","import { Directive, Input, ViewContainerRef, AfterViewInit, OnInit } from '@angular/core';\nimport { DecImageSize, SystemFileKey } from './image.directive.models';\nimport { TransparentImage, ThumborServerHost, ErrorImage, S3Host } from './image.directive.constants';\n\n@Directive({\n  selector: '[decImage]'\n})\nexport class DecImageDirective implements OnInit, AfterViewInit {\n\n  containerElement: HTMLElement;\n\n  errorOnLoad = false;\n\n  @Input()\n  set decImage(v: SystemFileKey | string) {\n    if (v !== this.innerImage) {\n      this.innerImage = v;\n\n      if (this.viewInitialized) {\n        this.loadImage();\n      }\n    }\n  }\n\n  @Input() decImageSize: DecImageSize;\n\n  // Defines if white margins should be cropped\n  @Input() trim: boolean;\n\n  // Defines if the image should be cropped or fit the size respectin the aspect ratio\n  @Input() fitIn: boolean;\n\n  // Ged redimensioned image from thumbor image resize service\n  @Input() thumborize = true;\n\n  private containerElementType: 'IMG' | 'NOT-IMG';\n\n  private innerImage: SystemFileKey | string = TransparentImage;\n\n  private imagePath: string;\n\n  private finalImageUrl: string;\n\n  private viewInitialized: boolean;\n\n  private imageData;\n\n  constructor(private viewContainerRef: ViewContainerRef) { }\n\n  ngOnInit() {\n    this.detectContainerElement();\n    this.setElementWidth();\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.viewInitialized = true;\n      this.loadImage();\n    });\n  }\n\n  private detectContainerElement() {\n    this.containerElement = this.viewContainerRef.element.nativeElement;\n    this.containerElementType = this.containerElement.tagName === 'IMG' ? 'IMG' : 'NOT-IMG';\n  }\n\n  private loadImage() {\n\n    if (typeof this.innerImage === 'string') {\n\n      this.finalImageUrl = this.innerImage;\n\n    } else {\n\n      this.imagePath = this.extractImageUrlFromSysfile();\n\n      if (this.imagePath) {\n\n        this.finalImageUrl = this.getFinalUrl();\n\n      } else {\n\n        this.finalImageUrl = ErrorImage;\n\n      }\n\n    }\n\n    this.tryToLoadImage();\n\n  }\n\n  private extractImageUrlFromSysfile() {\n    try {\n      return this.innerImage['fileBasePath'] || undefined;\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  private getFinalUrl() {\n\n    if (this.thumborize) {\n\n      return this.getThumborUrl();\n\n    } else {\n\n      return this.getS3Url();\n\n    }\n\n  }\n\n  private getS3Url() {\n    return `${S3Host}/${this.imagePath}`;\n  }\n\n  private getThumborUrl() {\n    const size = this.getImageSize(this.decImageSize);\n    const aspect = this.getAspect();\n    const trim = this.getTrim();\n    return `${ThumborServerHost}/${size}${aspect}${trim}/${this.imagePath}`;\n  }\n\n  private getImageSize(decImageSize: DecImageSize = {}): string {\n\n    const containerWidth = this.containerElement.offsetWidth;\n\n    if (decImageSize.width && decImageSize.height) {\n      return `${decImageSize.width || 0}x${decImageSize.height || 0}`;\n    }\n\n    switch (true) {\n      case containerWidth < 300:\n        return `300x300`;\n      case containerWidth < 600:\n        return `600x600`;\n      case containerWidth < 900:\n        return `900x900`;\n      case containerWidth < 1200:\n        return `1200x1200`;\n      case containerWidth < 1500:\n        return `1500x1500`;\n      case containerWidth < 1800:\n        return `1800x1800`;\n      default:\n        return `2000x2000`;\n    }\n  }\n\n  private getAspect() {\n    return this.fitIn ? '/fit-in' : '';\n  }\n\n  private getTrim() {\n    return this.trim ? '/trim' : '';\n  }\n\n  private tryToLoadImage() {\n    const downloadingImage = new Image();\n    downloadingImage.setAttribute('crossOrigin', 'Anonymous');\n    downloadingImage.onload = () => {\n      this.imageData = this.convertImageToDataURI(downloadingImage);\n      this.createImage();\n    };\n\n    downloadingImage.onerror = () => {\n      this.finalImageUrl = ErrorImage;\n      this.createImage();\n    };\n\n    downloadingImage.src = this.finalImageUrl;\n  }\n\n  private createImage() {\n    if (this.containerElementType === 'IMG') {\n      this.setImageelementSrc();\n    } else {\n      this.appendImageToBg();\n    }\n  }\n\n  private appendImageToBg() {\n    this.containerElement.style.backgroundImage = 'url(' + this.imageData + ')';\n    this.containerElement.classList.remove('dec-image-bg-loading');\n  }\n\n  private setImageelementSrc() {\n    this.containerElement.setAttribute('src', this.imageData);\n  }\n\n  private setElementWidth() {\n    if (this.containerElementType === 'IMG') {\n      this.containerElement.setAttribute('width', '100%');\n      this.containerElement.setAttribute('max-width', '100%');\n    } else {\n      this.containerElement.style.backgroundSize = '100%';\n      this.containerElement.style.backgroundPosition = 'center';\n      this.containerElement.style.backgroundRepeat = 'no-repeat';\n    }\n  }\n\n  private convertImageToDataURI(img) {\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(img, 0, 0);\n\n    return canvas.toDataURL('image/png');\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { DecImageDirective } from './image.directive';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [DecImageDirective],\n  exports: [DecImageDirective]\n})\nexport class DecImageModule { }\n","import { Component, Input, ViewChild, ElementRef, AfterViewInit, Output, EventEmitter } from '@angular/core';\n\nconst S3Host = 'http://s3.amazonaws.com/decora-platform-1-nv';\n\nexport type ZoomMode = 'hover' | 'click' | 'toggle' | 'hover-freeze';\n\n@Component({\n  selector: 'dec-image-zoom',\n  template: `<div class=\"imagehighlight-container\" fxLayout=\"column\" fxLayoutAlign=\"space-between start\" fxLayoutGap=\"gappx\">\n  <div #imageContainer class=\"imagehighlight-container\">\n  </div>\n  <div class=\"container-img-link\">\n    <div *ngIf=\"permitUpload\" class=\"upload-button\">\n      <dec-upload [endpoint]=\"'/files/upload'\" (uploaded)=\"uploadedFunction($event)\">\n        <mat-icon class=\"upload-icon-size\">\n            add_a_photo\n        </mat-icon>\n      </dec-upload>\n    </div>\n\n    <span [ngClass]=\"{'zoom-in-active': finalZoom, 'zoom-in': !finalZoom}\" (click)=\"zoomIn()\">\n      <mat-icon class=\"icons-zoom\">add_circle_outline</mat-icon>\n    </span>\n    <span [ngClass]=\"{'zoom-out-active': !isZoom, 'zoom-out': isZoom}\" (click)=\"zoomOut()\">\n      <mat-icon class=\"icons-zoom\">remove_circle_outline</mat-icon>\n    </span>\n    <span *ngIf=\"imgExternalLink\" class=\"img-link\">\n      <a href=\"{{ imgExternalLink }}\" target=\"_blank\">{{ 'label.image-link' | translate }}</a>\n    </span>\n  </div>\n</div>\n`,\n  styles: [`.imagehighlight-container{width:100%;height:100%}.container-img-link{position:relative;width:100%;height:20px}.zoom-in{cursor:pointer;color:red;position:absolute;right:0}.zoom-out{cursor:pointer;color:red;position:absolute;right:20px}.zoom-in-active{color:gray;position:absolute;right:0}.zoom-out-active{color:gray;position:absolute;right:20px}.icons-zoom{font-size:18px}.img-link{position:absolute;right:50px;color:gray}.img-link a{font-size:10px;padding-top:2px}.upload-button{width:250px;display:inline-block}.upload-icon-size{font-size:20px;cursor:pointer}`]\n})\nexport class DecImageZoomComponent implements AfterViewInit {\n\n  @Input()\n  set image(v) {\n    if (v) {\n      this._image = v;\n      this.loadHighLightImage();\n    }\n  }\n\n  get image() {\n    return this._image;\n  }\n\n  @Input()\n  set size(v) {\n    if (v) {\n      this._size = v;\n    }\n  }\n\n  get size() {\n    return this._size;\n  }\n\n  @Input() permitUpload = false;\n\n  @ViewChild('imageContainer') divImage: ElementRef;\n\n  @Output() uploaded = new EventEmitter();\n\n  private _image: any;\n  private _size: any;\n\n  imgExternalLink: string;\n\n  isZoom = false;\n  imageSizeRaw: any;\n  steps = 1;\n  stepsDiff: any;\n  finalZoom = false;\n  imageSize = 1024;\n\n  deltaX: number;\n  deltaY: number;\n  lastMouseX: number;\n  lastMouseY: number;\n  offsetX = 0;\n  offsetY = 0;\n\n  constructor() { }\n\n  ngAfterViewInit(): void {\n    this.initZoom();\n  }\n\n  initZoom = () => {\n    const el = this.getNativeElement(this.divImage);\n    this.lastMouseX = 0;\n    this.lastMouseY = 0;\n    let mousedown = false;\n    let mousemove = false;\n\n    el.onmousedown = (e) => {\n      if (this.isZoom) {\n        const coords = getPos(e),\n          x = coords[0],\n          y = coords[1];\n\n        this.deltaX = x - this.offsetX;\n        this.deltaY = y - this.offsetY;\n        mousedown = true;\n        return;\n      }\n\n      this.lastMouseX = e.offsetX;\n      this.lastMouseY = e.offsetY;\n      mousedown = true;\n    };\n\n    el.onmousemove = (e) => {\n      if (this.isZoom && mousedown) {\n        const coords = getPos(e),\n          x = coords[0],\n          y = coords[1];\n\n        if (((x - this.deltaX) * (-1)) + el.offsetWidth < this.imageSize) {\n          this.offsetX = x - this.deltaX;\n        }\n\n        if (((y - this.deltaY) * (-1)) + el.offsetWidth < this.imageSize) {\n          this.offsetY = y - this.deltaY;\n        }\n\n        if (this.offsetY > 0) {\n          this.offsetY = 0;\n        }\n        if (this.offsetX > 0) {\n          this.offsetX = 0;\n        }\n\n        el.style.backgroundPosition = this.offsetX + 'px ' + this.offsetY + 'px';\n\n        return;\n      }\n    };\n\n    el.onmouseup = () => {\n      if (this.isZoom) {\n        mousedown = false;\n        mousemove = false;\n        return;\n      }\n    };\n\n    function getPos(e) {\n      const r = el.getBoundingClientRect(),\n        x = e.clientX - r.left,\n        y = e.clientY - r.top;\n      return [x, y];\n    }\n  }\n\n  zoomIn() {\n    if (this.steps === 1) {\n      this.getStepsDiff();\n    }\n    if (this.steps > 4) {\n      this.finalZoom = true;\n      return;\n    }\n    const el = this.divImage.nativeElement;\n    this.imageSize += this.stepsDiff;\n    el.style.backgroundSize = this.imageSize + 'px';\n    this.offsetX = (el.offsetWidth - this.imageSize) / 2;\n    this.offsetY = (el.offsetHeight - this.imageSize) / 2;\n    el.style.backgroundPosition = this.offsetX + 'px ' + this.offsetY + 'px';\n    this.isZoom = true;\n    this.steps++;\n  }\n\n  zoomOut() {\n    const el = this.divImage.nativeElement;\n    if (this.steps === 2) {\n      this.imageSize = 1024;\n      el.style.backgroundSize = '100%';\n      el.style.backgroundPosition = '0px 0px';\n      this.offsetX = 0;\n      this.offsetY = 0;\n      this.isZoom = false;\n      this.steps = 1;\n    } else if (this.steps > 1) {\n      this.imageSize -= this.stepsDiff;\n      el.style.backgroundSize = this.imageSize + 'px';\n      this.offsetX = (el.offsetWidth - this.imageSize) / 2;\n      this.offsetY = (el.offsetHeight - this.imageSize) / 2;\n      el.style.backgroundPosition = this.offsetX + 'px ' + this.offsetY + 'px';\n      this.steps--;\n      this.finalZoom = false;\n    }\n  }\n\n  getStepsDiff() {\n    this.stepsDiff = (this.imageSizeRaw.width / 4);\n  }\n\n  getNativeElement(divImage) {\n    if (divImage) {\n      return divImage.nativeElement;\n    }\n    setTimeout(() => {\n      this.getNativeElement(divImage);\n    }, 400);\n  }\n\n  loadHighLightImage() {\n    this.divImage.nativeElement.style.backgroundSize = '100%';\n    this.divImage.nativeElement.style.backgroundPosition = '0px 0px';\n    this.divImage.nativeElement.style.backgroundImage = '';\n    this.isZoom = false;\n    this.divImage.nativeElement.parentElement.classList.add('dec-sysfile-bg-load');\n    const downloadImage = new Image();\n    downloadImage.crossOrigin = 'Anonymous';\n\n    downloadImage.onload = () => {\n      this.divImage.nativeElement.style.backgroundImage = 'url(' + this.convertImageToDataURI(downloadImage) + ')';\n      this.divImage.nativeElement.style.backgroundRepeat = 'no-repeat';\n      this.divImage.nativeElement.parentElement.classList.remove('dec-sysfile-bg-load');\n      this.imgExternalLink = this.convertImageToDataURI(downloadImage);\n      this.imageSizeRaw = {\n        width: downloadImage.width,\n        height: downloadImage.height\n      };\n    };\n\n    downloadImage.src = this.getImageUrl();\n  }\n\n  private convertImageToDataURI(img) {\n    const canvas = document.createElement('canvas');\n    canvas.width = img.width;\n    canvas.height = img.height;\n\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(img, 0, 0);\n\n    return canvas.toDataURL('image/png');\n  }\n\n  private getImageUrl() {\n    if (this.image && this.image.fileUrl) {\n      return this.image.fileUrl.replace('http', 'https');\n    } else if (this.image && this.image.fileBasePath) {\n      return `${S3Host}/${this.image.fileBasePath}`;\n    } else {\n      return 'data:image/png;base64,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';\n    }\n  }\n\n\n  // Upload\n  uploadedFunction(event) {\n    this.image = event[0];\n    this.uploaded.emit(this.image);\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Component, EventEmitter, Input, Output, ViewChild, ElementRef, forwardRef } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { HttpEventType, HttpResponse } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { UploadProgress } from './upload.models';\n\nconst UPLOAD_ENDPOINT = '/upload';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\nexport const DEC_UPLOAD_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecUploadComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-upload',\n  template: `<ng-container [ngSwitch]=\"(progresses && progresses.length) ? true : false\">\n  <ng-container *ngSwitchCase=\"false\">\n    <span (click)=\"openFileSelection()\" class=\"click\">\n      <ng-content></ng-content>\n    </span>\n  </ng-container>\n  <ng-container *ngSwitchCase=\"true\">\n    <div *ngFor=\"let uploadProgress of progresses\" class=\"dec-upload-progress-wrapper\">\n      <mat-progress-bar\n        color=\"primary\"\n        [mode]=\"getProgressbarMode(uploadProgress)\"\n        [value]=\"getProgressValueBasedOnMode(uploadProgress)\">\n      </mat-progress-bar>\n      <div class=\"text-center\">\n        <small>\n          {{ uploadProgress.value }}% - {{ uploadProgress.fileName }}\n        </small>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n\n\n<input type=\"file\" #inputFile (change)=\"filesChanged($event)\" [multiple]=\"multiple\" [disabled]=\"disabled\">\n\n`,\n  styles: [`.click{cursor:pointer}input{display:none}.text-center{text-align:center}.dec-upload-progress-wrapper{padding:8px 0}`],\n  providers: [DEC_UPLOAD_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecUploadComponent implements ControlValueAccessor {\n\n  progresses: UploadProgress[] = [];\n\n  @Input() disabled: boolean;\n\n  @Input() endpoint: string;\n\n  @Input() multiple: boolean;\n\n  @Output() error = new EventEmitter();\n\n  @Output() uploaded = new EventEmitter();\n\n  @Output() progress = new EventEmitter();\n\n  @ViewChild('inputFile') inputFile: ElementRef;\n\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any[];\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private service: DecApiService) {}\n\n  /*\n  ** ngModel VALUE\n  */\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n  get value(): any {\n    return this.innerValue;\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(v: any[]) {\n    this.value = v;\n  }\n\n\n  filesChanged(event) {\n    for (let x = 0; x < event.target.files.length; x++) {\n      this.uploadFile(event.target.files[x], x);\n    }\n  }\n\n  openFileSelection() {\n    this.inputFile.nativeElement.click();\n  }\n\n  getProgressbarMode(progress) {\n\n    let mode;\n\n    switch (progress.value) {\n      case 0:\n        mode = 'buffer';\n        break;\n      case 100:\n        mode = 'indeterminate';\n        break;\n      default:\n        mode = 'determinate';\n        break;\n    }\n\n    return mode;\n\n  }\n\n  getProgressValueBasedOnMode(progress) {\n    const mode = this.getProgressbarMode(progress);\n    const value = mode === 'buffer' ? 0 : progress.value;\n    return value;\n  }\n\n  private uploadFile(file, index) {\n    if (file) {\n      const progress: UploadProgress = {\n        fileIndex: index,\n        fileName: file.name,\n        value: 0,\n      };\n      this.progresses.push(progress);\n      this.service.upload(this.endpoint, [file])\n      .pipe(\n        catchError(error => {\n        console.log('catchError', error);\n          progress.error = error.message;\n          this.error.emit('message.error.unexpected');\n          this.detectUploadEnd();\n          return throwError(error.message);\n        })\n      )\n      .subscribe(event => {\n        if (event.type === HttpEventType.UploadProgress) {\n          const percentDone = Math.round((100 * event.loaded) / event.total);\n          progress.value = percentDone === 100 ? percentDone : parseFloat(percentDone.toFixed(2));\n        } else if (event instanceof HttpResponse) {\n          progress.value = 100;\n          progress.file = event.body;\n          this.detectUploadEnd();\n        }\n        this.progress.emit(this.progresses);\n      });\n    }\n  }\n\n  private detectUploadEnd() {\n\n    const stillUploading = this.progresses.filter((progress) => {\n      return progress.value < 100;\n    });\n\n    if (!stillUploading.length) {\n      this.emitUploadedFiles();\n      this.clearInputFile();\n      this.clearProgresses();\n    }\n  }\n\n  private clearInputFile() {\n    this.inputFile.nativeElement.value = '';\n  }\n\n  private clearProgresses() {\n    this.progresses = [];\n  }\n\n  private emitUploadedFiles() {\n    const files = this.progresses.map((uploadProgress: UploadProgress) => {\n      return uploadProgress.file;\n    });\n    this.value = [...files];\n    this.uploaded.emit(this.value);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatProgressBarModule } from '@angular/material';\nimport { DecUploadComponent } from './upload.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatProgressBarModule,\n  ],\n  declarations: [\n    DecUploadComponent\n  ],\n  exports: [\n    DecUploadComponent\n  ]\n})\nexport class DecUploadModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecImageZoomComponent } from './dec-image-zoom.component';\nimport { DecImageModule } from './../../directives/image/image.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule, MatButtonModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecUploadModule } from './../upload/upload.module';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecImageModule,\n    FlexLayoutModule,\n    MatIconModule,\n    TranslateModule,\n    DecUploadModule,\n    MatButtonModule,\n    FormsModule\n  ],\n  declarations: [\n    DecImageZoomComponent\n  ],\n  exports: [\n    DecImageZoomComponent\n  ]\n})\nexport class DecImageZoomModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecGalleryComponent } from './dec-gallery.component';\nimport { DecImageModule } from './../../directives/image/image.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NguCarouselModule } from '@ngu/carousel';\nimport { MatIconModule } from '@angular/material';\nimport 'hammerjs';\nimport { DecImageZoomModule } from './../dec-image-zoom/dec-image-zoom.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecImageModule,\n    TranslateModule,\n    MatIconModule,\n    NguCarouselModule,\n    DecImageZoomModule,\n    FlexLayoutModule\n  ],\n  declarations: [\n    DecGalleryComponent\n  ],\n  exports: [\n    DecGalleryComponent\n  ]\n})\nexport class DecGalleryModule { }\n","import { Component, OnInit, Input, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { DecMarksComponent } from './../dec-marks/dec-marks.component';\n\n@Component({\n  selector: 'dec-zoom-area',\n  template: `<div class=\"main-container\" fxLayout=\"column\" fxLayoutGap=\"16px\">\n  <div fxLayout=\"row\" fxLayoutAlign=\"start start\">\n\n    <div fxFlex=\"50\" class=\"zoom-container\" fxLayout=\"column\" fxLayoutGap=\"16px\">\n      <dec-marks class=\"zoom-container\" #referenceZoom [noComments]=\"true\" [marker]=\"reference\" [qaMode]=\"referenceQaMode\" [parentId]=\"parentId\"\n        (referenceQa)=\"onReferenceQa($event)\" [comentIndex]=\"commentIndex\" [zoomScale]=\"reference?.zoomScale\" [zoomPosition]=\"reference?.position\">\n      </dec-marks>\n      <div class=\"fake-div\">\n\n      </div>\n      <div div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n        <h2 class=\"dec-color-grey\">\n          <dec-icon font=\"mat\">description</dec-icon>{{ 'label.observations' | translate }}\n        </h2>\n      </div>\n      <textarea [(ngModel)]=\"descripition\" class=\"text-area\"></textarea>\n    </div>\n\n\n    <div fxFlex=\"50\" fxLayout=\"column\" fxLayoutGap=\"16px\" class=\"zoom-container\">\n      <dec-marks #renderZoom [noComments]=\"false\" [marker]=\"render\" [parentId]=\"parentId\" [qaMode]=\"true\" (link)=\"onLinkTag($event)\"\n        [zoomScale]=\"render?.zoomScale\" [zoomPosition]=\"render?.position\">\n      </dec-marks>\n\n      <div fxLayout=\"row\" fxLayoutAlign=\"end center\" fxLayoutGap=\"16px\" class=\"fake-div\">\n        <button mat-button (click)=\"onCancel()\"> {{ 'label.cancel' | translate }} </button>\n        <button mat-flat-button color=\"primary\" (click)=\"onSave()\"> {{ 'label.save' | translate }} </button>\n      </div>\n\n      <div class=\"container-comments\" fxLayout=\"column\" fxLayoutGap=\"16px\">\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\">\n          <h2 class=\"dec-color-grey\">\n            <dec-icon font=\"mat\">bookmarks</dec-icon>Tags\n          </h2>\n        </div>\n        <dec-markdowns-comment [parentId]=\"parentId\" [renders]=\"renderMarkdons\"></dec-markdowns-comment>\n      </div>\n    </div>\n  </div>\n</div>`,\n  styles: [`.text-area{width:95%;height:185px;padding:15px}.zoom-container{width:100%}.main-container{position:relative;background-color:#fff}.button-save{position:absolute;z-index:5;right:0;top:45%}.fake-div{width:100%;height:36px}.container-comments{padding-left:20px}`]\n})\nexport class DecZoomAreaComponent implements OnInit {\n\n  @Input()\n  set reference(v) {\n    if (v) {\n      this._reference = v;\n    }\n  }\n\n  get reference() {\n    return this._reference;\n  }\n\n  @Input()\n  set render(v) {\n    if (v) {\n      this._render = v;\n      this.renderMarkdons.push(this._render);\n    }\n  }\n\n  get render() {\n    return this._render;\n  }\n\n  @Output() save = new EventEmitter();\n\n  @Output() cancel = new EventEmitter();\n  \n  private _reference;\n  private _render;\n\n  @Input() parentId: number;\n\n  commentIndex;\n  referenceQaMode = false;\n\n  descripition: any;\n\n  renderMarkdons = [];\n\n  @ViewChild('renderZoom') renderZoom: DecMarksComponent;\n\n  @ViewChild('referenceZoom') referenceZoom: DecMarksComponent;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onSave() {\n    const saveObj = {\n      coordinates: [],\n      id: this.parentId,\n      descripition: this.descripition,\n      renderShot: this.renderZoom.marker,\n      referenceShot: this.referenceZoom.marker\n    }\n    console.log(saveObj);\n    this.save.emit(saveObj);\n  }\n\n  onLinkTag(event) {\n    this.referenceQaMode = true;\n    this.commentIndex = event.id;\n  }\n\n  onReferenceQa($event) {\n    this.referenceQaMode = false;\n  }\n\n  onCancel() {\n    this.cancel.emit();\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-markdowns-comment',\n  template: `<div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" *ngFor=\"let c of renders; let r = index;\">\n  <div *ngIf=\"c?.comments?.length > 0\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\n    <h4 class=\"title-render\">\n      {{  'label.Render' | translate }} {{ parentId ? parentId : (r+1) }}\n    </h4>\n    <div fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"markdown-item\" *ngFor=\"let comments of c?.comments; let i = index\">\n      <span class=\"{{getClass(comments)}}\">\n        {{parentId ? parentId+'.'+(i + 1) : (i+1)}}\n      </span>\n      <span *ngIf=\"comments.comment\" class=\"text-markdown\">\n          {{comments.comment}} - {{comments.description}}\n      </span>\n    </div>\n  </div>\n</div>`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.markdown-item:last-child{margin-bottom:32px}.text-markdown{font-size:13px;line-height:16px;color:#656d74;min-width:540px}.tags-item{background-color:#f44336;text-align:center;color:#fff;font-weight:500;border:2px solid transparent;padding:5px}.type-point{border-radius:50%;height:24px;display:flex;align-items:center;justify-content:center}.type-square{background-color:transparent;border-color:#f44336;color:#f44336;border-top:2px solid;border-left:2px solid;border-bottom:2px dotted;border-right:2px dotted}`]\n})\nexport class DecMarkdownsCommentComponent implements OnInit {\n\n  @Input()\n  set renders(v) {\n    if (v) {\n      this._renders = v;\n    }\n  } \n\n  get renders() {\n    return this._renders;\n  }\n\n  @Input() \n  set parentId(v) {\n    if (v) {\n      this._parentId = v;\n    }\n  }\n\n  get parentId() {\n    return this._parentId;\n  }\n\n  _parentId: any;\n  _renders: any;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  getClass(comment) {\n    let cssClass = 'tags-item';\n\n    if (comment.coordinates.length === 2) {\n      cssClass += ' type-point';\n    } else {\n      cssClass += ' type-square';\n    }\n\n    if (comment.requestByClient) {\n      cssClass += ' client';\n    }\n\n    return cssClass;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecMarkdownsCommentComponent } from './dec-markdowns-comment.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MatIconModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    TranslateModule,\n    MatIconModule\n  ],\n  declarations: [\n    DecMarkdownsCommentComponent\n  ],\n  exports: [\n    DecMarkdownsCommentComponent\n  ]\n})\nexport class DecMarkdownsCommentModule { }\n","import { Comment } from './comment.model';\nimport { SystemFileKey } from './../../../directives/image/image.directive.models';\nimport { ZoomArea } from './zoom-area.model';\nexport class Marker {\n  public file: SystemFileKey;\n  public comments: Comment[];\n  public zoomAreas: ZoomArea[];\n\n  constructor(file?: SystemFileKey, comments?: Comment[], zoomAreas?: ZoomArea[]) {\n    this.file = file || {};\n    this.comments = comments || [];\n    this.zoomAreas = zoomAreas || [];\n  }\n}\n","export class Comment {\n  public coordinates: number[];\n  public comment: string;\n  public version: number;\n  public id: number;\n  public description: string;\n\n  constructor(data: any = {}) {\n    this.coordinates = data.coordinates || [];\n    this.comment = data.comment || undefined;\n    this.version = data.version || undefined;\n    this.id = data.id || undefined;\n    this.description = data.description || '';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Comment } from './../../components/dec-zoom-marks/models/comment.model';\n\n\n@Injectable()\nexport class DecRenderCommentService {\n\n  RENDERFEEDBACKTREE_ENDPOINT = '/legacy/job/renderfeedbacktree';\n  feedbackTree: any[] = [];\n\n  constructor(private decApi: DecApiService) { }\n\n  public getRenderfeedbacktree(version: number): Promise<any> {\n\n    const queryParams = {\n      language: this.formatI18n(this.decApi.user.i18n),\n    };\n\n    if (version) {\n      queryParams['version'] = version.toString();\n    }\n\n    return this.decApi.get(this.RENDERFEEDBACKTREE_ENDPOINT, queryParams).toPromise();\n  }\n\n  public getRenderDescriptionsByCode(comments: Comment[]): Comment[] {\n    const groupedComments = comments.reduce((r, v, i, a, k = v.version) => ((r[k] || (r[k] = [])).push(v), r), {});\n\n    Object.keys(groupedComments).forEach(async key => {\n      const resp = await this.getRenderfeedbacktree(+key);\n      this.feedbackTree = resp['sub'];\n\n      groupedComments[key].forEach(comment => {\n        comment.description = this.getDescription(comment.comment);\n      });\n\n    });\n\n    return comments;\n\n  }\n\n  private getDescription(comment: string): string {\n\n    if (!comment) {\n      return '';\n    }\n\n    let temp = this.feedbackTree;\n    let result = '';\n\n    comment.split('').forEach(char => {\n      if (temp[char].sub) {\n        temp = temp[char].sub;\n      } else {\n        result = temp[char].description;\n      }\n    });\n\n    return result;\n  }\n\n  private formatI18n(i18n: string): string {\n    switch (i18n) {\n      case 'PT_BR':\n        return 'pt-br';\n      default:\n        return 'en';\n    }\n  }\n}\n","import { Component, Inject } from '@angular/core';\nimport { BACKSPACE } from '@angular/cdk/keycodes';\nimport { DecRenderCommentService } from './dec-render-comment.service';\nimport RenderFeedback from './models/render-feedback.model';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport RenderComment from './models/render-comment.model';\n\n@Component({\n  selector: 'dec-render-comment',\n  template: `<div class=\"dec-dialog-title\">{{ 'label.markdowns' | translate }}</div>\n\n<mat-dialog-content class=\"dialog-content\">\n  <div fxLayoutGap=\"16px\">\n    <div fxLayout=\"column\" fxFlex=\"50\">\n\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\">\n        <mat-form-field>\n          <input matInput placeholder=\"{{ 'label.choices' | translate }}\" [(ngModel)]=\"selectedChoicesDisplay\"\n            (keydown)=\"keydownChoice($event)\" (keydown.backspace)=\"backspaceChoice()\" autocomplete=\"off\" onpaste=\"return false;\">\n        </mat-form-field>\n\n        <mat-icon class=\"backspace-icon\" style=\"user-select: none;cursor: pointer;\" (click)=\"backspaceChoice()\">backspace</mat-icon>\n      </div>\n\n      <div class=\"choices-container\">\n        <div fxLayout=\"column\" fxLayoutGap=\"8px\" fxLayoutAlign=\"space-between stretch\">\n          <div *ngFor=\"let choice of listOptionsDisplay\">\n            <div class=\"container-choice\">\n              <span class=\"number-choice\">{{choice.key}}</span>\n              <span class=\"pointer-choice\" (click)=\"selectChoice(choice.key)\"> {{choice.name}} </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div fxLayout=\"column\" fxFlex=\"50\" class=\"container-result\">\n      <div>\n        {{ 'label.Result' | translate }}\n\n        <div *ngFor=\"let choice of stepsChoice\" class=\"label-result\">\n          {{choice.name}}\n        </div>\n      </div>\n\n      <div class=\"container-description\" *ngIf=\"descriptionLastLevel()\">\n        Description\n        <p class=\"label-result\">\n          {{ descriptionLastLevel() }}\n        </p>\n      </div>\n\n    </div>\n  </div>\n</mat-dialog-content>\n\n<mat-dialog-actions style=\"justify-content: flex-end;\">\n  <button mat-button mat-dialog-close>{{ 'label.cancel' | translate | uppercase }}</button>\n  <button mat-raised-button color=\"primary\" [disabled]=\"!descriptionLastLevel()\" (click)=\"confirm()\">\n    {{ 'label.confirm' | translate | uppercase }}\n  </button>\n</mat-dialog-actions>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.dialog-content{width:600px;height:310px}.dec-dialog-title{font-size:24px;margin-bottom:16px}.choices-container{max-height:244px;overflow:auto}.backspace-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;color:#acb0b4}.container-result{height:284px;margin-top:16px}.label-result{color:#acb0b4;margin-top:8px}.container-description{margin-top:auto}.container-choice{display:flex}.number-choice{display:flex;width:20px;height:20px;align-items:center;justify-content:center;background-color:#f66d6c;border-radius:2px;color:#fff}.pointer-choice{padding-left:8px;cursor:pointer;font-family:Roboto;font-weight:400;font-size:13px}`],\n})\nexport class DecRenderCommentComponent {\n\n  listOptions: RenderFeedback[] = [];\n  listOptionsDisplay: RenderFeedback[] = [];\n\n  private _version: number;\n  selectedChoicesDisplay = '';\n  stepsChoice: RenderFeedback[] = [];\n\n  constructor(private decRenderCommentService: DecRenderCommentService,\n    public dialogRef: MatDialogRef<DecRenderCommentComponent>,\n    @Inject(MAT_DIALOG_DATA) public commentEdit: RenderComment) {\n    this.getRenderfeedbacktree();\n  }\n\n  async getRenderfeedbacktree() {\n    try {\n      const version = this.commentEdit ? this.commentEdit.version : null;\n      const resp = await this.decRenderCommentService.getRenderfeedbacktree(version);\n\n      this._version = resp.version;\n      this.listOptions = this.filloptions(resp.sub);\n      this.listOptionsDisplay = [...this.listOptions];\n\n      if (this.commentEdit) {\n        const { comment } = this.commentEdit;\n        for (let i = 0; i < comment.length; i++) {\n          this.selectChoice(comment.charAt(i));\n        }\n      }\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  backspaceChoice(): void {\n    this.selectedChoicesDisplay = this.selectedChoicesDisplay.slice(0, -1);\n\n    if (this.selectedChoicesDisplay) {\n      this.stepsChoice = this.stepsChoice.slice(0, -1);\n      this.listOptionsDisplay = [...this.stepsChoice[this.stepsChoice.length - 1].sub];\n    } else {\n      this.listOptionsDisplay = [...this.listOptions];\n      this.stepsChoice = [];\n    }\n  }\n\n  keydownChoice(event: KeyboardEvent): void {\n    event.preventDefault();\n\n    if (event.keyCode !== BACKSPACE) {\n      this.selectChoice(event.key.toLocaleUpperCase());\n    }\n  }\n\n  selectChoice(key: string): void {\n    if (this.listOptionsDisplay) {\n      const selectedChoice = this.listOptionsDisplay.find(option => option.key === key);\n\n      if (selectedChoice) {\n        this.selectedChoicesDisplay += key;\n        this.listOptionsDisplay = selectedChoice['sub'];\n        this.stepsChoice.push({ ...selectedChoice });\n      }\n    }\n  }\n\n  descriptionLastLevel(): string {\n    return this.stepsChoice.length > 0 && this.stepsChoice[this.stepsChoice.length - 1]['description'];\n  }\n\n  confirm(): void {\n    this.dialogRef.close({ version: this._version, comment: this.selectedChoicesDisplay, description: this.descriptionLastLevel() });\n  }\n\n  private filloptions(options: any): RenderFeedback[] {\n    const renderFeedbackTree: any[] = [];\n\n    Object.keys(options).forEach(key => {\n      if (options[key]['sub']) {\n        options[key]['sub'] = this.filloptions(options[key]['sub']);\n      }\n      options[key]['key'] = key;\n      renderFeedbackTree.push(options[key]);\n    });\n\n    return renderFeedbackTree;\n  }\n}\n","import { Component, Input, ViewChild, ElementRef, HostListener, Renderer2, AfterViewChecked, Output, EventEmitter } from '@angular/core';\nimport { Marker } from './../dec-zoom-marks/models/marker.model';\nimport { Comment } from './../dec-zoom-marks/models/comment.model';\nimport { fromEvent } from 'rxjs';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { DecRenderCommentService } from './../dec-render-comment/dec-render-comment.service';\nimport { MatDialog } from '@angular/material';\nimport { DecRenderCommentComponent } from './../dec-render-comment/dec-render-comment.component';\n\nexport interface ZoomPosition {\n  x: number;\n  y: number;\n}\n\n@Component({\n  selector: 'dec-marks',\n  template: `<div class=\"zoom-container\">\n  <div #marksWrapper class=\"marks-wrapper\"></div>\n  <canvas #canvas></canvas>\n</div>\n`,\n  styles: [`#squareMark{position:absolute;border:2px solid #ff0ade;pointer-events:none}.zoom-container{display:flex;flex-direction:column;position:relative;overflow:hidden}.zoom-container .marks-wrapper{position:absolute}.zoom-container .marks-wrapper .point-tag{position:absolute;font-size:12px;width:24px;height:24px;background-color:#ff0ade;font-weight:500;text-align:center;cursor:pointer;line-height:24px;color:#fff;border-radius:100%;border:1px solid #fff;box-sizing:border-box;text-shadow:0 0 10px #000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1;display:flex;justify-content:center;align-items:center;pointer-events:all}.zoom-container .marks-wrapper .point-tag:hover{border-color:#ff0ade}.zoom-container .marks-wrapper .point-tag .link-button{width:12px;height:12px;background-color:#ff0ade;position:absolute;display:flex;justify-content:center;align-items:center;left:-16px;border:1px solid #fff}.zoom-container .marks-wrapper .point-tag .link-button:hover{border-color:#ff0ade}.zoom-container .marks-wrapper .square-tag{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;border:2px solid #ff0ade}.zoom-container .comment-hover{background-color:#ff0ade;box-sizing:border-box;padding:8px 12px;border-radius:4px;position:absolute;font-size:12px;line-height:18px;text-shadow:none;text-align:left;color:#fff;left:10px;top:10px;z-index:1}`]\n})\nexport class DecMarksComponent implements AfterViewChecked {\n\n  @Input() marker: Marker = new Marker();\n\n  @Input() zoomScale: number;\n\n  @Input() zoomPosition: ZoomPosition;\n\n  @Input() noComments = true;\n\n  @Input() parentId = 1;\n\n  @Input() comentIndex;\n\n  @Input()\n  set qaMode(value: boolean) {\n    if (value !== this._qaMode) {\n      this._qaMode = value;\n      this.setWrapperCursor();\n    }\n  }\n  get qaMode() {\n    return this._qaMode;\n  }\n  private _qaMode: boolean;\n\n  @Output() link = new EventEmitter();\n  @Output() referenceQa = new EventEmitter();\n\n  @ViewChild('canvas') canvas: ElementRef;\n  public canvasEl: HTMLCanvasElement;\n  private ctx: CanvasRenderingContext2D;\n\n  @ViewChild('marksWrapper') marksWrapper: ElementRef;\n  public marksWrapperEl: HTMLDivElement;\n\n  private imageElement: HTMLImageElement = new Image();\n\n  private contentDone: boolean;\n\n  private startX: number;\n  private startY: number;\n  private mouseMoved: boolean;\n\n  @HostListener('window:resize')\n  onResize() {\n    this.setCanvasSize(this.canvasEl.offsetWidth);\n    this.setWrapperSize(this.canvasEl.width);\n    this.setupCanvas();\n  }\n\n  constructor(private renderer: Renderer2, private dialog: MatDialog, private decRenderCommentService: DecRenderCommentService) { }\n\n  ngAfterViewChecked(): void {\n    if (!this.contentDone && this.canvas.nativeElement.parentElement.offsetWidth !== 0) {\n      this.setupCanvas();\n      this.setupMarksWrapper();\n      this.setupMouseEvents();\n      this.contentDone = true;\n    }\n  }\n\n  private setupCanvas(): void {\n    this.canvasEl = this.canvas.nativeElement;\n    this.setCanvasSize(this.canvasEl.offsetWidth);\n    this.ctx = this.canvasEl.getContext('2d');\n    this.imageElement.onload = () => {\n      this.ctx.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n      this.ctx.save();\n      this.ctx.translate(this.zoomPosition.x, this.zoomPosition.y);\n      this.ctx.scale(this.zoomScale, this.zoomScale);\n      this.ctx.drawImage(this.imageElement, -this.zoomPosition.x, -this.zoomPosition.y, this.canvasEl.width, this.canvasEl.height);\n      this.ctx.restore();\n      this.drawMarks();\n    };\n    console.log('marks', this.marker);\n    this.imageElement.src = this.marker.file.fileUrl;\n  }\n\n  private setupMarksWrapper(): void {\n    this.marksWrapperEl = this.marksWrapper.nativeElement;\n    this.setWrapperSize(this.canvasEl.width);\n    this.setWrapperCursor();\n  }\n\n  private addInCommentsArray(comment: Comment): void {\n    this.marker.comments.push(comment);\n  }\n\n  private setupMouseEvents(): void {\n    const mouseup = fromEvent(this.marksWrapperEl, 'mouseup');\n    mouseup.subscribe((event: MouseEvent) => {\n      const target = event.target as HTMLDivElement;\n      if (this.qaMode) {\n        const x = Math.round(((this.startX / this.marksWrapperEl.offsetHeight) * 100) * 100) / 100;\n        const y = Math.round(((this.startY / this.marksWrapperEl.offsetWidth) * 100) * 100) / 100;\n        const x2 = Math.round(((event.offsetX / this.marksWrapperEl.offsetHeight) * 100) * 100) / 100;\n        const y2 = Math.round(((event.offsetY / this.marksWrapperEl.offsetWidth) * 100) * 100) / 100;\n        const index = this.marker.comments.length + 1;\n        if (this.mouseMoved) {\n          this.enablePointEvents(this.marksWrapperEl.querySelectorAll('.point-tag'));\n          this.setMouseMoved(false);\n          if (this.noComments) {\n            const comment = new Comment({\n              coordinates: [x, y, x2, y2],\n              id: this.noComments ? this.formatTagId() : index\n            });\n            this.addInCommentsArray(comment);\n            this.createSquareTag([x, y, x2, y2], comment.id);\n            this.clearSquare();\n            this.referenceQa.emit(false);\n            return;\n          }\n          const dialogRef = this.dialog.open(DecRenderCommentComponent);\n          dialogRef.afterClosed().subscribe(result => {\n            if (result) {\n              const comment = new Comment({\n                coordinates: [x, y, x2, y2],\n                comment: result.comment,\n                description: result.description,\n                id: index\n              });\n              this.addInCommentsArray(comment);\n              this.createSquareTag([x, y, x2, y2], comment.id);\n              this.clearSquare();\n            }\n          });\n        } else {\n          if (!target.classList.contains('point-tag') && !target.classList.contains('link-button')) {\n            if (this.noComments) {\n              const comment = new Comment({\n                coordinates: [x, y],\n                id: this.noComments ? this.formatTagId() : index\n              });\n              this.addInCommentsArray(comment);\n              this.createPointTag([x, y], comment.id);\n              this.referenceQa.emit(false);\n              return;\n            }\n            const dialogRef = this.dialog.open(DecRenderCommentComponent);\n            dialogRef.afterClosed().subscribe(result => {\n              if (result) {\n                const comment = new Comment({\n                  coordinates: [x, y],\n                  comment: result.comment,\n                  description: result.description,\n                  id: index\n                });\n                this.addInCommentsArray(comment);\n                this.createPointTag([x, y], comment.id);\n              }\n            });\n          }\n        }\n      }\n    });\n\n    const mouseleave = fromEvent(this.marksWrapperEl, 'mouseleave');\n    mouseleave.subscribe((event: MouseEvent) => {\n      this.setWrapperCursor();\n      if (this.qaMode) {\n        this.setMouseMoved(false);\n        this.clearSquare();\n      }\n    });\n\n    fromEvent(this.marksWrapperEl, 'mousedown').pipe(\n      switchMap((event: MouseEvent) => {\n        this.startX = event.offsetX;\n        this.startY = event.offsetY;\n        return fromEvent(this.marksWrapperEl, 'mousemove').pipe(\n          takeUntil(mouseup),\n          takeUntil(mouseleave)\n        );\n      })\n    ).subscribe((event: MouseEvent) => {\n      if (this.qaMode) {\n        this.setMouseMoved(true);\n        this.disablePointEvents(this.marksWrapperEl.querySelectorAll('.point-tag'));\n        this.clearSquare();\n        const square = this.renderer.createElement('div');\n        square.id = 'squareMark';\n        this.configureNoComments(square);\n        square.style.top = this.startY > event.offsetY ? `${event.offsetY}px` : `${this.startY}px`;\n        square.style.left = this.startX > event.offsetX ? `${event.offsetX}px` : `${this.startX}px`;\n        square.style.width = `${Math.abs(this.startX - event.offsetX)}px`;\n        square.style.height = `${Math.abs(this.startY - event.offsetY)}px`;\n        this.marksWrapperEl.appendChild(square);\n      }\n    });\n  }\n\n  private formatTagId() {\n    return `${this.parentId}.${this.comentIndex}`;\n  }\n\n  private setCanvasSize(size: number): void {\n    this.canvasEl.width = size;\n    this.canvasEl.height = size;\n  }\n\n  private setWrapperCursor(): void {\n    if (this.marksWrapperEl) {\n      if (this.qaMode) {\n        this.marksWrapperEl.style.cursor = 'crosshair';\n      } else {\n        this.marksWrapperEl.style.cursor = 'default';\n      }\n    }\n  }\n\n  private setWrapperSize(size: number): void {\n    this.marksWrapperEl.style.width = `${size}px`;\n    this.marksWrapperEl.style.height = `${size}px`;\n  }\n\n  private setMouseMoved(moved: boolean) {\n    this.mouseMoved = moved;\n  }\n\n  private enablePointEvents(elements: NodeListOf<HTMLDivElement>) {\n    Array.from(elements).forEach((element) => {\n      element.style.pointerEvents = 'all';\n    });\n  }\n\n  private disablePointEvents(elements: NodeListOf<HTMLDivElement>) {\n    Array.from(elements).forEach((element) => {\n      element.style.pointerEvents = 'none';\n    });\n  }\n\n  private createPointTag(coordinates: number[], index: number): HTMLDivElement {\n    const [x, y] = coordinates;\n    const tag = this.renderer.createElement('div');\n    tag.innerHTML = this.noComments ? index : `${this.parentId}.${index}`;\n    tag.className = 'point-tag';\n    tag.style.top = `calc(${y}% - 12px)`;\n    tag.style.left = `calc(${x}% - 12px)`;\n    this.marksWrapperEl.appendChild(tag);\n    if (!this.noComments) {\n      const link = this.renderer.createElement('div');\n      link.className = 'link-button';\n      link.innerHTML = '+';\n      tag.appendChild(link);\n      const comment = this.marker.comments.find(c => c.id === index);\n      tag.addEventListener('click', (event: MouseEvent) => {\n        const target = event.target as HTMLDivElement;\n        if (target.classList.contains('link-button')) {\n          this.linkTag(comment);\n        } else {\n          this.clickEventPointTag(comment);\n        }\n      });\n      tag.addEventListener('mouseover', () => this.addCommentNode(comment));\n      tag.addEventListener('mouseout', this.removeCommentNode);\n    }\n    return tag;\n  }\n\n  linkTag(comment) {\n    this.link.emit(comment);\n  }\n\n  private clickEventPointTag(comment: Comment) {\n    const dialogRef = this.dialog.open(DecRenderCommentComponent, { data: { comment: comment.comment, version: comment.version } });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        comment.comment = result.comment;\n        comment.description = result.description;\n      }\n    });\n  }\n\n  private createSquareTag(coordinates: number[], index: number): void {\n    const [x, y, x2, y2] = coordinates;\n    const square = this.renderer.createElement('div');\n    square.className = 'square-tag';\n    this.configureNoComments(square);\n    square.style.width = `${Math.abs(x - x2)}%`;\n    square.style.height = `${Math.abs(y - y2)}%`;\n    square.style.top = `${y2 > y ? y : y2}%`;\n    square.style.left = `${x2 > x ? x : x2}%`;\n    const point = this.createPointTag([0, 0], index);\n    square.appendChild(point);\n    this.marksWrapperEl.appendChild(square);\n  }\n\n  private clearSquare(): void {\n    if (document.getElementById('squareMark')) {\n      document.getElementById('squareMark').remove();\n    }\n  }\n\n  private addCommentNode = (comment: Comment): void => {\n    const span = this.renderer.createElement('span');\n    span.innerHTML = `${comment.comment} - ${comment.description}`;\n    const commentDiv = this.renderer.createElement('div');\n    commentDiv.className = 'comment-hover';\n    commentDiv.style.maxWidth = this.canvasEl.width > 340 ? '340px' : 'calc(100% - 20px)';\n    commentDiv.appendChild(span);\n    this.marksWrapperEl.parentElement.appendChild(commentDiv);\n  }\n\n  private removeCommentNode() {\n    const commentNode = document.getElementsByClassName('comment-hover')[0];\n    if (commentNode) {\n      commentNode.parentElement.removeChild(commentNode);\n    }\n  }\n\n  private drawMarks() {\n    this.cleanMarks();\n    this.decRenderCommentService.getRenderDescriptionsByCode(this.marker.comments);\n    if (this.marker.comments && this.marker.comments.length > 0) {\n      this.marker.comments.forEach((comment: Comment) => {\n        if (comment.coordinates.length > 2) {\n          this.createSquareTag(comment.coordinates, comment.id);\n        } else {\n          this.createPointTag(comment.coordinates, comment.id);\n        }\n      });\n    }\n  }\n\n  private cleanMarks(): void {\n    const pointElements = this.marksWrapperEl.getElementsByClassName('point-tag');\n    const squareElements = this.marksWrapperEl.getElementsByClassName('square-tag');\n    const zoomAreaElements = this.marksWrapperEl.getElementsByClassName('zoom-area-tag');\n    while (pointElements[0]) {\n      pointElements[0].parentNode.removeChild(pointElements[0]);\n    }\n    while (squareElements[0]) {\n      squareElements[0].parentNode.removeChild(squareElements[0]);\n    }\n    while (zoomAreaElements[0]) {\n      zoomAreaElements[0].parentNode.removeChild(zoomAreaElements[0]);\n    }\n  }\n\n  private deleteMark(comment) {\n    this.marker.comments.splice(this.marker.comments.indexOf(comment), 1);\n    this.marker.comments.forEach(c => {\n      if (c.id > comment.id) {\n        c.id--;\n      }\n    });\n    this.removeCommentNode();\n    this.drawMarks();\n  }\n\n  private configureNoComments(square: HTMLDivElement): void {\n    if (this.noComments) {\n      square.style.borderStyle = 'dashed';\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecRenderCommentComponent } from './dec-render-comment.component';\nimport { MatDialogModule, MatButtonModule, MatInputModule, MatIconModule } from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecRenderCommentService } from './../dec-render-comment/dec-render-comment.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatDialogModule,\n    MatButtonModule,\n    MatInputModule,\n    FormsModule,\n    MatIconModule,\n    TranslateModule,\n  ],\n  declarations: [DecRenderCommentComponent],\n  entryComponents: [DecRenderCommentComponent],\n  providers: [DecRenderCommentService]\n})\nexport class DecRenderCommentModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { DecMarksComponent } from './dec-marks.component';\nimport { MatDialogModule } from '@angular/material';\nimport { DecRenderCommentModule } from './../dec-render-comment/dec-render-comment.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatDialogModule,\n    DecRenderCommentModule\n  ],\n  declarations: [\n    DecMarksComponent\n  ],\n  exports: [\n    DecMarksComponent\n  ]\n})\nexport class DecMarksModule { }\n","import { Component, AfterViewInit, Input, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-icon',\n  template: `<span class=\"dec-icon\">\n\n  <ng-container [ngSwitch]=\"font\">\n    <ng-container *ngSwitchCase=\"'mat'\">\n      <i class=\"material-icons dec-icon\" aria-hidden=\"true\">{{icon}}</i>\n    </ng-container>\n    <ng-container *ngSwitchCase=\"'fas'\">\n      <i class=\"fa {{'fa-'+icon}} dec-icon\" aria-hidden=\"true\"></i>\n    </ng-container>\n  </ng-container>\n\n  <span #text [hidden]=\"true\">\n    <ng-content></ng-content>\n  </span>\n\n</span>\n`,\n  styles: [`.material-icons{color:inherit;font-size:inherit;display:inline-block;-webkit-transform:translateY(16%);transform:translateY(16%);-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}`]\n})\nexport class DecIconComponent implements AfterViewInit {\n\n  icon: string;\n\n  @Input() font: 'mat' | 'fas';\n\n  @ViewChild('text') textElement: ElementRef;\n\n  constructor() { }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      try {\n        this.icon = this.textElement.nativeElement.textContent;\n      } catch (error) { }\n    }, 0);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecIconComponent } from './dec-icon.component';\nimport { MatIconModule, MatIconRegistry } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatIconModule,\n  ],\n  declarations: [DecIconComponent],\n  exports: [DecIconComponent]\n})\nexport class DecIconModule {\n  constructor(private matIconRegistry: MatIconRegistry) {\n    this.matIconRegistry.registerFontClassAlias('fas', 'fa');\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecZoomAreaComponent } from './dec-zoom-area.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule, MatButtonModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecMarkdownsCommentModule } from './../dec-markdowns-comment/dec-markdowns-comment.module';\nimport { DecMarksModule } from './../dec-marks/dec-marks.module';\nimport { DecIconModule } from './../dec-icon/dec-icon.module';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatIconModule,\n    TranslateModule,\n    MatButtonModule,\n    DecMarkdownsCommentModule,\n    DecMarksModule,\n    DecIconModule,\n    FormsModule\n  ],\n  declarations: [\n    DecZoomAreaComponent\n  ],\n  exports: [\n    DecZoomAreaComponent\n  ]\n})\nexport class DecZoomAreaModule { }\n","import { Component, AfterViewChecked, Input, ViewChild, ElementRef, HostListener, Renderer2, Output, EventEmitter } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { Marker } from './models/marker.model';\nimport { Comment } from './models/comment.model';\nimport { ZoomPosition } from './models/zoom-position.interface';\nimport { fromEvent, Observable } from 'rxjs';\nimport { switchMap, takeUntil } from 'rxjs/operators';\nimport { ZoomArea } from './models/zoom-area.model';\nimport { DecRenderCommentComponent } from './../dec-render-comment/dec-render-comment.component';\nimport { DecRenderCommentService } from './../dec-render-comment/dec-render-comment.service';\n\n@Component({\n  selector: 'dec-zoom-marks',\n  template: `<div class=\"zoom-container\">\n  <div #loadingContainer class=\"loading-container\">\n    <div class=\"spinner\"></div>\n  </div>\n  <div #marksWrapper class=\"marks-wrapper\"></div>\n  <canvas #canvas></canvas>\n</div>\n\n<div fxLayoutAlign=\"center center\" fxLayoutGap=\"8px\">\n  <button mat-icon-button color=\"primary\" (click)=\"zoomOut()\" [disabled]=\"zoomScale == minZoomLevel\">\n    <mat-icon aria-label=\"Zoom out\">remove</mat-icon>\n  </button>\n  <mat-slider fxFlex color=\"primary\" [min]=\"minZoomLevel\" [max]=\"maxZoomLevel\" [step]=\"stepZoomLevel\" [(ngModel)]=\"zoomScale\"\n    (input)=\"onZoomSlide($event.value)\"></mat-slider>\n  <button mat-icon-button color=\"primary\" (click)=\"zoomIn()\" [disabled]=\"zoomScale == maxZoomLevel\">\n    <mat-icon aria-label=\"Zoom in\">add</mat-icon>\n  </button>\n</div>\n`,\n  styles: [`#squareMark{position:absolute;border:2px solid #ff0ade;pointer-events:none}.zoom-container{display:flex;flex-direction:column;position:relative;overflow:hidden}.zoom-container .loading-container{position:absolute;display:flex;justify-content:center;align-items:center}.zoom-container .loading-container .spinner{width:20%;height:20%;border:16px solid #fff;border-radius:50%;border-top:16px solid #ff0ade;border-bottom:16px solid #ff0ade;-webkit-animation:2s linear infinite spin;animation:2s linear infinite spin}.zoom-container .marks-wrapper{position:absolute;z-index:1}.zoom-container .marks-wrapper .zoom-area-tag{position:absolute;font-size:12px;width:24px;height:24px;background-color:#ff0ade;font-weight:500;text-align:center;cursor:pointer;line-height:24px;color:#fff;border-radius:100%;border:1px solid #fff;box-sizing:border-box;text-shadow:0 0 10px #000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:auto;display:flex;justify-content:center;align-items:center;pointer-events:all}.zoom-container .marks-wrapper .zoom-area-tag:before{content:'';position:absolute;width:34px;height:22px;top:12px;left:12px;background-color:#ff8f00;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABVUlEQVR4Ae3PAwxQXRgA0Pvbto1sW2NDts0x27atIdeQrakpY8i23cnGe5nn8epDeO1h+VgeVdRVRJLwsCQ101nX2aWJd8OD8a7Ozrkda6UJ8XnPUsBZy43S2Wz7rs8UDnEZCZjn5+tzb6jqCDgucYhDakAnb4Rb+MdmMCPEYSqYfH2cXfPr/ymcBalDFF84izN+uD7TnHCdXqB7iCI/WByuuy1QbrAiRFEL9L3WlObmc/l7uUHfgn0hivqg47VaXMfluQ/A6RBFeTDmnq39D7aEKNKBXfcMVBVMCtFsB0XvFshbVoBSIZqGYL8/wh10B/u8F6L52E6wU7ZwEx/oC6gV4pHVOXDeIPn95WOZ1bYRsD7EJ79D7m4nmO7dEI+fTHC7o7p6h+uh4pJJB0vscMwKQ+X13uXZ6RGh4vKeeQ8c6nWoJiFadCjRFUXzntbeDc/GaxcAotf7cicflKkAAAAASUVORK5CYII=);background-size:60%;background-repeat:no-repeat;background-position:center;z-index:-1;border:1px solid #fff}.zoom-container .marks-wrapper .zoom-area-tag:hover{border-color:#ff0ade}.zoom-container .marks-wrapper .zoom-area-tag:hover:before{border-color:#ff8f00}.zoom-container .marks-wrapper .point-tag{position:absolute;font-size:12px;width:24px;height:24px;background-color:#ff0ade;font-weight:500;text-align:center;cursor:pointer;line-height:24px;color:#fff;border-radius:100%;border:1px solid #fff;box-sizing:border-box;text-shadow:0 0 10px #000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1;display:flex;justify-content:center;align-items:center;pointer-events:all}.zoom-container .marks-wrapper .point-tag:hover{border-color:#ff0ade}.zoom-container .marks-wrapper .square-tag{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;border:2px solid #ff0ade}.zoom-container .comment-hover{background-color:#ff0ade;box-sizing:border-box;padding:8px 12px;border-radius:4px;position:absolute;font-size:12px;line-height:18px;text-shadow:none;text-align:left;color:#fff;left:10px;top:10px;z-index:1}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}`]\n})\nexport class DecZoomMarksComponent implements AfterViewChecked {\n\n  @Input() minZoomLevel: any;\n  @Input() maxZoomLevel: any;\n  @Input() stepZoomLevel: any;\n\n  @Input()\n  set marker(value: Marker) {\n    if (value !== this._marker) {\n      this._marker = value;\n      if (this.contentDone) {\n        this.setupCanvas();\n      }\n    }\n  }\n  get marker() {\n    return this._marker;\n  }\n  private _marker: Marker;\n\n  @Input()\n  set qaMode(value: boolean) {\n    if (value !== this._qaMode) {\n      this._qaMode = value;\n      this.setWrapperCursor();\n    }\n  }\n  get qaMode() {\n    return this._qaMode;\n  }\n\n  @Output() openZoomArea = new EventEmitter();\n\n  private _qaMode: boolean;\n\n  private imageElement: HTMLImageElement = new Image();\n\n  private commentsArraySize: number;\n\n  private contentDone: boolean;\n\n  private zoomPosition: ZoomPosition;\n  private startX: number;\n  private startY: number;\n  private mouseMoved: boolean;\n\n  public zoomScale: number;\n\n  @ViewChild('canvas') canvas: ElementRef;\n  public canvasEl: HTMLCanvasElement;\n  private ctx: CanvasRenderingContext2D;\n\n  @ViewChild('marksWrapper') marksWrapper: ElementRef;\n  public marksWrapperEl: HTMLDivElement;\n\n  @ViewChild('loadingContainer') loadingContainer: ElementRef;\n  public loadingContainerEl: HTMLDivElement;\n\n  @HostListener('window:resize')\n  onResize() {\n    this.setCanvasSize(this.canvasEl.offsetWidth);\n    this.setWrapperSize(this.canvasEl.width);\n    this.zoom(this.zoomScale);\n  }\n\n  constructor(private renderer: Renderer2, private dialog: MatDialog, private decRenderCommentService: DecRenderCommentService) {\n    this.zoomPosition = { x: 0, y: 0 };\n    this.zoomScale = 1;\n  }\n\n  ngAfterViewChecked(): void {\n    if (!this.contentDone && this.canvas.nativeElement.parentElement.offsetWidth !== 0) {\n      this.setupCanvas();\n      this.setupMarksWrapper();\n      this.setupMouseEvents();\n      this.contentDone = true;\n    }\n  }\n\n  private setupCanvas(): void {\n    this.canvasEl = this.canvas.nativeElement;\n    this.setCanvasSize(this.canvasEl.offsetWidth);\n    this.cleanMarks();\n    this.setupLoadingContainer();\n    this.ctx = this.canvasEl.getContext('2d');\n    this.imageElement.onload = () => {\n      this.loadingContainerEl.style.display = 'none';\n      this.ctx.drawImage(this.imageElement, 0, 0, this.canvasEl.width, this.canvasEl.width);\n      this.drawMarks();\n      this.setZoomPosition(this.canvasEl.width * 0.5, this.canvasEl.width * 0.5);\n    };\n    this.imageElement.src = this.marker.file.fileUrl;\n  }\n\n  private setupLoadingContainer(): void {\n    this.loadingContainerEl = this.loadingContainer.nativeElement;\n    this.loadingContainerEl.style.width = `${this.canvasEl.offsetWidth}px`;\n    this.loadingContainerEl.style.height = `${this.canvasEl.offsetWidth}px`;\n    this.loadingContainerEl.style.display = 'flex';\n  }\n\n  private setupMarksWrapper(): void {\n    this.marksWrapperEl = this.marksWrapper.nativeElement;\n    this.setWrapperSize(this.canvasEl.width);\n    this.setWrapperCursor();\n  }\n\n  private setupMouseEvents(): void {\n    this.wheelEvent();\n    this.mousedownEvent();\n  }\n\n  private wheelEvent(): void {\n    fromEvent(this.marksWrapperEl, 'wheel').subscribe((event: WheelEvent) => {\n      event.preventDefault();\n      const target = event.target as HTMLDivElement;\n      if (!target.classList.contains('point-tag') && !target.classList.contains('zoom-area-tag')) {\n        this.setZoomPosition(\n          ((100 * event.offsetX) / this.marksWrapperEl.offsetWidth * this.canvasEl.offsetWidth) / 100,\n          ((100 * event.offsetY) / this.marksWrapperEl.offsetHeight * this.canvasEl.offsetHeight) / 100);\n        if (event.deltaY < 0) {\n          this.zoomIn(0.5);\n        }\n        event.deltaY < 0 ? this.zoomIn(0.5) : this.zoomOut(0.5);\n      }\n    });\n  }\n\n  private mouseleaveEvent(): Observable<Event> {\n    return fromEvent(this.marksWrapperEl, 'mouseleave');\n  }\n\n  private mouseupEvent(): Observable<Event> {\n    return fromEvent(this.marksWrapperEl, 'mouseup');\n  }\n\n  private addInCommentsArray(comment: Comment): void {\n    this.marker.comments.push(comment);\n    this.commentsArraySize++;\n  }\n\n  private mousedownEvent(): void {\n    const mouseup = this.mouseupEvent();\n    mouseup.subscribe((event: MouseEvent) => {\n      this.setWrapperCursor();\n      const target = event.target as HTMLDivElement;\n      this.enablePointEvents(this.marksWrapperEl.querySelectorAll('.point-tag'));\n      if (this.qaMode && this.zoomScale === 1) {\n        const x = Math.round(((this.startX / this.marksWrapperEl.offsetHeight) * 100) * 100) / 100;\n        const y = Math.round(((this.startY / this.marksWrapperEl.offsetWidth) * 100) * 100) / 100;\n        const x2 = Math.round(((event.offsetX / this.marksWrapperEl.offsetHeight) * 100) * 100) / 100;\n        const y2 = Math.round(((event.offsetY / this.marksWrapperEl.offsetWidth) * 100) * 100) / 100;\n        if (this.mouseMoved) {\n          this.setMouseMoved(false);\n          const dialogRef = this.dialog.open(DecRenderCommentComponent);\n          dialogRef.afterClosed().subscribe(result => {\n            if (result) {\n              const comment = new Comment({\n                coordinates: [x, y, x2, y2],\n                comment: result.comment,\n                description: result.description,\n                id: this.commentsArraySize + 1\n              });\n              this.addInCommentsArray(comment);\n              this.createSquareTag([x, y, x2, y2], comment.id);\n              this.clearSquare();\n            }\n          });\n        } else {\n          if (!target.classList.contains('point-tag') && !target.classList.contains('zoom-area-tag')) {\n            const dialogRef = this.dialog.open(DecRenderCommentComponent);\n            dialogRef.afterClosed().subscribe(result => {\n              if (result) {\n                const comment = new Comment({\n                  coordinates: [x, y],\n                  comment: result.comment,\n                  description: result.description,\n                  id: this.commentsArraySize + 1\n                });\n                this.addInCommentsArray(comment);\n                this.createPointTag([x, y], comment.id);\n              }\n            });\n          }\n        }\n      }\n    });\n\n    const mouseleave = this.mouseleaveEvent();\n    mouseleave.subscribe((event: MouseEvent) => {\n      this.setWrapperCursor();\n      this.enablePointEvents(this.marksWrapperEl.querySelectorAll('.point-tag'));\n      if (this.qaMode) {\n        this.setMouseMoved(false);\n        this.clearSquare();\n      }\n    });\n\n    fromEvent(this.marksWrapperEl, 'mousedown').pipe(\n      switchMap((event: MouseEvent) => {\n        this.startX = event.offsetX;\n        this.startY = event.offsetY;\n        this.setWrapperCursor(true);\n        return fromEvent(this.marksWrapperEl, 'mousemove').pipe(\n          takeUntil(mouseup),\n          takeUntil(mouseleave)\n        );\n      })\n    ).subscribe((event: MouseEvent) => {\n      if (this.qaMode && this.zoomScale === 1) {\n        this.setMouseMoved(true);\n        this.disablePointEvents(this.marksWrapperEl.querySelectorAll('.point-tag'));\n        this.clearSquare();\n        const square = this.renderer.createElement('div');\n        square.id = 'squareMark';\n        square.style.top = this.startY > event.offsetY ? `${event.offsetY}px` : `${this.startY}px`;\n        square.style.left = this.startX > event.offsetX ? `${event.offsetX}px` : `${this.startX}px`;\n        square.style.width = `${Math.abs(this.startX - event.offsetX)}px`;\n        square.style.height = `${Math.abs(this.startY - event.offsetY)}px`;\n        this.marksWrapperEl.appendChild(square);\n      } else {\n        this.zoomPosition.x -= event.movementX;\n        this.zoomPosition.y -= event.movementY;\n        if (this.zoomPosition.x < 0) {\n          this.zoomPosition.x = 0;\n        }\n        if (this.zoomPosition.y < 0) {\n          this.zoomPosition.y = 0;\n        }\n        if (this.zoomPosition.x > this.canvasEl.width) {\n          this.zoomPosition.x = this.canvasEl.width;\n        }\n        if (this.zoomPosition.y > this.canvasEl.height) {\n          this.zoomPosition.y = this.canvasEl.height;\n        }\n        this.resizeMarker(this.zoomScale);\n        this.ctx.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n        this.ctx.save();\n        this.ctx.translate(this.zoomPosition.x, this.zoomPosition.y);\n        this.ctx.scale(this.zoomScale, this.zoomScale);\n        this.ctx.translate(-this.zoomPosition.x, -this.zoomPosition.y);\n        this.ctx.drawImage(this.imageElement, 0, 0, this.canvasEl.width, this.canvasEl.height);\n        this.ctx.restore();\n      }\n    });\n  }\n\n  private drawMarks() {\n    this.cleanMarks();\n    this.commentsArraySize = 0;\n    this.decRenderCommentService.getRenderDescriptionsByCode(this.marker.comments);\n    if (this.marker.comments && this.marker.comments.length > 0) {\n      this.marker.comments.forEach((comment: Comment) => {\n        if (comment.coordinates.length > 2) {\n          this.createSquareTag(comment.coordinates, comment.id);\n        } else {\n          this.createPointTag(comment.coordinates, comment.id);\n        }\n      });\n      this.commentsArraySize += this.marker.comments.length;\n    }\n    if (this.marker.zoomAreas && this.marker.zoomAreas.length > 0) {\n      this.marker.zoomAreas.forEach((zoomArea: ZoomArea) => {\n        this.createZoomAreaTag(zoomArea.coordinates, zoomArea.id);\n      });\n      this.commentsArraySize += this.marker.zoomAreas.length;\n    }\n  }\n\n  private resizeMarker(zoomScale) {\n    const diffX = this.canvasEl.width * zoomScale - this.canvasEl.width;\n    const diffY = this.canvasEl.height * zoomScale - this.canvasEl.height;\n    this.marksWrapperEl.style.width = `${this.canvasEl.width * zoomScale}px`;\n    this.marksWrapperEl.style.height = `${this.canvasEl.height * zoomScale}px`;\n    this.marksWrapperEl.style.left = this.zoomXPosition(diffX, zoomScale);\n    this.marksWrapperEl.style.top = this.zoomYPosition(diffY, zoomScale);\n  }\n\n  private zoomYPosition(diffY, zoomScale) {\n    if (this.zoomPosition.y !== (this.canvasEl.height / 2)) {\n      if (zoomScale > 1) {\n        const aux = zoomScale.toString().split('.')[0] > 1 ? (zoomScale - 1) : (zoomScale % 1);\n        return -(this.zoomPosition.y * aux) + 'px';\n      } else {\n        return null;\n      }\n    } else {\n      return (diffY / 2) * -1 + 'px';\n    }\n  }\n\n  private zoomXPosition(diffX, zoomScale) {\n    if (this.zoomPosition.x !== (this.canvasEl.width / 2)) {\n      if (zoomScale > 1) {\n        const aux = zoomScale.toString().split('.')[0] > 1 ? (zoomScale - 1) : (zoomScale % 1);\n        return -(this.zoomPosition.x * aux) + 'px';\n      } else {\n        return null;\n      }\n    } else {\n      return (diffX / 2) * -1 + 'px';\n    }\n  }\n\n  private enablePointEvents(elements: NodeListOf<HTMLDivElement>) {\n    Array.from(elements).forEach((element) => {\n      element.style.pointerEvents = 'all';\n    });\n  }\n\n  private disablePointEvents(elements: NodeListOf<HTMLDivElement>) {\n    Array.from(elements).forEach((element) => {\n      element.style.pointerEvents = 'none';\n    });\n  }\n\n  private cleanMarks(): void {\n    if (this.marksWrapperEl) {\n      const pointElements = this.marksWrapperEl.getElementsByClassName('point-tag');\n      const squareElements = this.marksWrapperEl.getElementsByClassName('square-tag');\n      const zoomAreaElements = this.marksWrapperEl.getElementsByClassName('zoom-area-tag');\n      while (pointElements[0]) {\n        pointElements[0].parentNode.removeChild(pointElements[0]);\n      }\n      while (squareElements[0]) {\n        squareElements[0].parentNode.removeChild(squareElements[0]);\n      }\n      while (zoomAreaElements[0]) {\n        zoomAreaElements[0].parentNode.removeChild(zoomAreaElements[0]);\n      }\n    }\n  }\n\n  private createPointTag(coordinates: number[], index: number): HTMLDivElement {\n    const [x, y] = coordinates;\n    const tag = this.renderer.createElement('div');\n    tag.innerHTML = `${index}`;\n    tag.className = 'point-tag';\n    tag.style.top = `calc(${y}% - 12px)`;\n    tag.style.left = `calc(${x}% - 12px)`;\n    this.marksWrapperEl.appendChild(tag);\n    const comment = this.marker.comments.find(c => c.id === index);\n    tag.addEventListener('click', () => this.clickEventPointTag(comment));\n    tag.addEventListener('mouseover', () => this.addCommentNode(comment));\n    tag.addEventListener('mouseout', this.removeCommentNode);\n    return tag;\n  }\n\n  private createZoomAreaTag(coordinates: number[], index: number): HTMLDivElement {\n    const [x, y] = coordinates;\n    const tag = this.renderer.createElement('div');\n    tag.innerHTML = `${index}`;\n    tag.className = 'zoom-area-tag';\n    tag.style.top = `calc(${y}% - 12px)`;\n    tag.style.left = `calc(${x}% - 12px)`;\n    this.marksWrapperEl.appendChild(tag);\n    const zoomArea = this.marker.zoomAreas.find(z => z.id === index);\n    tag.addEventListener('click', () => this.clickEventZoomTag(zoomArea));\n    return tag;\n  }\n\n  private createSquareTag(coordinates: number[], index: number): void {\n    const [x, y, x2, y2] = coordinates;\n    const square = this.renderer.createElement('div');\n    square.className = 'square-tag';\n    square.style.width = `${Math.abs(x - x2)}%`;\n    square.style.height = `${Math.abs(y - y2)}%`;\n    square.style.top = `${y2 > y ? y : y2}%`;\n    square.style.left = `${x2 > x ? x : x2}%`;\n    const point = this.createPointTag([0, 0], index);\n    square.appendChild(point);\n    this.marksWrapperEl.appendChild(square);\n  }\n\n  private clickEventPointTag(comment: Comment) {\n    const dialogRef = this.dialog.open(DecRenderCommentComponent, { data: { comment: comment.comment, version: comment.version } });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        comment.comment = result.comment;\n        comment.description = result.description;\n      }\n    });\n  }\n\n  private clickEventZoomTag(zoomArea: ZoomArea) {\n    this.openZoomArea.emit(zoomArea);\n  }\n\n  private clearSquare(): void {\n    if (document.getElementById('squareMark')) {\n      document.getElementById('squareMark').remove();\n    }\n  }\n\n  private addCommentNode = (comment: Comment): void => {\n    const span = this.renderer.createElement('span');\n\n    span.innerHTML = `${comment.comment} - ${comment.description}`;\n\n    const commentDiv = this.renderer.createElement('div');\n    commentDiv.className = 'comment-hover';\n    commentDiv.style.maxWidth = this.canvasEl.width > 340 ? '340px' : 'calc(100% - 20px)';\n    commentDiv.appendChild(span);\n    this.marksWrapperEl.parentElement.appendChild(commentDiv);\n  }\n\n  private removeCommentNode() {\n    const commentNode = document.getElementsByClassName('comment-hover')[0];\n    if (commentNode) {\n      commentNode.parentElement.removeChild(commentNode);\n    }\n  }\n\n  private setCanvasSize(size: number): void {\n    this.canvasEl.width = size;\n    this.canvasEl.height = size;\n  }\n\n  setMouseMoved(moved: boolean) {\n    this.mouseMoved = moved;\n  }\n\n  private setWrapperSize(size: number): void {\n    this.marksWrapperEl.style.width = `${size}px`;\n    this.marksWrapperEl.style.height = `${size}px`;\n  }\n\n  private setZoomPosition(x: number, y: number): void {\n    this.zoomPosition.x = x;\n    this.zoomPosition.y = y;\n  }\n\n  private setWrapperCursor(mousedown?: boolean): void {\n    if (this.marksWrapperEl) {\n      if (this.qaMode && this.zoomScale === 1) {\n        this.marksWrapperEl.style.cursor = 'crosshair';\n      } else if (mousedown) {\n        this.marksWrapperEl.style.cursor = 'move';\n      } else {\n        this.marksWrapperEl.style.cursor = 'grab';\n      }\n    }\n  }\n\n  public zoom(zoomScale: number = 1) {\n    this.zoomScale = zoomScale;\n    this.resizeMarker(zoomScale);\n    this.setWrapperCursor();\n    this.ctx.clearRect(0, 0, this.canvasEl.width, this.canvasEl.height);\n    this.ctx.save();\n    this.ctx.translate(this.zoomPosition.x, this.zoomPosition.y);\n    this.ctx.scale(zoomScale, zoomScale);\n    this.ctx.drawImage(this.imageElement, -this.zoomPosition.x, -this.zoomPosition.y, this.canvasEl.width, this.canvasEl.height);\n    this.ctx.restore();\n  }\n\n  public zoomIn(amount: number = 1) {\n    if (this.zoomScale < parseInt(this.maxZoomLevel, 10)) {\n      (this.zoomScale + amount) < this.maxZoomLevel ? this.zoomScale += amount : this.zoomScale = +this.maxZoomLevel;\n      this.zoom(this.zoomScale);\n    }\n  }\n\n  public zoomOut(amount: number = 1) {\n    if (this.zoomScale > parseInt(this.minZoomLevel, 10)) {\n      (this.zoomScale - amount) > this.minZoomLevel ? this.zoomScale -= amount : this.zoomScale = +this.minZoomLevel;\n      this.zoom(this.zoomScale);\n    }\n  }\n\n  public onZoomSlide(value: number): void {\n    this.zoom(value);\n  }\n\n  public getFormatedPositionAndScale = () => {\n    const file: any = this.marker.file;\n\n    return {\n      file: file,\n      position: {\n        x: this.zoomPosition.x,\n        y: this.zoomPosition.y\n      },\n      zoomScale: this.zoomScale\n    };\n  }\n\n  public addNewZoomArea = (newZoomArea) => {\n    if (newZoomArea.coordinates.length > 0) {\n      this.editZoomArea(newZoomArea);\n      return;\n    }\n\n    newZoomArea.coordinates.push(Math.round(Math.round(((this.startX / this.marksWrapperEl.offsetWidth) * 100) * 100) / 100));\n    newZoomArea.coordinates.push(Math.round(Math.round(((this.startY / this.marksWrapperEl.offsetHeight) * 100) * 100) / 100));\n    newZoomArea.id = this.commentsArraySize + 1;\n    this.marker.zoomAreas.push(newZoomArea);\n    this.commentsArraySize++;\n    this.drawMarks();\n  }\n\n  editZoomArea(newZoomArea) {\n    const za = this.marker.zoomAreas.find(x => x.id === newZoomArea.id);\n    if (za) {\n      za.renderShot = newZoomArea.renderShot;\n      za.referenceShot = newZoomArea.referenceShot;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\nimport { MatSliderModule, MatButtonModule, MatIconModule } from '@angular/material';\nimport { DecZoomMarksComponent } from './dec-zoom-marks.component';\nimport { DecRenderCommentModule } from '../dec-render-comment/dec-render-comment.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    FormsModule,\n    MatSliderModule,\n    MatButtonModule,\n    MatIconModule,\n    DecRenderCommentModule\n  ],\n  declarations: [\n    DecZoomMarksComponent\n  ],\n  exports: [\n    DecZoomMarksComponent\n  ]\n})\nexport class DecZoomMarksModule { }\n","import { Component, OnInit, Input, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { NguCarouselStore } from '@ngu/carousel';\nimport { CarouselZoomConfig } from './../gallery/carousel-config';\nimport { DecZoomMarksComponent } from './../dec-zoom-marks/dec-zoom-marks.component';\n\n@Component({\n  selector: 'dec-zoom-marks-gallery',\n  template: `<div class=\"gallery-size\" fxLayout=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"space-between start\">\n  <dec-zoom-marks fxFlex class=\"gallery-size\" [marker]=\"markedObj\" [qaMode]=\"qaModeActive\" (openZoomArea)=\"onOpenZoomArea($event)\"\n    minZoomLevel=\"1\" maxZoomLevel=\"8\" stepZoomLevel=\"0.1\"></dec-zoom-marks>\n\n  <div class=\"gallery-size\">\n    <ngu-carousel class=\"carousel-wrapper \" [inputs]=\"carouselConfig\" (initData)=\"onInitDataFn($event)\" (onMove)=\"onMoveFn($event)\">\n\n      <ngu-item NguCarouselItem *ngFor=\"let image of markedObjs; let i = index;\" [class.active]=\"image == markedObj\">\n        <img [decImage]=\"image.file\" [decImageSize]=\"{width:300, height:300}\" (click)=\"onSelectImage($event,image, i)\">\n      </ngu-item>\n\n      <mat-icon NguCarouselPrev class=\"left-previous\" [ngClass]=\"{'disabled': isFirst}\">chevron_left</mat-icon>\n\n      <mat-icon NguCarouselNext class=\"right-next\" [ngClass]=\"{'disabled': isLast}\">chevron_right</mat-icon>\n\n    </ngu-carousel>\n  </div>\n\n  <div *ngIf=\"showTags\" class=\"container-comments\" fxLayout=\"column\" fxLayoutGap=\"16px\">\n    <div>\n      <h3><dec-icon class=\"dec-icon-size dec-color-grey\" font=\"mat\">bookmarks</dec-icon>\n        <span class=\"dec-icon-text-size-zoom-area\"> Tags </span>\n      </h3>\n    </div>\n    <dec-markdowns-comment [renders]=\"markedObjs\"></dec-markdowns-comment>\n\n    <div>\n      <h3><dec-icon class=\"dec-icon-size dec-color-grey\" font=\"mat\">error</dec-icon>\n        <span class=\"dec-icon-text-size-zoom-area\"> Zoom areas </span>\n      </h3>\n    </div>\n    <dec-markdowns-zoom-area [renders]=\"markedObjs\"></dec-markdowns-zoom-area>\n  </div>\n</div>`,\n  styles: [`.image-highlighted{border:2px solid #f5f5f5}a{font-size:10px;text-decoration:none;color:#929292;cursor:pointer}.carousel-wrapper{margin-top:8px;padding:0 24px}.carousel-wrapper ngu-item{display:flex;align-items:center;flex-flow:column}.carousel-wrapper ngu-item.active img,.carousel-wrapper ngu-item:hover img{border:2px solid #232e38}.carousel-wrapper ngu-item img{max-width:62px;border:2px solid transparent;cursor:pointer}.carousel-wrapper .left-previous,.carousel-wrapper .right-next{display:block!important;position:absolute;top:calc(50% - 12px);cursor:pointer;text-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.carousel-wrapper .left-previous:hover,.carousel-wrapper .right-next:hover{text-shadow:0 0 6px rgba(0,0,0,.2)}.carousel-wrapper .left-previous.disabled,.carousel-wrapper .right-next.disabled{opacity:.4}.carousel-wrapper .left-previous.disabled:hover,.carousel-wrapper .right-next.disabled:hover{text-shadow:none}.carousel-wrapper .left-previous{left:0}.carousel-wrapper .right-next{right:0}.dec-icon-size{font-size:28px}.dec-icon-text-size{font-size:18px;position:relative;top:6px;left:-30px}.container-comments{padding-left:20px}.gallery-size{width:100%}.dec-icon-text-size-zoom-area{font-size:18px;position:relative;top:-4px}`]\n})\nexport class DecZoomMarksGalleryComponent {\n\n  carouselConfig = CarouselZoomConfig;\n\n  @Input()\n  set markedObjs(v) {\n    if (this._markedObjs !== v) {\n      this._markedObjs = v;\n      this.markedObj = this.markedObjs[0];\n    }\n  }\n\n  get markedObjs() {\n    return this._markedObjs;\n  }\n\n  @Input()\n  set showTags(v) {\n    if (v) {\n      this._showTags = v;\n    }\n  }\n\n  get showTags() {\n    return this._showTags;\n  }\n\n  imageIndex = 0;\n\n  @Input() qaModeActive: boolean;\n\n  @ViewChild(DecZoomMarksComponent) zoomMarks: DecZoomMarksComponent; \n\n  @Output() openZoomArea = new EventEmitter();\n\n  markedObj: any;\n  _markedObjs: any;\n\n  _showTags: boolean;\n\n  isFirst: boolean;\n\n  isLast: boolean;\n\n  constructor() { }\n\n  onInitDataFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.items >= this.markedObjs.length);\n\n  }\n\n  onMoveFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.isLast);\n\n  }\n\n  onSelectImage = ($event, sysFile, i) => {\n    this.markedObj = this.markedObjs[i];\n    this.imageIndex = i;\n  }\n\n  setPrevNextCheckers(first: boolean, last: boolean) {\n\n    setTimeout(() => {\n\n      this.isFirst = first;\n\n      this.isLast = last;\n\n    }, 0);\n\n  }\n\n  public getFormatedPositionAndScale() {\n    return this.zoomMarks.getFormatedPositionAndScale();\n  }\n\n\n  public addNewZoomArea(addNewZoomArea) {\n    this.zoomMarks.addNewZoomArea(addNewZoomArea);\n  }\n\n  public onOpenZoomArea($event) {\n    this.openZoomArea.emit($event);\n  }\n\n  public getImageIndex() {\n    return this.imageIndex;\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-markdowns-zoom-area',\n  template: `<div *ngFor=\"let render of renders; let r = index\">\n  <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" *ngFor=\"let area of render.zoomAreas;\">\n    <div fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\n      <h4 class=\"title-render\">\n        {{ 'label.Render' | translate }} {{ r + 1 }}\n      </h4>\n      <div fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"markdown-item\" *ngFor=\"let comments of area?.renderShot?.comments; let i = index\">\n        <span class=\"{{getClass(comments)}}\">{{ (r+1)+'.'+(i+1) }}</span>\n        <span *ngIf=\"comments.comment\" class=\"text-markdown\">\n          {{comments.comment}} - {{comments.description}}\n        </span>\n      </div>\n    </div>\n  </div>\n</div>`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.markdown-item:last-child{margin-bottom:32px}.text-markdown{font-size:13px;line-height:16px;color:#656d74;min-width:540px}.tags-item{background-color:#f44336;text-align:center;color:#fff;font-weight:500;border:2px solid transparent;padding:5px}.type-point{border-radius:50%;height:24px;display:flex;align-items:center;justify-content:center}.type-square{background-color:transparent;border-color:#f8cb00;color:#f8cb00;border-top:2px solid;border-left:2px solid;border-bottom:2px dotted;border-right:2px dotted}`]\n})\nexport class DecMarkdownsZoomAreaComponent implements OnInit {\n\n  @Input() zoomAreas;\n\n  @Input()\n  set renders(v) {\n    if (v) {\n      this._renders = v;\n    }\n  }\n\n  get renders() {\n    return this._renders;\n  }\n\n  private _renders;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n\n  getClass(comment) {\n    let cssClass = 'tags-item';\n\n    if (comment.coordinates.length === 2) {\n      cssClass += ' type-point';\n    } else {\n      cssClass += ' type-square';\n    }\n\n    if (comment.requestByClient) {\n      cssClass += ' client';\n    }\n\n    return cssClass;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecMarkdownsZoomAreaComponent } from './dec-markdowns-zoom-area.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MatIconModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    TranslateModule,\n    MatIconModule\n  ],\n  declarations: [\n    DecMarkdownsZoomAreaComponent\n  ],\n  exports: [\n    DecMarkdownsZoomAreaComponent\n  ]\n})\nexport class DecMarkdownsZoomAreaModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecZoomMarksGalleryComponent } from './dec-zoom-marks-gallery.component';\nimport { DecZoomMarksModule } from './../dec-zoom-marks/dec-zoom-marks.module';\nimport { NguCarouselModule } from '@ngu/carousel';\nimport { DecImageModule } from './../../directives/image/image.module';\nimport { MatIconModule } from '@angular/material';\nimport { DecMarkdownsCommentModule } from './../dec-markdowns-comment/dec-markdowns-comment.module';\nimport { DecIconModule } from './../dec-icon/dec-icon.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { DecMarkdownsZoomAreaModule } from './../dec-markdowns-zoom-area/dec-markdowns-zoom-area.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    NguCarouselModule,\n    DecZoomMarksModule,\n    DecImageModule,\n    MatIconModule,\n    DecMarkdownsCommentModule,\n    DecIconModule,\n    FlexLayoutModule,\n    DecMarkdownsZoomAreaModule\n  ],\n  declarations: [DecZoomMarksGalleryComponent],\n  exports: [DecZoomMarksGalleryComponent]\n})\nexport class DecZoomMarksGalleryModule { }\n","import { Component,  ContentChildren, QueryList, ViewChild, TemplateRef, forwardRef, Input } from '@angular/core';\n\n// IMPORTANT //\n// DecGridColumnComponent and DecGridRowComponent are in the same file to avoid circular dependency using forwardRef\n// ...\n\n@Component({\n  selector: 'dec-grid-column',\n  template: `<ng-template #content let-gap=\"gap\">\n\n  <div class=\"dec-grid-column\" fxFlex fxFill>\n\n    <div *ngIf=\"(rows && rows.length) else innerContent\" fxLayout=\"column\" fxLayoutAlign=\"start\" [fxLayoutGap]=\"gap\">\n\n      <div *ngFor=\"let row of rows\">\n\n        <ng-template [ngTemplateOutlet]=\"row.content\" [ngTemplateOutletContext]=\"{gap: gap}\"></ng-template>\n\n      </div>\n\n    </div>\n\n  </div>\n\n\n</ng-template>\n\n<ng-template #innerContent>\n\n  <ng-content></ng-content>\n\n</ng-template>\n`,\n  styles: [``]\n})\nexport class DecGridColumnComponent {\n\n  @Input() span: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 = 1;\n\n  @ContentChildren(forwardRef(() => DecGridRowComponent)) rows: QueryList<DecGridRowComponent>;\n\n  @ViewChild('content') content: TemplateRef<any>;\n\n  constructor() { }\n\n  get columnWidth() {\n    return (100 / 12) * this.span;\n  }\n\n}\n@Component({\n  selector: 'dec-grid-row',\n  template: `<ng-template #content let-gap=\"gap\">\n\n  <div class=\"dec-grid-row\">\n\n    <div *ngIf=\"(columns && columns.length) else innerContent\" fxLayout=\"row\" fxLayoutAlign=\"start\" [fxLayoutGap]=\"gap\">\n\n      <div [fxFlex]=\"column.columnWidth\" *ngFor=\"let column of columns\">\n\n        <ng-template [ngTemplateOutlet]=\"column.content\" [ngTemplateOutletContext]=\"{gap: gap}\"></ng-template>\n\n      </div>\n\n    </div>\n\n  </div>\n\n</ng-template>\n\n<ng-template #innerContent>\n\n  <ng-content></ng-content>\n\n</ng-template>\n`,\n  styles: [``]\n})\nexport class DecGridRowComponent {\n\n  @ContentChildren(DecGridColumnComponent) columns: QueryList<DecGridColumnComponent>;\n\n  @ViewChild('content') content: TemplateRef<any>;\n\n  constructor() { }\n\n}\n","import { Component, Input, ContentChildren, QueryList, forwardRef } from '@angular/core';\nimport { DecGridRowComponent } from './dec-grid-row/dec-grid-row.component';\n\n\n@Component({\n  selector: 'dec-grid',\n  template: `<div fxLayout=\"column\" [fxLayoutGap]=\"gap\">\n\n  <div fxFlex *ngFor=\"let row of rows\">\n\n    <ng-template [ngTemplateOutlet]=\"row.content\" [ngTemplateOutletContext]=\"{gap: gap}\"></ng-template>\n\n  </div>\n\n</div>\n`,\n  styles: [``]\n})\nexport class DecGridComponent {\n\n  @Input() gap = '24px';\n\n  @ContentChildren(forwardRef(() => DecGridRowComponent)) rows: QueryList<DecGridRowComponent>;\n\n  constructor() { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecGridComponent } from './dec-grid.component';\nimport { DecGridRowComponent, DecGridColumnComponent } from './dec-grid-row/dec-grid-row.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n  ],\n  declarations: [DecGridComponent, DecGridRowComponent, DecGridColumnComponent],\n  exports: [DecGridComponent, DecGridRowComponent, DecGridColumnComponent],\n})\nexport class DecGridModule { }\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-label',\n  template: `<div [ngStyle]=\"{'background-color': colorHex}\" [ngClass]=\"colorClass\" [class.stretched]=\"stretched\" decContrastFontWithBg>\n  <ng-content></ng-content>\n</div>\n`,\n  styles: [`div{margin:4px;display:inline-block;padding:7px 12px;border-radius:24px;align-items:center;cursor:default;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}div.stretched{display:block;text-align:center}`]\n})\nexport class DecLabelComponent {\n  @Input() colorHex?: string;\n  @Input() colorClass?: string;\n  @Input() stretched?: boolean;\n}\n","import { Directive, ElementRef, Input, DoCheck } from '@angular/core';\n\n/**\n * Cotrast configuration\n *\n * Used to define some custom configuration as colors and breakpoint\n */\nexport interface DecContrastFontWithBgDirectiveConfig {\n  lumaBreakPoint: string;\n  lightColor: string;\n  darkColor: string;\n}\n\nconst DEFAULT_LUMA_BREAKPOINT = 200;\n\n/*\n* Contrast Font With Background Directive\n*\n* Contrasts the text color with the background-color to avoid white color in ligh background and black color in darken ones.\n* It can be used as attribute in any element with or without passing custom configuration\n* Example without custom configuration: <div decContrastFontWithBg\"></div>\n* Example with custom configuration: <div [decContrastFontWithBg]=\"{darkColor: 'red'}\"></div>\n*\n* Configuration params:\n* lumaBreakPoint: the point where we should change the font color. This is the ligth feeling breakpoint.\n* lightColor: the text color used in dark backgrounds\n* darkColor: the text color used in ligth backgrounds\n*/\n\nexport function hexToRgbNew(hex) {\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}\n\nexport function standardize_color(bgColor) {\n\n  const canvas = document.createElement('canvas');\n\n  const ctx = canvas.getContext('2d');\n\n  ctx.fillStyle = bgColor;\n\n  return ctx.fillStyle;\n}\n\n\n@Directive({\n  selector: '[decContrastFontWithBg]'\n})\nexport class DecContrastFontWithBgDirective implements DoCheck {\n\n  private config;\n\n  private bgColor;\n\n  @Input() set decContrastFontWithBg(config: DecContrastFontWithBgDirectiveConfig) {\n\n    this.config = config;\n\n    this.doDecContrastFontWithBg();\n\n  }\n\n  constructor(private el: ElementRef) {\n\n    this.bgColor = this.el.nativeElement.style.backgroundColor;\n\n  }\n\n  ngDoCheck() {\n\n    const bgColor = this.el.nativeElement.style.backgroundColor;\n\n    if (bgColor !== this.bgColor) {\n\n      this.bgColor = bgColor;\n\n      this.doDecContrastFontWithBg();\n\n    }\n\n  }\n\n  private doDecContrastFontWithBg() {\n\n    const lumaBreakPoint = (this.config && this.config.lumaBreakPoint) ? this.config.lumaBreakPoint : DEFAULT_LUMA_BREAKPOINT;\n\n    const hexaBgColor = standardize_color(this.bgColor);\n\n    const rgbColor = hexToRgbNew(hexaBgColor);\n\n    const luma = 0.2126 * rgbColor.r + 0.7152 * rgbColor.g + 0.0722 * rgbColor.b; // per ITU-R BT.709\n\n    if (luma < lumaBreakPoint) {\n\n      this.el.nativeElement.style.color = (this.config && this.config.lightColor) ? this.config.lightColor : 'rgba(255,255,255,1)';\n\n    } else {\n\n      this.el.nativeElement.style.color = (this.config && this.config.darkColor) ? this.config.darkColor : '#232e38';\n\n    }\n\n  }\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecContrastFontWithBgDirective } from './dec-contrast-font-with-bg.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    DecContrastFontWithBgDirective,\n  ],\n  exports: [\n    DecContrastFontWithBgDirective,\n  ]\n})\nexport class DecContrastFontWithBgModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecLabelComponent } from './dec-label.component';\nimport { DecContrastFontWithBgModule } from './../../directives/color/contrast-font-with-bg/dec-contrast-font-with-bg.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n    DecContrastFontWithBgModule,\n  ],\n  declarations: [\n    DecLabelComponent\n  ],\n  exports: [\n    DecLabelComponent\n  ]\n})\nexport class DecLabelModule { }\n","export enum DEC_COLOR_BY_STATUS {\n  ACTIVE = '#097509',\n  APPROVED = '#4DBD74',\n  COMMITED = '#259844',\n  DEFAULT = '#656d74',\n  DELETED = '#FF5252',\n  DELIVERED = '#4DBD74',\n  DELIVERING = '#fadb4d',\n  DELIVERY_REJECTED = '#f44336',\n  FIX_OPEN = '#259844',\n  FIX_REOPEN = '#259844',\n  INITIAL = '#656d74',\n  JOB_CREATED = '#259844',\n  JOB_AVAILABLE = '#fadb4d',\n  JOB_IN_DEVELOPMENT = '#63c2de',\n  JOB_IN_QA = '#ff9800',\n  JOB_DENIED = '#f44336',\n  PENDING_RENDER = '#fadb4d',\n  PENDING_WORK = '#656d74',\n  RENDER_SUCCESS = '#4DBD74',\n  RENDER_ERROR = '#FF5252',\n  WAITING_SKU_FIX = '#656d74',\n  WAITING_MODEL = '#656d74',\n  WORKING_ON_IT = '#63c2de',\n  IN_DEVELOPMENT = '#63c2de',\n  IN_QA = '#63c2de',\n  IN_FIX = '#BA68CB',\n  DENIED = '#f44336',\n  DEVELOPMENT = '#63c2de',\n  INACTIVE = '#F4F4F4',\n}\n","import { Injectable } from '@angular/core';\nimport { DEC_COLOR_BY_STATUS } from './dec-colors.map';\n\n@Injectable()\nexport class DecColorService {\n\n  constructor() { }\n\n  getStatusColor(status: string) {\n    return DEC_COLOR_BY_STATUS[status] || DEC_COLOR_BY_STATUS.DEFAULT;\n  }\n\n  rgbToHex(r, g, b) {\n    return `#${[r, g, b].map(x => x.toString(16).padStart(2, '0')).join('')}`;\n  }\n\n  hexToRgb(hex, formated = false) {\n    const rgb = hex.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (m, r, g, b) => '#' + r + r + g + g + b + b).substring(1).match(/.{2}/g).map(x => parseInt(x, 16));\n    return formated ? `rgb(${rgb[0]},${rgb[1]},${rgb[2]})` : rgb;\n  }\n\n  rgbArrayToLinearArray (rgbArray) { // used to change colors in Sketchfab\n    return rgbArray.map(subcolor => {\n      return this.rgbToLinear(subcolor);\n    });\n  }\n\n  public rgbToLinear (c) {\n    const proportion = c / 255;\n    const gamma = 2.4;\n    let v = 0.0;\n    if (proportion < 0.04045) {\n      if (proportion >= 0.0) {\n        v = proportion * (1.0 / 12.92);\n      }\n    } else {\n      v = Math.pow((proportion + 0.055) * (1.0 / 1.055), gamma);\n    }\n    return v;\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { DecColorService } from './../../services/color/dec-color.service';\n\n@Component({\n  selector: 'dec-label-status',\n  template: `<dec-label [colorHex]=\"decColorService.getStatusColor(status)\" [stretched]=\"stretched\">\n  <ng-content></ng-content>\n  {{ 'label.'+status | translate }}\n</dec-label>\n`,\n  styles: [``]\n})\nexport class DecLabelStatusComponent {\n\n  @Input() status: string;\n\n  @Input() stretched: boolean;\n\n  constructor(\n    public decColorService: DecColorService\n  ) { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecColorService } from './dec-color.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [DecColorService]\n})\nexport class DecColorServiceModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecLabelStatusComponent } from './dec-label-status.component';\nimport { DecLabelModule } from './../dec-label/dec-label.module';\nimport { DecColorServiceModule } from './../../services/color/dec-color-service.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecLabelModule,\n    DecColorServiceModule,\n    TranslateModule\n  ],\n  declarations: [DecLabelStatusComponent],\n  exports: [DecLabelStatusComponent]\n})\nexport class DecLabelStatusModule { }\n","import { Observable } from 'rxjs';\nimport { Filters, FilterGroups } from './../../services/api/decora-api.model';\n\n\nexport interface CountReport {\n\n  count: number;\n  children?: CountReport[];\n\n}\n\n/*\n  * DecListPreSearch\n  *\n  * Used as middleware to manipulate the filter before fetchng the data\n  */\nexport type DecListPreSearch = (filterGroups: FilterGroups) => FilterGroups;\n\n\n/*\n  * DecListFetchMethod\n  *\n  * Used to fetch data from remote API\n  */\nexport type DecListFetchMethod = (endpoint: string, filter: any) => Observable<DecListFetchMethodResponse>;\n\n/*\n  * ListType\n  *\n  * List types\n  */\nexport type DecListType = 'table' | 'grid';\n\n/*\n  * DecListFetchMethodResponse\n  *\n  * Response received by fetch DecListFetchMethod\n  */\nexport interface DecListFetchMethodResponse {\n  result: {\n    rows: any[];\n    count: number;\n  };\n}\n\n/*\n  * DecListFilter\n  *\n  * Structure of tabs filters\n  */\nexport class DecListFilter {\n  children?: DecListFilter[];\n  count?: string;\n  default?: boolean;\n  filters: Filters;\n  hide?: boolean;\n  label: string;\n  color?: string;\n  listMode?: DecListType;\n  permissions?: string[];\n  uid?: string;\n\n  constructor(data: any = {}) {\n    this.children = data.children ? data.children.map(filter => new DecListFilter(filter)) : undefined;\n    this.count = data.count || undefined;\n    this.default = data.default || undefined;\n    this.filters = data.filters || undefined;\n    this.hide = data.hide || undefined;\n    this.label = data.label || undefined;\n    this.color = data.color || '#6E757A';\n    this.listMode = data.listMode || undefined;\n    this.permissions = data.permissions || undefined;\n    this.uid = data.uid || data.label;\n  }\n}\n","import { Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { DecListFetchMethod, DecListFilter } from './../../list.models';\n\n@Component({\n  selector: 'dec-list-tabs-filter',\n  template: `<div class=\"list-tabs-filter-wrapper\" *ngIf=\"visibleFilters as filters\">\n  <div fxLayout=\"row\" class=\"dec-tab-header\">\n    <ng-container *ngFor=\"let tabFilter of filters\">\n      <button type=\"button\"\n              *decPermission=\"tabFilter.permissions\"\n              mat-button\n              class=\"uppercase\"\n              (click)=\"selectTab(tabFilter.uid)\"\n              [class.selected]=\"selectedTabUid == (tabFilter.uid)\">\n        <span>{{ 'label.' + tabFilter.label | translate | uppercase }}</span>\n        <span *ngIf=\"countReport\" class=\"badge badge-pill badge-small\">{{ countReport[tabFilter.uid].count }}</span>\n      </button>\n    </ng-container>\n  </div>\n</div>\n`,\n  styles: [`.list-tabs-filter-wrapper{margin-top:8px}.list-tabs-filter-wrapper .dec-tab-header.bottom{border-bottom:0}.list-tabs-filter-wrapper .dec-tab-header .badge{margin-left:8px}.list-tabs-filter-wrapper .dec-tab-header .badge.badge-pill{padding:8px;font-size:small;border-radius:24px}.list-tabs-filter-wrapper .dec-tab-header .badge.badge-pill.badge-small{font-size:x-small;padding:4px}`]\n})\nexport class DecListTabsFilterComponent implements OnDestroy {\n\n  customFetchMethod: DecListFetchMethod;\n\n  name: string; // list unique name to identify the tab in url\n\n  selectedTabUid: string;\n\n  service: any;\n\n  @Input() countReport: any;\n\n  @Input()\n  set filters(v: DecListFilter[]) {\n    if (this._filters !== v) {\n      this._filters = v ? v.map(filter => new DecListFilter(filter)) : [];\n    }\n  }\n\n  get filters(): DecListFilter[] {\n    return this._filters;\n  }\n\n  private defaultTab: string;\n\n  private _filters: DecListFilter[] = [];\n\n  private wathUrlSubscription: Subscription;\n\n  @Output('search') search: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output('tabChange') tabChange: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnDestroy() {\n    this.stopWatchingTabInUrlQuery();\n  }\n\n  doFirstLoad = () => {\n    setTimeout(() => { // avoids ExpressionChangedAfterItHasBeenCheckedError selecting the active tab\n      this.watchTabInUrlQuery();\n    }, 0);\n  }\n\n  getCountOf(uid: string) {\n    return this.countReport && this.countReport[uid] >= 0 ? this.countReport[uid] : '?';\n  }\n\n  selectTab(tab) {\n    this.setTabInUrlQuery(tab);\n  }\n\n  get selectedTab() {\n\n    return this.filters ? this.filters.find(filter => filter.uid === this.selectedTabUid) : undefined;\n\n  }\n\n  get visibleFilters() {\n    const visible = this.filters ? this.filters.filter((filter) => !filter.hide) : [];\n    return (visible && visible.length > 1) ? visible : undefined;\n  }\n\n  private detectDefaultTab() {\n\n    const hasDefault: any = this.filters.find((item) => {\n      return item.default;\n    });\n\n    if (hasDefault) {\n\n      this.defaultTab = hasDefault.uid;\n\n    } else {\n\n      this.defaultTab = this.filters[0].uid;\n\n    }\n\n  }\n\n  private onSearch = (tab, recount = false) => {\n\n    this.selectedTabUid = tab.uid;\n\n    if (this.filters && tab) {\n\n      const event = {\n        filters: tab.filters,\n        children: tab.children,\n        recount: recount,\n      };\n\n      this.search.emit(event);\n\n    }\n\n  }\n\n  private componentTabName() {\n    return this.name + '-tab';\n  }\n\n  private setTabInUrlQuery(tab) {\n    const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n    queryParams[this.componentTabName()] = tab;\n    this.router.navigate(['.'], { relativeTo: this.route, queryParams: queryParams, replaceUrl: true });\n  }\n\n  private watchTabInUrlQuery() {\n\n    this.detectDefaultTab();\n\n    this.wathUrlSubscription = this.route.queryParams\n      .subscribe((params) => {\n\n        const tab = params[this.componentTabName()] || this.defaultTab;\n\n\n        if (tab !== this.selectedTabUid) {\n\n          const selectedTab = this.filters.find(filter => filter.uid === tab);\n\n          this.onSearch(selectedTab);\n\n          this.tabChange.emit(tab);\n\n        }\n\n      });\n\n  }\n\n  private stopWatchingTabInUrlQuery() {\n    if (this.wathUrlSubscription) {\n      this.wathUrlSubscription.unsubscribe();\n    }\n  }\n\n}\n","import { Component, OnInit, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-advanced-filter',\n  template: `<form fxLayout=\"column\" fxLayoutGap=\"16px\" (submit)=\"submit()\">\n\n  <div fxFlex>\n\n    <ng-container *ngIf=\"opened\"\n      [ngTemplateOutlet]=\"templateRef\"\n      [ngTemplateOutletContext]=\"{form: form}\"\n    ></ng-container>\n\n  </div>\n\n  <div fxFlex>\n\n    <div fxLayout=\"row\" fxLayoutAlign=\"end end\" fxLayoutGap=\"8px\">\n\n      <button type=\"submit\" mat-raised-button color=\"primary\">{{ 'label.search' | translate | uppercase }}</button>\n\n      <button type=\"button\" mat-button (click)=\"reset()\">{{ 'label.reset' | translate | uppercase }}</button>\n\n    </div>\n\n  </div>\n\n</form>\n\n\n\n\n`,\n  styles: [``]\n})\nexport class DecListAdvancedFilterComponent implements OnInit {\n\n  form: any = {};\n\n  set opened(v) {\n    this._opened = this._opened || v;\n  }\n\n  get opened() {\n    return this._opened;\n  }\n\n  private _opened: boolean;\n\n  @ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  onSearch = () => { };\n\n  onClear = () => { };\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  private clearEmptyKeys() {\n\n    const emptyKeys = Object.keys(this.form).filter(key => {\n      const value = this.form[key];\n      if (typeof value === 'string') {\n        return value === '' || value === undefined;\n      } else if (Array.isArray(value)) {\n        return value.length === 0;\n      } else {\n        return false;\n      }\n    });\n\n    emptyKeys.forEach(key => {\n      delete this.form[key];\n    });\n\n  }\n\n  reset() {\n    this.onClear();\n  }\n\n  submit() {\n\n    this.clearEmptyKeys();\n\n    this.onSearch();\n\n  }\n}\n","import { Component, ContentChild, EventEmitter, Input, OnInit, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { DecListTabsFilterComponent } from './list-tabs-filter/list-tabs-filter.component';\nimport { DecListAdvancedFilterComponent } from './../list-advanced-filter/list-advanced-filter.component';\nimport { Subscription } from 'rxjs';\nimport { DecListPreSearch, DecListFilter } from './../list.models';\nimport { FilterGroups } from './../../../services/api/decora-api.model';\n\nconst DEFAULT_FILTER = [{ label: 'default', filters: [] }];\n\n@Component({\n  selector: 'dec-list-filter',\n  template: `<div class=\"list-filter-wrapper\">\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-between center\">\n    <!--\n      Counter\n    -->\n    <div fxFlex=\"30\">\n      <ng-container *ngIf=\"count >= 0 && !loading\">\n        <span *ngIf=\"count === 0\" class=\"dec-body-strong\">{{ \"label.record-not-found\" | translate }}</span>\n        <span *ngIf=\"count === 1\" class=\"dec-body-strong\">{{ \"label.one-record-found\" | translate }}</span>\n        <span *ngIf=\"count > 1\" class=\"dec-body-strong\"> {{ \"label.records-found\" | translate:{count:count} }}</span>\n      </ng-container>\n    </div>\n\n    <div fxFlex=\"70\" class=\"text-right\">\n\n      <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"end center\" class=\"search-container\">\n        <div>\n\n          <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\" class=\"input-search-container\" [class.active]=\"showSearchInput\">\n            <!-- gap -->\n            <div></div>\n            <a class=\"btn-toogle-search\">\n              <mat-icon (click)=\"toggleSearchInput()\">search</mat-icon>\n            </a>\n            <form fxFlex role=\"form\" (submit)=\"onSearch()\">\n              <div fxLayout=\"row\" fxLayoutGap=\"16px\" fxLayoutAlign=\"start center\" class=\"input-search\">\n                <span class=\"bar-h\"></span>\n                <input fxFlex #inputSearch name=\"search\" [(ngModel)]=\"filterForm.search\">\n                <div *ngIf=\"advancedFilterComponent\" class=\"click\" (click)=\"toggleAdvancedFilter($event)\">\n                  <span class=\"dec-small btn-open-advanced-search\">{{\"label.advanced-options\" | translate}}</span>\n                </div>\n                <!--gap-->\n                <div></div>\n              </div>\n            </form>\n          </div>\n\n        </div>\n\n        <!--Refresh search-->\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\">\n          <a class=\"btn-info margin-icon\" (click)=\"onSearch()\">\n            <mat-icon>refresh</mat-icon>\n          </a>\n        </div>\n        <!--Clear filters-->\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\" *ngIf=\"filterGroupsWithoutTabs?.length\">\n          <a class=\"btn-info\" (click)=\"onClear()\">\n            <mat-icon>clear</mat-icon>\n          </a>\n        </div>\n\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\" *ngIf=\"showInfoButton\">\n          <a class=\"btn-info\" (click)=\"onClickInfo()\">\n            <mat-icon>info_outline</mat-icon>\n          </a>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n\n  <div *ngIf=\"showAdvancedFilter\">\n\n    <mat-card class=\"advanced-search-container\" [ngClass]=\"{'remove-button-enabled': filterGroupsWithoutTabs?.length}\">\n\n      <div fxLayout=\"row\" fxLayoutAlign=\"end center\">\n\n        <a (click)=\"closeFilters()\" class=\"btn-close-advanced-search\">\n\n          <i class=\"material-icons\">close</i>\n\n        </a>\n\n      </div>\n\n      <div>\n\n        <ng-content select=\"dec-list-advanced-filter\"></ng-content>\n\n      </div>\n\n    </mat-card>\n\n  </div>\n\n  <dec-list-active-filter-resume\n    *ngIf=\"filterGroupsWithoutTabs?.length\"\n    [filterGroups]=\"filterGroupsWithoutTabs\"\n    (remove)=\"removeDecFilterGroup($event)\"\n    (edit)=\"editDecFilterGroup($event)\"></dec-list-active-filter-resume>\n\n  <dec-list-tabs-filter [filters]=\"filters\" [countReport]=\"countReport\"></dec-list-tabs-filter>\n</div>\n`,\n  styles: [`.list-filter-wrapper{margin:0 0 16px;position:relative}.list-filter-wrapper .mat-icon{color:#999}.list-filter-wrapper .search-term-input{width:500px;margin-right:8px}.list-filter-wrapper .inline-form{display:inline-block}.list-filter-wrapper .advanced-search-container{position:absolute;top:74px;z-index:1;right:30px;width:552px}.list-filter-wrapper .advanced-search-container.remove-button-enabled{right:62px;width:551px}.list-filter-wrapper .advanced-search-container .btn-close-advanced-search{cursor:pointer}.search-container .input-search-container{transition:all .3s ease;overflow:hidden;width:40px;height:50px}.search-container .input-search-container.active{background:#f8f8fa;color:#999;width:600px}.search-container .input-search-container.active .btn-open-advanced-search{display:inline}.search-container .input-search-container .input-search{width:100%}.search-container .input-search-container .input-search input{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;width:100%;vertical-align:bottom}.search-container .input-search-container .btn-open-advanced-search{display:none}.search-container .btn-clear-search{padding-right:15px;cursor:pointer;color:#999;width:90px}.search-container .btn-info,.search-container .btn-toogle-search{font-size:21px;cursor:pointer;height:21px;color:#999}.search-container .bar-h{border-right:2px solid #d0d0d0;height:21px;margin:auto 0;display:inline-block}`]\n})\nexport class DecListFilterComponent implements OnInit, OnDestroy {\n\n  count: number;\n\n  countReport;\n\n  showSearchInput: boolean;\n\n  set showAdvancedFilter(v: boolean) {\n    if (this._showAdvancedFilter !== v) {\n      this._showAdvancedFilter = !!v;\n      this.setAdvancedFilterState(v);\n    }\n  }\n\n  get showAdvancedFilter() {\n    return this._showAdvancedFilter;\n  }\n\n  filterForm: any = {\n    search: undefined\n  };\n\n  filterGroups: FilterGroups;\n\n  filterGroupsWithoutTabs: FilterGroups;\n\n  currentStatusFiltered: string;\n\n  tabsFilter: any;\n\n  editionGroupIndex: number;\n\n  name: string;\n\n  loading: boolean;\n\n  isItFirstLoad = true;\n\n  filterMode: 'tabs' | 'collapse';\n\n  childrenFilters;\n\n  /*\n   * clickableContainerClass\n   *\n   * Where the click watcher should be listening\n   */\n  private clickableContainerClass = 'list-filter-wrapper';\n\n  private innerDecFilterGroups: any[];\n\n  private currentUrlEncodedFilter: string;\n\n  private tabsFilterSubscription: Subscription;\n\n  private watchUrlFilterSubscription: Subscription;\n\n  private _filters: DecListFilter[] = DEFAULT_FILTER;\n\n  private _loadCountReport: boolean;\n\n  private _showAdvancedFilter: boolean;\n\n  @Input() preSearch: DecListPreSearch;\n\n  @Input() showInfoButton;\n\n  @Input() hasPersistence = true;\n\n  @Input()\n  set filters(v: DecListFilter[]) {\n\n    v = (v && v.length > 0) ? v : DEFAULT_FILTER;\n\n    if (this._filters !== v) {\n\n      this._filters = v.map(filter => new DecListFilter(filter));\n\n    }\n\n  }\n\n  get loadCountReport(): boolean {\n    return this._loadCountReport;\n  }\n\n  @Input()\n  set loadCountReport(v: boolean) {\n    if (v !== false) {\n      this._loadCountReport = true;\n    }\n  }\n\n  get filters(): DecListFilter[] {\n    return this._filters;\n  }\n\n  @Output() search: EventEmitter<any> = new EventEmitter<any>();\n\n  @ViewChild('inputSearch') inputSearch;\n\n  @ViewChild(DecListTabsFilterComponent) tabsFilterComponent: DecListTabsFilterComponent;\n\n  @ContentChild(DecListAdvancedFilterComponent) advancedFilterComponent: DecListAdvancedFilterComponent;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.watchTabsFilter();\n    this.watchClick();\n    this.watchUrlFilter();\n    this.configureAdvancedFilter();\n  }\n\n  ngOnDestroy() {\n    this.stopWatchingClick();\n    this.stopWatchingTabsFilter();\n    this.stopWatchingUrlFilter();\n  }\n\n  toggleSearchInput() {\n    this.showSearchInput = !this.showSearchInput;\n    if (!this.showSearchInput) {\n      this.showAdvancedFilter = false;\n    } else {\n      setTimeout(() => {\n        this.inputSearch.nativeElement.focus();\n      }, 180);\n    }\n  }\n\n  toggleAdvancedFilter($event) {\n\n    $event.stopPropagation();\n\n    this.showAdvancedFilter = !this.showAdvancedFilter;\n\n  }\n\n  onSearch = (appendCurrentForm = true) => {\n    \n    if (this.filterForm && appendCurrentForm) {\n\n      const newDecFilterGroup = {\n\n        filters: []\n\n      };\n\n      Object.keys(this.filterForm).forEach(key => {\n\n        if (typeof this.filterForm[key] !== 'undefined') {\n\n          const filter = { property: key, value: this.filterForm[key] };\n\n          newDecFilterGroup.filters.push(filter);\n\n        }\n\n\n      });\n\n      if (newDecFilterGroup.filters.length > 0) {\n\n        if (this.innerDecFilterGroups) {\n\n          if (this.editionGroupIndex >= 0) {\n\n            this.innerDecFilterGroups[this.editionGroupIndex] = newDecFilterGroup;\n\n          } else {\n\n            this.innerDecFilterGroups.push(newDecFilterGroup);\n\n          }\n\n        } else {\n\n          this.innerDecFilterGroups = [newDecFilterGroup];\n\n        }\n\n      }\n\n    }\n\n    this.reacalculateAndEmitCurrentDecFilterGroups(true);\n\n  }\n\n  onClear() {\n\n    this.closeFilters();\n\n    this.filterGroups = undefined;\n\n    this.filterGroupsWithoutTabs = undefined;\n\n    this.innerDecFilterGroups = undefined;\n\n    this.clearFilterForm();\n\n    this.onSearch();\n\n  }\n\n  removeDecFilterGroup(groupIndex) {\n\n    this.filterGroups = this.filterGroups.filter((group, index) => index !== groupIndex);\n\n    this.filterGroupsWithoutTabs = this.filterGroupsWithoutTabs.filter((group, index) => index !== groupIndex);\n\n    this.innerDecFilterGroups = this.innerDecFilterGroups.filter((group, index) => index !== groupIndex);\n\n    this.onSearch(true);\n\n  }\n\n  editDecFilterGroup(groupIndex) {\n\n    this.editionGroupIndex = groupIndex;\n\n    const toEditDecFilterGroup = this.filterGroupsWithoutTabs[groupIndex];\n\n    if (toEditDecFilterGroup && toEditDecFilterGroup.filters.length > 0) {\n\n      this.reloadFormWithGivenDecFilterGroupe(toEditDecFilterGroup.filters);\n\n    }\n\n  }\n\n  clearFilterForm = () => {\n\n    if (this.filterForm) {\n\n      Object.keys(this.filterForm).forEach(key => {\n\n        this.filterForm[key] = undefined;\n\n      });\n\n    }\n\n\n  }\n\n  onClickInfo() {\n    console.log('on click info. Not implemented');\n  }\n\n  /*\n   * appendToCurrentFilters\n   *\n   * Append a filter to the current filter groups\n   */\n  appendToCurrentDecFilterGroups(propertyName, propertyValue) {\n\n    const filter = {\n      'property': propertyName,\n      'value': propertyValue,\n    };\n\n    if (this.filterGroupsWithoutTabs) {\n\n      this.filterGroupsWithoutTabs.forEach((filterGroup) => {\n\n        const filterExistsInThisGroup = filterGroup.filters.find(filterGroupFilter => filterGroupFilter.property === filter.property);\n\n        if (!filterExistsInThisGroup) {\n\n          filterGroup.filters.push(filter);\n\n        }\n\n      });\n\n    } else {\n\n      this.filterGroupsWithoutTabs = [{ filters: [filter] }];\n\n    }\n\n    this.innerDecFilterGroups = this.filterGroupsWithoutTabs;\n\n    this.reacalculateAndEmitCurrentDecFilterGroups();\n\n  }\n\n  closeFilters() {\n\n    this.editionGroupIndex = undefined;\n\n    this.showAdvancedFilter = false;\n\n    this.showSearchInput = false;\n\n  }\n\n  private reacalculateAndEmitCurrentDecFilterGroups(recount = false) {\n\n    this.emitCurrentDecFilterGroups(recount)\n      .then(() => {\n\n        if (!this.hasPersistence) {\n\n          return;\n\n        }\n\n        this.refreshFilterInUrlQuery()\n          .then(() => {\n\n            this.closeFilters();\n\n            this.clearFilterForm();\n\n          });\n\n\n      });\n\n  }\n\n  private reloadFormWithGivenDecFilterGroupe(filters) {\n\n    this.clearFilterForm();\n\n    filters.forEach(filter => {\n\n      if (filter.value) {\n\n        this.filterForm[filter.property] = filter.value;\n\n      }\n\n    });\n\n    this.openFilters();\n\n  }\n\n  private openFilters() {\n\n    this.showAdvancedFilter = true;\n\n    this.showSearchInput = true;\n\n  }\n\n  private configureAdvancedFilter() {\n\n    if (this.advancedFilterComponent) {\n\n      this.advancedFilterComponent.form = this.filterForm;\n\n      this.advancedFilterComponent.onSearch = this.onSearch;\n\n      this.advancedFilterComponent.onClear = this.clearFilterForm;\n\n    }\n\n  }\n\n  private setAdvancedFilterState(state) {\n\n    if (this.advancedFilterComponent) {\n\n      this.advancedFilterComponent.opened = state;\n\n    }\n\n  }\n\n  private watchTabsFilter() {\n    if (this.tabsFilterComponent) {\n      this.tabsFilterSubscription = this.tabsFilterComponent.search.subscribe(filterEvent => {\n\n        if (filterEvent.children) {\n\n          this.filterMode = 'collapse';\n\n          this.childrenFilters = filterEvent.children;\n\n        } else {\n\n          this.filterMode = 'tabs';\n\n          this.childrenFilters = undefined;\n\n        }\n\n        this.tabsFilter = filterEvent.filters;\n\n        this.emitCurrentDecFilterGroups(this.isItFirstLoad || filterEvent.recount);\n\n        this.isItFirstLoad = false;\n\n      });\n    }\n  }\n\n  private stopWatchingTabsFilter() {\n    if (this.tabsFilterSubscription) {\n      this.tabsFilterSubscription.unsubscribe();\n    }\n  }\n\n  private mountCurrentDecFilterGroups() {\n\n    const currentFilter = [];\n\n    const currentFilterWithoutTabs = [];\n\n    if (this.innerDecFilterGroups && this.innerDecFilterGroups.length) {\n\n      this.innerDecFilterGroups.forEach((filterGroup: { filters: any[] }) => {\n\n        const filterGroupCopy = {\n          filters: filterGroup.filters.slice()\n        };\n\n        if (this.tabsFilter) {\n          filterGroupCopy.filters.push(...this.tabsFilter);\n        }\n\n        currentFilter.push(filterGroupCopy);\n\n        const filterGroupCopyWithoutTabs = {\n          filters: filterGroup.filters.slice()\n        };\n\n        currentFilterWithoutTabs.push(filterGroupCopyWithoutTabs);\n\n      });\n\n    } else if (this.tabsFilter) {\n\n      currentFilter.push({ filters: this.tabsFilter });\n\n    }\n\n    this.filterGroups = currentFilter.length ? currentFilter : undefined;\n\n    this.filterGroupsWithoutTabs = currentFilterWithoutTabs.length ? currentFilterWithoutTabs : undefined;\n  }\n\n  /*\n   * emitCurrentDecFilterGroups\n   *\n   */\n  private emitCurrentDecFilterGroups(recount = false) {\n\n    let filterGroups = this.filterGroups ? JSON.parse(JSON.stringify(this.filterGroups)) : undefined;\n\n    return new Promise((res, rej) => {\n\n      this.mountCurrentDecFilterGroups();\n\n      if (this.preSearch) {\n\n        filterGroups = this.preSearch(filterGroups);\n\n      }\n\n      this.search.emit({\n        filterGroups: filterGroups,\n        recount: recount,\n        filterMode: this.filterMode,\n        children: this.childrenFilters,\n      });\n\n      res();\n\n    });\n\n\n  }\n\n  /*\n   * actByClickPosition\n   *\n   * This method detect\n   */\n  private actByClickPosition = ($event) => {\n\n    if (event && event['path']) {\n\n      const clickedInsideFilter = $event['path'].find(path => {\n\n        const className = `${path['className']}` || '';\n\n        const insideWrapper = className.indexOf(this.clickableContainerClass) >= 0;\n\n        const insideOption = className.indexOf('mat-option') >= 0;\n\n        const insideDatePicker = className.indexOf('mat-datepicker-content') >= 0;\n\n        const insideOverlayContainer = className.indexOf('cdk-overlay-container') >= 0;\n\n        return insideWrapper || insideOption || insideDatePicker || insideOverlayContainer;\n\n      });\n\n      if (!clickedInsideFilter) { // avoid closing filter from any open dialog\n\n        this.closeFilters();\n\n        this.clearFilterForm();\n\n      }\n\n    }\n\n  }\n\n  /*\n   * watchClick\n   *\n   */\n  private watchClick() {\n    document.addEventListener('click', this.actByClickPosition, true);\n  }\n\n  /*\n   * stopWatchingClick\n   *\n   */\n  private stopWatchingClick() {\n    document.removeEventListener('click', this.actByClickPosition, true);\n  }\n\n  /*\n   * componentTabName\n   *\n   */\n  private componentFilterName() {\n    return this.name + '-filter';\n  }\n\n  /*\n   * watchUrlFilter\n   *\n   */\n  private watchUrlFilter() {\n\n    if (!this.hasPersistence) {\n\n      return;\n\n    }\n\n    this.watchUrlFilterSubscription = this.route.queryParams\n      .subscribe((params) => {\n\n        const interval = window.setInterval(() => {\n\n          if (this.name) {\n\n            const base64Filter = params[this.componentFilterName()];\n\n            if (base64Filter) {\n\n              if (base64Filter !== this.currentUrlEncodedFilter) {\n\n                const filter = this.getJsonFromBase64Filter(base64Filter);\n\n                this.innerDecFilterGroups = filter;\n\n                this.mountCurrentDecFilterGroups();\n\n                this.onSearch();\n\n              }\n\n            }\n\n            window.clearInterval(interval);\n\n          }\n\n        }, 10);\n\n      });\n  }\n\n  /*\n   * stopWatchingUrlFilter\n   *\n   */\n  private stopWatchingUrlFilter() {\n\n    if (this.watchUrlFilterSubscription) {\n\n      this.watchUrlFilterSubscription.unsubscribe();\n\n    }\n\n  }\n\n  /*\n   * refreshFilterInUrlQuery\n   *\n   */\n  private refreshFilterInUrlQuery() {\n\n    return new Promise((res, rej) => {\n\n      const filterBase64 = this.getBase64FilterFromDecFilterGroups();\n\n      this.setFilterInUrlQuery(filterBase64).then(res, rej);\n\n    });\n\n\n  }\n\n  /*\n   * setFilterInUrlQuery\n   *\n   */\n  private setFilterInUrlQuery(filter) {\n\n    this.currentUrlEncodedFilter = filter;\n\n    const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n\n    queryParams[this.componentFilterName()] = filter;\n\n    return this.router.navigate(['.'], { relativeTo: this.route, queryParams: queryParams, replaceUrl: true });\n\n  }\n\n  /*\n   * stopWatchingUrlFilter\n   *\n   */\n  private getBase64FilterFromDecFilterGroups() {\n    if (this.filterGroupsWithoutTabs && this.filterGroupsWithoutTabs.length) {\n      const base64Filter = btoa(encodeURIComponent(JSON.stringify(this.filterGroupsWithoutTabs)));\n      const baseFilterWithoutEqualSign = base64Filter.replace(/=/g, '');\n      return baseFilterWithoutEqualSign; // removes = befor eset the filter\n    } else {\n      return undefined;\n    }\n  }\n\n  /*\n   * stopWatchingUrlFilter\n   *\n   * See https://stackoverflow.com/questions/9020409/is-it-ok-to-remove-the-equal-signs-from-a-base64-string\n   */\n  private getJsonFromBase64Filter(base64Filter) {\n    const base64PadLen = (base64Filter.length % 4) > 0 ? 4 - (base64Filter.length % 4) : 0;\n\n    for (let i = 0; i < base64PadLen; i++) {\n      base64Filter += '='; // add = before readd the filter\n    }\n\n    let filterObject;\n\n    try {\n      filterObject = JSON.parse(decodeURIComponent(atob(base64Filter)));\n    } catch (error) {\n      const msg = 'ListFilterComponent:: Failed to parse the filter. The value is not valid and the filter was removed. Filter value: ';\n      console.error(msg, base64Filter);\n    }\n\n    return base64Filter ? filterObject : undefined;\n  }\n\n}\n","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-active-filter-resume',\n  template: `<div *ngIf=\"filterGroups?.length\" class=\"dec-list-active-filter-resume-wrapper\">\n\n  <mat-chip-list>\n\n    <ng-container *ngFor=\"let group of filterGroups; let groupIndex = index;\">\n      <mat-chip *ngIf=\"group?.filters\" (click)=\"editDecFilterGroup($event, groupIndex)\">\n\n        <span *ngFor=\"let filter of group?.filters; let lastFilter = last;\" class=\"item-wrapper\">\n\n          <span [ngSwitch]=\"filter.property !== 'search'\">\n\n            <span *ngSwitchCase=\"true\">{{ 'label.' + filter.property | translate }}</span>\n\n            <span *ngSwitchDefault>{{ 'label.Keyword' | translate }}</span>\n\n          </span>\n\n          <span>:&nbsp;</span>\n\n          <span [ngSwitch]=\"getValuetype(filter.value)\" class=\"value-wrapper\">\n\n            <span *ngSwitchCase=\"'date'\">{{ filter.value | date }}</span>\n\n            <span *ngSwitchDefault>{{ filter.value }}</span>\n\n          </span >\n\n          <span *ngIf=\"!lastFilter\">,</span>\n\n          &nbsp;\n\n        </span>\n\n        <i class=\"material-icons\" (click)=\"removeDecFilterGroup($event, groupIndex)\">remove_circle</i>\n\n      </mat-chip>\n\n    </ng-container>\n\n  </mat-chip-list>\n\n</div>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.dec-list-active-filter-resume-wrapper{margin:16px 0 8px}.dec-list-active-filter-resume-wrapper .item-wrapper{max-width:15em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dec-list-active-filter-resume-wrapper .item-wrapper,.dec-list-active-filter-resume-wrapper .material-icons{color:#969696}.dec-list-active-filter-resume-wrapper .filter-content{margin-right:8px}.dec-list-active-filter-resume-wrapper .mat-chip{cursor:pointer}.dec-list-active-filter-resume-wrapper .value-wrapper{color:#ef3f54}`]\n})\nexport class DecListActiveFilterResumeComponent implements OnInit {\n\n  @Input() filterGroups = [];\n\n  @Output() remove: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() edit: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  editDecFilterGroup($event, filterGroup) {\n    $event.stopPropagation();\n    this.edit.emit(filterGroup);\n  }\n  removeDecFilterGroup($event, filterGroup) {\n    $event.stopPropagation();\n    this.remove.emit(filterGroup);\n  }\n\n  getValuetype(value) {\n\n    const firstValue = Array.isArray(value) ? value[0] : value;\n\n    let type;\n\n    switch (true) {\n      case `${firstValue}`.indexOf('000Z') >= 0:\n        type = 'date';\n        break;\n      default:\n        type = 'default';\n        break;\n    }\n\n    return type;\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatChipsModule, MatIconModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecListActiveFilterResumeComponent } from './list-active-filter-resume.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatChipsModule,\n    MatIconModule,\n    TranslateModule\n  ],\n  declarations: [DecListActiveFilterResumeComponent],\n  exports: [DecListActiveFilterResumeComponent],\n})\nexport class DecListActiveFilterResumeModule { }\n","import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\n\n@Directive({\n  selector: '[decPermission]'\n})\nexport class DecPermissionDirective {\n\n  private hasView = false;\n\n  constructor(private service: DecApiService,\n              private templateRef: TemplateRef<any>,\n              private viewContainer: ViewContainerRef) {\n  }\n\n  @Input()\n  set decPermission(p: string[]) {\n    if (!p) {\n      this.viewContainer.createEmbeddedView(this.templateRef);\n      this.hasView = true;\n    } else {\n      this.hasPermission(p);\n    }\n  }\n\n  hasPermission(p) {\n    this.service.user$.subscribe(\n      user => {\n        if (user && this.isAllowedAccess(p, user.permissions)) {\n          if (!this.hasView) {\n            this.viewContainer.createEmbeddedView(this.templateRef);\n            this.hasView = true;\n          }\n        } else {\n          this.viewContainer.clear();\n          this.hasView = false;\n        }\n      }\n    );\n  }\n\n  private isAllowedAccess(rolesAllowed: string[] = [], currentRoles: string[] = []) {\n    try {\n      const matchingRole = currentRoles.find((userRole) => {\n        return rolesAllowed.find((alowedRole) => {\n          return alowedRole === userRole;\n        }) ? true : false;\n      });\n      return matchingRole ? true : false;\n    } catch (error) {\n      return false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { DecPermissionDirective } from './dec-permission.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [\n    DecPermissionDirective\n  ],\n  exports: [\n    DecPermissionDirective\n  ]\n})\nexport class DecPermissionModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecListFilterComponent } from './list-filter.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule, MatCardModule, MatChipsModule, MatIconModule, MatInputModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecListActiveFilterResumeModule } from './../list-active-filter-resume/list-active-filter-resume.module';\nimport { DecPermissionModule } from './../../../directives/permission/dec-permission.module';\nimport { DecListTabsFilterComponent } from './list-tabs-filter/list-tabs-filter.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    FormsModule,\n    DecListActiveFilterResumeModule,\n    DecPermissionModule,\n    MatButtonModule,\n    MatCardModule,\n    MatChipsModule,\n    MatIconModule,\n    MatInputModule,\n    TranslateModule,\n  ],\n  declarations: [DecListFilterComponent, DecListTabsFilterComponent],\n  exports: [DecListFilterComponent],\n})\nexport class DecListFilterModule { }\n","import { Component, OnInit, ContentChild, TemplateRef, Output, EventEmitter, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-grid',\n  template: `<div fxLayout=\"row wrap\" [fxLayoutGap]=\"itemGap\" >\n  <div *ngFor=\"let row of rows; let i = index;\" (click)=\"onItemClick($event, row, rows, i)\" [fxFlex]=\"itemWidth\">\n    <div [ngStyle]=\"{margin: itemGap}\">\n      <ng-container\n        [ngTemplateOutlet]=\"templateRef\"\n        [ngTemplateOutletContext]=\"{row: row || {}, list: rows || [], index: i}\"\n      ></ng-container>\n    </div>\n  </div>\n</div>\n`,\n  styles: [``]\n})\nexport class DecListGridComponent implements OnInit {\n\n  selected: any[] = []; // from list component\n\n  @ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  @Input() itemWidth = '280px';\n\n  @Input() itemGap = '8px';\n\n  @Output() rowClick: EventEmitter<any> = new EventEmitter<any>();\n\n  private _rows = [];\n\n  constructor() { }\n\n  set rows(v: any) {\n    if (this._rows !== v) {\n      this._rows = v;\n    }\n  }\n\n  get rows() {\n    return this._rows;\n  }\n\n  ngOnInit() {\n  }\n\n  onItemClick(event, item, list, index) {\n\n    this.rowClick.emit({event, item, list, index});\n\n  }\n\n}\n","import { Component, Input, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-table-column',\n  template: `<ng-content></ng-content>\n`,\n  styles: [``]\n})\nexport class DecListTableColumnComponent {\n\n  @ContentChild(TemplateRef) template: TemplateRef<any>;\n\n  @Input() prop;\n\n  @Input() title = '';\n\n  @Input() set colSpan(v) {\n    const number = +v;\n    this._colSpan = isNaN(number) ? 1 : number;\n  }\n\n  get colSpan(): number {\n    return this._colSpan;\n  }\n\n  private _colSpan = 1;\n}\n","import { Component, ContentChildren, QueryList, ViewChild, EventEmitter, Output, Input } from '@angular/core';\nimport { DecListTableColumnComponent } from './../list-table-column/list-table-column.component';\nimport { DatatableComponent } from '@swimlane/ngx-datatable';\n\n@Component({\n  selector: 'dec-list-table',\n  template: `<ngx-datatable #tableComponent\n  columnMode=\"flex\"\n  headerHeight=\"24px\"\n  rowHeight=\"auto\"\n  [externalSorting]=\"true\"\n  [messages]=\"{emptyMessage:''}\"\n  [rows]=\"rows\"\n  [selected]=\"selected\"\n  [selectionType]=\"'checkbox'\"\n  [selectAllRowsOnPage]=\"false\"\n  (select)=\"onSelect($event)\"\n  (sort)=\"onSort($event)\"\n  (activate)=\"onItemClick($event)\">\n\n  <ngx-datatable-column\n    *ngIf=\"selectable\"\n    [width]=\"40\"\n    [canAutoResize]=\"false\"\n    [headerCheckboxable]=\"true\"\n    [checkboxable]=\"true\">\n  </ngx-datatable-column>\n\n  <ngx-datatable-column *ngFor=\"let column of columns;\"\n                         name=\"{{column.title | translate}}\"\n                         [flexGrow]=\"column.colSpan\"\n                         [prop]=\"column.prop\"\n                         [sortable]=\"column.prop ? true : false\">\n\n    <ng-template *ngIf=\"column.template ? true : false\"\n      let-row=\"row\"\n      let-index=\"rowIndex\"\n      ngx-datatable-cell-template>\n\n      <ng-container\n        [ngTemplateOutlet]=\"column.template\"\n        [ngTemplateOutletContext]=\"{row: row || {}, list: rows || [], index: index}\"\n      ></ng-container>\n\n    </ng-template>\n\n  </ngx-datatable-column>\n\n</ngx-datatable>\n`,\n  styles: [`::ng-deep .ngx-datatable .overflow-visible{overflow:visible!important}::ng-deep datatable-scroller{width:100%!important}::ng-deep .ngx-datatable.no-overflow{overflow:auto}::ng-deep .ngx-datatable.no-padding .datatable-body-row .datatable-body-cell .datatable-body-cell-label{padding:0}::ng-deep .ngx-datatable .datatable-header{padding:11px 16px}::ng-deep .ngx-datatable .datatable-header .datatable-header-cell-label{font-size:12px;font-weight:500}::ng-deep .ngx-datatable .datatable-body-row .datatable-body-cell{font-size:13px;font-weight:400;overflow:hidden;min-height:100%;display:table;-webkit-user-select:initial;-moz-user-select:initial;-ms-user-select:initial;-o-user-select:initial;user-select:initial}::ng-deep .ngx-datatable .datatable-body-row .datatable-body-cell .datatable-body-cell-label{padding:16px;display:table-cell;vertical-align:middle;word-break:break-all}::ng-deep .ngx-datatable .datatable-body-row .datatable-body-cell.cell-top .datatable-body-cell-label{vertical-align:top}::ng-deep .ngx-datatable .datatable-row-detail{padding:10px}::ng-deep .ngx-datatable .sort-btn{width:0;height:0}::ng-deep .ngx-datatable .icon-down{border-left:5px solid transparent;border-right:5px solid transparent}::ng-deep .ngx-datatable .icon-up{border-left:5px solid transparent;border-right:5px solid transparent}`]\n})\nexport class DecListTableComponent {\n\n  @Input()\n  set rows(v) {\n    if (this._rows !== v) {\n      this._rows = v;\n    }\n  }\n\n  get rows() {\n    return this._rows;\n  }\n\n  @Input() selectable: boolean;\n\n  selected: any[] = []; // from list component\n\n  @ViewChild(DatatableComponent) tableComponent: DatatableComponent;\n\n  columnsSortConfig: any;\n\n  private _rows: Array<any> = [];\n\n  @ContentChildren(DecListTableColumnComponent) columns: QueryList<DecListTableColumnComponent>;\n\n  @Output() sort: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() rowClick: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor() { }\n\n  onSort(event) {\n\n    const sortConfig = [{\n      property: event.sorts[0].prop,\n      order: event.sorts[0].dir.toUpperCase()\n    }];\n\n    if (sortConfig !== this.columnsSortConfig) {\n\n      this.columnsSortConfig = sortConfig;\n\n      this.sort.emit(this.columnsSortConfig);\n\n    }\n\n  }\n\n  onSelect({ selected }) {\n    this.selected.splice(0, this.selected.length);\n    this.selected.push(...selected);\n  }\n\n  onItemClick($event) {\n\n    const event = $event;\n\n    const item = $event.row;\n\n    const list = this.rows;\n\n    const index = $event.row.$$index;\n\n    this.rowClick.emit({ event, item, list, index });\n\n  }\n}\n","import { AfterViewInit, Component, ContentChild, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\nimport { DecListGridComponent } from './list-grid/list-grid.component';\nimport { DecListTableComponent } from './list-table/list-table.component';\nimport { DecListFilterComponent } from './list-filter/list-filter.component';\nimport { Observable, BehaviorSubject, Subscription, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, tap, switchMap } from 'rxjs/operators';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { DecListFetchMethod, CountReport } from './list.models';\nimport { FilterData, DecFilter, FilterGroups, FilterGroup } from './../../services/api/decora-api.model';\nimport { DecListFilter } from './list.models';\n\nconst DELETE_COMPARE_FUNCTION = (_item, id) => _item.id === id;\n\n@Component({\n  selector: 'dec-list',\n  template: `<!-- COMPONENT LAYOUT -->\n<div class=\"list-component-wrapper\">\n  <div *ngIf=\"filter\">\n    <ng-content select=\"dec-list-filter\"></ng-content>\n  </div>\n  <div *ngIf=\"report || filterMode === 'collapse'\">\n    <div fxLayout=\"column\" fxLayoutGap=\"16px\">\n      <div fxFlex class=\"text-right\" *ngIf=\"tableAndGridAreSet()\">\n        <button type=\"button\" mat-icon-button (click)=\"toggleListMode()\">\n          <mat-icon title=\"Switch to table mode\" aria-label=\"Switch to table mode\" color=\"primary\" contrastFontWithBg *ngIf=\"listMode === 'grid'\">view_headline</mat-icon>\n          <mat-icon title=\"Switch to grid mode\" aria-label=\"Switch to grid mode\" color=\"primary\" contrastFontWithBg *ngIf=\"listMode === 'table'\">view_module</mat-icon>\n        </button>\n      </div>\n      <div fxFlex>\n        <div *ngIf=\"filterMode == 'collapse' then collapseTemplate else tabsTemplate\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- GRID TEMPLATE -->\n<ng-template #gridTemplate>\n  <ng-content select=\"dec-list-grid\"></ng-content>\n</ng-template>\n\n<!-- TABLE TEMPLATE -->\n<ng-template #listTemplate>\n  <ng-content select=\"dec-list-table\"></ng-content>\n</ng-template>\n\n<!-- FOOTER TEMPLATE -->\n<ng-template #footerTemplate>\n  <ng-content select=\"dec-list-footer\"></ng-content>\n  <p class=\"list-footer\">\n    {{ 'label.amount-loaded-of-total' |\n      translate:{\n        loaded: report?.result?.rows?.length,\n        total: report?.result?.count\n      }\n    }}\n  </p>\n</ng-template>\n\n<!-- COLLAPSE TEMPLATE -->\n<ng-template #tabsTemplate>\n  <div fxLayout=\"column\" fxLayoutGap=\"16px\">\n    <div *ngIf=\"listMode == 'grid' then gridTemplate else listTemplate\"></div>\n    <!-- FOOTER CONTENT -->\n    <div fxFlex>\n      <div *ngIf=\"showFooter && !loading then footerTemplate\"></div>\n    </div>\n    <!-- LOADING SPINNER -->\n    <div fxFlex *ngIf=\"loading\" class=\"text-center loading-spinner-wrapper\">\n      <dec-spinner></dec-spinner>\n    </div>\n    <!-- LOAD MORE BUTTON -->\n    <div fxFlex *ngIf=\"!isLastPage && !loading && !disableShowMoreButton\" class=\"text-center\">\n      <button type=\"button\" mat-raised-button (click)=\"showMore()\">{{'label.show-more' | translate}}</button>\n    </div>\n  </div>\n</ng-template>\n\n<!-- COLLAPSE TEMPLATE -->\n<ng-template #collapseTemplate>\n  <mat-accordion>\n    <ng-container *ngFor=\"let filter of collapsableFilters.children\">\n      <mat-expansion-panel (opened)=\"searchCollapsable(filter)\">\n        <mat-expansion-panel-header>\n          <div class=\"collapse-title\" fxLayout=\"row\" fxLayoutGap=\"32px\" fxLayoutAlign=\"left center\">\n            <div fxFlex=\"96px\" *ngIf=\"countReport\">\n              <dec-label [colorHex]=\"filter.color\">{{ getCollapsableCount(filter.uid) }}</dec-label>\n            </div>\n            {{ 'label.' + filter.label | translate }}\n          </div>\n        </mat-expansion-panel-header>\n        <div *ngIf=\"selectedCollapsable === filter.uid\">\n          <ng-container [ngTemplateOutlet]=\"tabsTemplate\"></ng-container>\n        </div>\n      </mat-expansion-panel>\n    </ng-container>\n  </mat-accordion>\n  <div class=\"accordion-bottom-margin\"></div>\n</ng-template>\n\n`,\n  styles: [`.list-footer{font-size:14px;text-align:center}.list-component-wrapper{min-height:72px}.text-right{text-align:right}.loading-spinner-wrapper{padding:32px}.collapse-title{width:100%}.accordion-bottom-margin{margin-bottom:100px}`]\n})\nexport class DecListComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  /*\n  * countReport\n  *\n  *\n  */\n  countReport: CountReport;\n\n  /*\n  * filterMode\n  *\n  *\n  */\n  filterMode: 'tabs' | 'collapse' = 'tabs';\n\n\n  /*\n  * collapsableFilters\n  *\n  *\n  */\n  collapsableFilters: { tab: string, children: DecListFilter[] };\n\n  /*\n   * loading\n   *\n   *\n   */\n  set loading(v) {\n\n    this._loading = v;\n\n    if (this.filter) {\n\n      this.filter.loading = v;\n\n    }\n\n  }\n\n  get loading() {\n    return this._loading;\n  }\n\n  /*\n   * filterGroups\n   *\n   *\n   */\n  get filterGroups(): FilterGroups {\n    return this.filter ? this.filter.filterGroups : [];\n  }\n\n  /*\n   * selectedCollapsable\n   *\n   *\n   */\n  selectedCollapsable;\n\n  /*\n   * report\n   *\n   *\n   */\n  report;\n\n  /*\n   * isLastPage\n   *\n   *\n   */\n  isLastPage: boolean;\n\n  /*\n  * selectedTab\n  *\n  *\n  */\n  selectedTab: any;\n\n  /*\n  * previousSelectedTab\n  *\n  *\n  */\n  previousSelectedTab: any;\n\n  /*\n   * filterData\n   *\n   *\n   */\n  private filterData: Subject<FilterData> = new Subject<FilterData>();\n\n  /*\n   * _loading;\n   *\n   *\n   */\n  private _loading = true;\n\n  /*\n   * clearAndReloadReport\n   *\n   *\n   */\n  private clearAndReloadReport;\n\n  /*\n   * filterSubscription\n   *\n   *\n   */\n  private filterSubscription: Subscription;\n\n  /*\n   * reactiveReport\n   *\n   *\n   */\n  private reactiveReport: Observable<any>;\n\n  /*\n   * reactiveReportSubscription\n   *\n   *\n   */\n  private reactiveReportSubscription: Subscription;\n\n  /*\n   * scrollableContainer\n   *\n   *\n   */\n  private scrollableContainer: Element;\n\n  /*\n   * scrollEventEmiter\n   *\n   *\n   */\n  private scrollEventEmiter = new EventEmitter<any>();\n\n  /*\n   * scrollEventEmiterSubscription\n   *\n   *\n   */\n  private scrollEventEmiterSubscription: Subscription;\n\n  /*\n   * tabsChangeSubscription\n   *\n   *\n   */\n  private tabsChangeSubscription: Subscription;\n\n  /*\n   * tableSortSubscription\n   *\n   *\n   */\n  private tableSortSubscription: Subscription;\n\n  /*\n   * payload\n   *\n   *\n   */\n  private payload: DecFilter;\n\n  /*\n   * _endpoint internall\n   *\n   *\n   */\n  private _endpoint: string;\n\n  /*\n   * _filter\n   *\n   *\n   */\n  private _filter: DecListFilterComponent;\n\n  /*\n   * _name\n   *\n   *\n   */\n  private _name: string;\n\n  /*\n   * _givenRows\n   *\n   *\n   */\n  private _givenRows: any[];\n\n  /*\n   * customFetchMethod\n   *\n   * method used to fetch data from back-end\n   */\n  @Input() customFetchMethod: DecListFetchMethod;\n\n  /*\n   * columnsSortConfig\n   *\n   * used to get a sorted list from backend\n   * can be pased via attribute to sort the first load\n   */\n  @Input() columnsSortConfig;\n\n  /*\n   * disableShowMoreButton\n   *\n   * used to hide the show more button\n   */\n  @Input() disableShowMoreButton: boolean;\n\n  /*\n   * endpoint\n   *\n   *\n   */\n  @Input()\n  set endpoint(v: string) {\n    if (this._endpoint !== v) {\n      this._endpoint = (v[0] && v[0] === '/') ? v.replace('/', '') : v;\n    }\n  }\n\n  get endpoint(): string {\n    return this._endpoint;\n  }\n\n  /*\n   * name\n   *\n   *\n   */\n  @Input()\n  set name(v: string) {\n    if (this._name !== v) {\n      this._name = v;\n      this.setFiltersComponentsBasePathAndNames();\n    }\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  /*\n   * rows\n   *\n   *\n   */\n  @Input('rows')\n\n  set rows(rows) {\n    this._givenRows = rows;\n    this.setRows(this._givenRows);\n  }\n\n  get rows() {\n    return this.report ? this.report.result.rows : undefined;\n  }\n\n  /*\n   * limit\n   *\n   *\n   */\n  @Input() limit = 10;\n\n  /*\n   * listMode\n   *\n   *\n   */\n  @Input() listMode;\n\n  /*\n   * scrollableContainerClass\n   *\n   * Where the scroll watcher should be listening\n   */\n  @Input() scrollableContainerClass = 'mat-sidenav-content';\n\n  /*\n   * searchableProperties\n   *\n   * Properties to be searched when using basic search\n   */\n  @Input() searchableProperties: string[];\n\n  /*\n   * showFooter\n   *\n   *\n   */\n  @Input() selected = [];\n\n  /*\n   * showFooter\n   *\n   *\n   */\n  @Input() showFooter = true;\n\n  /*\n   * postSearch\n   *\n   * This middleware is used to trigger events after every search\n   */\n  @Output() postSearch = new EventEmitter<any>();\n\n  /*\n   * rowClick\n   *\n   * Emits an event when a row or card is clicked\n   */\n  @Output() rowClick: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n   * grid\n   *\n   *\n   */\n  @ContentChild(DecListGridComponent) grid: DecListGridComponent;\n\n  /*\n   * table\n   *\n   *\n   */\n  @ContentChild(DecListTableComponent) table: DecListTableComponent;\n\n  /*\n   * filter\n   *\n   *\n   */\n  @ContentChild(DecListFilterComponent)\n  set filter(v: DecListFilterComponent) {\n    if (this._filter !== v) {\n      this._filter = v;\n      this.setFiltersComponentsBasePathAndNames();\n    }\n  }\n\n  get filter() {\n    return this._filter;\n  }\n\n  /*\n   * ngOnInit\n   *\n   *\n   */\n  constructor(\n    private service: DecApiService\n  ) { }\n\n  /*\n   * ngOnInit\n   *\n   * Starts a fresh component and prepare it to run\n   *\n   * - Start the Reactive Report\n   * - Subscribe to the Reactive Report\n   * - Start watching window Scroll\n   * - Ensure unique name\n   */\n  ngOnInit() {\n    this.watchFilterData();\n    this.ensureUniqueName();\n    this.detectListModeBasedOnGridAndTablePresence();\n  }\n\n  /*\n  * ngAfterViewInit\n  *\n  * Wait for the subcomponents to start before run the component\n  *\n  * - Start watching Filter\n  * - Do the first load\n  */\n ngAfterViewInit() {\n   this.watchFilter();\n   this.doFirstLoad();\n   this.detectListMode();\n   this.watchTabsChange();\n   this.watchTableSort();\n   this.registerChildWatchers();\n   this.shareSelectedRowsArray();\n   this.watchScroll();\n   this.watchScrollEventEmitter();\n  }\n\n  /*\n   * ngOnDestroy\n   *\n   * Destroy watcher to free meemory and remove unnecessary triggers\n   *\n   * - Unsubscribe from the Reactive Report\n   * - Stop watching window Scroll\n   * - Stop watching Filter\n   */\n  ngOnDestroy() {\n    this.unsubscribeToReactiveReport();\n    this.stopWatchingScroll();\n    this.stopWatchingFilter();\n    this.stopWatchingTabsChange();\n    this.stopWatchingTableSort();\n    this.stopWatchingScrollEventEmitter();\n  }\n\n  /*\n   * reloadCountReport\n   *\n   */\n  reloadCountReport() {\n\n    if (this.filter && this.filter.filters && this.filter.loadCountReport) {\n\n      const endpoint = this.endpoint[this.endpoint.length - 1] === '/' ? `${this.endpoint}count` : `${this.endpoint}/count`;\n\n      const filters = this.filter.filters;\n\n      const payloadWithSearchableProperties = this.getCountableFilters(filters);\n\n      this.service.post(endpoint, payloadWithSearchableProperties)\n        .subscribe(res => {\n\n          this.countReport = this.mountCountReport(res);\n\n          this.filter.countReport = this.countReport;\n\n        });\n\n    }\n\n  }\n\n  /*\n   * removeItem\n   *\n   * Removes an item from the list\n   */\n  removeItem(ids: number | number[], compareFn = DELETE_COMPARE_FUNCTION, recount = true) {\n\n    if (Array.isArray(ids)) {\n\n      ids.forEach(id => {\n\n        this.removeItem(id, compareFn, false);\n\n      });\n\n    } else {\n\n      const item = this.rows.find((_item) => compareFn(_item, ids));\n\n      if (item) {\n\n          const itemIndex = this.rows.indexOf(item);\n\n          if (itemIndex >= 0) {\n\n            this.rows.splice(itemIndex, 1);\n\n          }\n\n          const selectedItemIndex = this.selected.indexOf(item);\n\n          if (selectedItemIndex >= 0) {\n\n              this.selected.splice(selectedItemIndex, 1);\n\n          }\n\n      }\n\n    }\n\n    if (recount && this.endpoint) {\n\n      this.reloadCountReport();\n\n    }\n\n  }\n\n  /*\n   * restart\n   *\n   * Clear the list and reload the first page\n   */\n  restart() {\n\n    this.loadReport(true);\n    this.resetSelected();\n  }\n\n  /*\n   * showMore\n   *\n   */\n  showMore() {\n\n    return this.loadReport();\n\n  }\n\n  /*\n   * searchCollapsable\n   *\n   * search by collapsable filter\n   */\n  searchCollapsable(filter: DecListFilter) {\n\n    if (this.selectedCollapsable !== filter.uid) {\n\n      this.loadByOpennedCollapse(filter.uid);\n\n    }\n\n  }\n\n  /*\n   * tableAndGridAreSet\n   *\n   * Return true if there are both GRID and TABLE definition inside the list\n   */\n  tableAndGridAreSet() {\n    return this.grid && this.table;\n  }\n\n  /*\n   * toggleListMode\n   *\n   * Changes between GRID and TABLE visualizatoin modes\n   */\n  toggleListMode() {\n\n    this.listMode = this.listMode === 'grid' ? 'table' : 'grid';\n\n    if (this.listMode === 'table') {\n\n      setTimeout(() => {\n\n        this.table.tableComponent.recalculate();\n\n      }, 1);\n\n    }\n\n  }\n\n  /*\n   * getCollapsableCount\n   *\n   * get Collapsable Count from countReport\n   */\n  getCollapsableCount(uid) {\n\n    try {\n\n      return this.countReport[this.selectedTab].children[uid].count;\n\n    } catch (error) {\n\n      return '?';\n\n    }\n\n\n  }\n\n  /*\n   getListMode\n   *\n   *\n   */\n  private getListMode = () => {\n\n    let listMode = this.listMode;\n\n    if (this.filter && this.filter.tabsFilterComponent) {\n\n      if (this.selectedTab && this.selectedTab.listMode) {\n\n        listMode = this.selectedTab.listMode;\n\n      } else {\n\n        listMode = this.table ? 'table' : 'grid';\n\n      }\n\n    }\n\n    return listMode;\n\n  }\n\n  /*\n   mountCountReport\n   *\n   *\n   */\n  private mountCountReport(filtersCounters): CountReport {\n\n    const countReport: CountReport = {\n      count: 0\n    };\n\n    filtersCounters.forEach(item => {\n\n      countReport[item.uid] = {\n\n        count: item.count\n\n      };\n\n      if (item.children) {\n\n        countReport[item.uid].children = this.mountCountReport(item.children);\n\n      }\n\n    });\n\n    return countReport;\n\n  }\n\n  /*\n   * getCountableFilters\n   *\n   * Get the search filter, trnsforme the search params into the searchable properties and inject it in every filter configured in dec-filters\n   *\n   * The result is used to call the count endpoint and return the amount of reccords found in every tab/collapse\n   *\n   */\n  private getCountableFilters(filters) {\n\n    const filterGroupsWithoutTabs = this.filter.filterGroupsWithoutTabs || [{ filters: [] }];\n\n    const filtersPlusSearch = filters.map(decFilter => {\n\n      const decFilterFiltersPlusSearch = JSON.parse(JSON.stringify(decFilter));\n\n      if (decFilterFiltersPlusSearch.filters) {\n\n        const tabFiltersCopy = JSON.parse(JSON.stringify(decFilterFiltersPlusSearch.filters));\n\n        decFilterFiltersPlusSearch.filters = JSON.parse(JSON.stringify(filterGroupsWithoutTabs));\n\n        decFilterFiltersPlusSearch.filters.forEach(filterGroup => {\n\n          filterGroup.filters.push(...tabFiltersCopy);\n\n        });\n\n      } else if (decFilterFiltersPlusSearch.children) {\n\n        decFilterFiltersPlusSearch.children = this.getCountableFilters(decFilterFiltersPlusSearch.children);\n\n      }\n\n      return {\n        uid: decFilterFiltersPlusSearch.uid,\n        filters: decFilterFiltersPlusSearch.filters,\n        children: decFilterFiltersPlusSearch.children,\n      };\n\n    });\n\n    return this.ensureFilterValuesAsArray(filtersPlusSearch);\n\n  }\n\n  /*\n   * ensureFilterValuesAsArray\n   *\n   * Get an array of filtergroups and set the filter values to array if not\n   *\n   */\n  private ensureFilterValuesAsArray(filterGroups: any = []) {\n\n    return filterGroups.map(decListFilter => {\n\n      if (decListFilter.filters) {\n\n        this.appendFilterGroupsBasedOnSearchableProperties(decListFilter.filters);\n\n        decListFilter.filters = decListFilter.filters.map(filterGroup => {\n\n\n          filterGroup.filters = filterGroup.filters.map(filter => {\n\n            filter.value = Array.isArray(filter.value) ? filter.value : [filter.value];\n\n            return filter;\n\n          });\n\n          return filterGroup;\n\n        });\n\n      }\n\n      return decListFilter;\n\n    });\n\n  }\n\n  /*\n   * actByScrollPosition\n   *\n   * This method detect if there is scrooling action on window to fetch and show more rows when the scrolling down.\n   */\n  private actByScrollPosition = ($event) => {\n\n    if ($event['path']) {\n\n      const elementWithCdkOverlayClass = $event['path'].find(path => {\n\n        const className = path['className'] || '';\n\n        const insideOverlay = className.indexOf('cdk-overlay') >= 0;\n\n        const insideFullscreanDialogContainer = className.indexOf('fullscrean-dialog-container') >= 0;\n\n        return insideOverlay || insideFullscreanDialogContainer;\n\n      });\n\n      if (!elementWithCdkOverlayClass) { // avoid closing filter from any open dialog\n\n        if (!this.isLastPage) {\n\n          const target: any = $event['target'];\n\n          const limit = target.scrollHeight - target.clientHeight;\n\n          if (target.scrollTop >= (limit - 16)) {\n\n            this.showMore();\n\n          }\n\n        }\n      }\n\n    }\n\n  }\n\n  /*\n   * detectListMode\n   *\n   getListMode input\n   */\n  private detectListMode() {\n\n    this.getListMode();\n\n  }\n\n  /*\n   * detectListModeBasedOnGridAndTablePresence()\n   *\n   * Set the list mode based on declaration of table and grid. This is necessary to bootastrap the component with only grid or only table\n   * This only work if no mode is provided by @Input otherwise the @Input value will be used\n   */\n  private detectListModeBasedOnGridAndTablePresence() {\n\n    this.listMode = this.listMode ? this.listMode : this.table ? 'table' : 'grid';\n\n  }\n\n  /*\n   * emitScrollEvent\n   *\n   * Emits scroll event when not loading\n   */\n  private emitScrollEvent = ($event) => {\n\n    if (!this.loading) {\n\n      this.scrollEventEmiter.emit($event);\n\n    }\n\n  }\n\n  /*\n   * isTabsFilterDefined\n   *\n   * Return true if the Tabs Filter is defined inside the list\n   */\n  private isTabsFilterDefined() {\n    return this.filter && this.filter.tabsFilterComponent;\n  }\n\n  /*\n   * doFirstLoad\n   *\n   * This method is called after the view and inputs are initialized\n   *\n   * This is the first call to get data\n   */\n  private doFirstLoad() {\n    if (this.isTabsFilterDefined()) {\n      this.doFirstLoadByTabsFilter();\n    } else {\n      this.doFirstLoadLocally(true);\n    }\n  }\n\n  /*\n   * doFirstLoadByTabsFilter\n   *\n   * use the tabs filter to trigger the first load\n   *\n   * This way the default tab and filter are selected by the dectabsFilter component\n   *\n   */\n  private doFirstLoadByTabsFilter() {\n    this.filter.tabsFilterComponent.doFirstLoad();\n  }\n\n  /*\n   * doFirstLoadLocally\n   *\n   * If no filter are defined, just call th eendpoint without filters\n   */\n  private doFirstLoadLocally(refresh) {\n    this.loadReport(refresh);\n  }\n\n  /*\n   * ensureUniqueName\n   *\n   * We must provide an unique name to the list so we can persist its state in the URL without conflicts\n   *\n   */\n  private ensureUniqueName() {\n    if (!this.name) {\n      const error = 'ListComponentError: The list component must have an unique name to be used in url filter.'\n        + ' Please, ensure that you have passed an unique namme to the component.';\n      throw new Error(error);\n    }\n  }\n\n  /*\n   * loadByOpennedCollapse\n   *\n   * This method is triggered when a collapsable table is open.\n   *\n   */\n  private loadByOpennedCollapse(filterUid) {\n\n    const filter = this.collapsableFilters.children.find(item => item.uid === filterUid);\n\n    const filterGroup: FilterGroup = { filters: filter.filters };\n\n    this.loadReport(true, filterGroup);\n\n    setTimeout(() => {\n\n      this.selectedCollapsable = filter.uid;\n\n    }, 0);\n\n\n  }\n\n  /*\n   * loadReport\n   *\n   * This mehtod gather the filter info and endpoint and call the back-end to fetch the data\n   *\n   * If the suctomFetchMethod is used, its call it\n   *\n   * If only the rows are passed, the method just use it as result\n   */\n  private loadReport(clearAndReloadReport?: boolean, collapseFilterGroups?: FilterGroup): Promise<any> {\n\n    return new Promise((res, rej) => {\n\n      if (clearAndReloadReport && this.rows) {\n\n        this.resetSelected();\n        this.setRows(this.rows);\n\n      }\n\n      this.clearAndReloadReport = clearAndReloadReport;\n\n      this.loading = true;\n\n      if (this.endpoint) {\n\n        this.mountPayload(clearAndReloadReport, collapseFilterGroups)\n          .then(payload => {\n\n            this.payload = payload;\n\n            this.filterData.next({ endpoint: this.endpoint, payload: this.payload, cbk: res, clear: clearAndReloadReport });\n\n          });\n\n\n      } else if (this.customFetchMethod) {\n\n        this.mountPayload(clearAndReloadReport, collapseFilterGroups)\n          .then(payload => {\n\n            this.payload = payload;\n\n            this.filterData.next();\n\n          });\n\n      } else if (this.rows) {\n\n        console.log('DecList:: Local filter not implemented. Talk to Bruno to see how to do it!');\n\n      } else {\n\n        setTimeout(() => {\n\n          rej('No endpoint, customFetchMethod or rows set');\n\n          this.loading = false;\n\n        }, 1);\n\n      }\n\n    });\n\n  }\n\n  private mountPayload(clearAndReloadReport: boolean = false, collapseFilterGroups?) {\n\n    return new Promise((resolve, reject) => {\n\n      const searchFilterGroups = this.filter ? this.filter.filterGroups : undefined;\n\n      const filterGroups = this.appendFilterGroupsToEachFilterGroup(searchFilterGroups, collapseFilterGroups);\n\n      const payload: DecFilter = {};\n\n      payload.limit = this.limit;\n\n      if (filterGroups) {\n\n        payload.filterGroups = filterGroups;\n\n      }\n\n      if (this.columnsSortConfig) {\n\n        payload.sort = this.columnsSortConfig;\n\n      }\n\n      if (!clearAndReloadReport && this.report) {\n\n        payload.page = this.report.page + 1;\n\n        payload.limit = this.report.limit;\n\n      }\n\n      resolve(payload);\n\n    });\n\n  }\n\n  /*\n   * appendFilterGroupsToEachFilterGroup\n   *\n   * Gets an array of filterGroup and in each filterGroup in this array appends the second filterGroup filters.\n   */\n  private appendFilterGroupsToEachFilterGroup(filterGroups: FilterGroups, filterGroupToAppend: FilterGroup) {\n\n    if (filterGroupToAppend) {\n\n      if (filterGroups && filterGroups.length > 0) {\n\n        filterGroups.forEach(group => {\n\n          group.filters.push(...filterGroupToAppend.filters);\n\n        });\n\n      } else {\n\n        filterGroups = [filterGroupToAppend];\n\n      }\n\n    }\n\n    return filterGroups || [];\n\n  }\n\n  /*\n   * setFiltersComponentsBasePathAndNames\n   *\n   */\n  private setFiltersComponentsBasePathAndNames() {\n\n    if (this.filter) {\n\n      this.filter.name = this.name;\n\n\n      if (this.filter.tabsFilterComponent) {\n\n        this.filter.tabsFilterComponent.name = this.name;\n\n        if (this.customFetchMethod) {\n\n          this.filter.tabsFilterComponent.customFetchMethod = this.customFetchMethod;\n\n        } else {\n\n          this.filter.tabsFilterComponent.service = this.service;\n\n        }\n\n\n\n      }\n\n    }\n\n  }\n\n  /*\n   * setRows\n   *\n   * Sets the current table rows\n   *\n   */\n  private setRows(rows = this._givenRows || []) {\n\n    this.report = {\n\n      page: 1,\n\n      result: {\n\n        rows: rows,\n\n        count: rows.length\n\n      }\n    };\n\n    this.detectLastPage(rows, rows.length);\n\n    this.updateContentChildren();\n  }\n\n  /*\n   * watchScrollEventEmitter\n   *\n   *\n   */\n  private watchScrollEventEmitter() {\n\n    this.scrollEventEmiterSubscription = this.scrollEventEmiter\n      .pipe(\n        debounceTime(150),\n        distinctUntilChanged()\n      ).subscribe(this.actByScrollPosition);\n\n  }\n\n  /*\n   * stopWatchingScrollEventEmitter\n   *\n   *\n   */\n  private stopWatchingScrollEventEmitter() {\n\n    if (this.scrollEventEmiterSubscription) {\n\n      this.scrollEventEmiterSubscription.unsubscribe();\n\n    }\n\n  }\n\n  /*\n   * watchFilterData\n   *\n   */\n  private watchFilterData() {\n    this.reactiveReport = this.filterData\n      .pipe(\n        debounceTime(150), // avoid muiltiple request when the filter or tab change too fast\n        switchMap((filterData: FilterData) => {\n\n          const observable = new BehaviorSubject<any>(undefined);\n\n          const fetchMethod: DecListFetchMethod = this.customFetchMethod || this.service.get;\n\n          const endpoint = filterData ? filterData.endpoint : undefined;\n\n          const payloadWithSearchableProperties = this.getPayloadWithSearchTransformedIntoSearchableProperties(this.payload);\n\n        if (filterData && filterData.clear) {\n          this.setRows();\n        }\n\n          fetchMethod(endpoint, payloadWithSearchableProperties)\n            .subscribe(res => {\n\n              observable.next(res);\n\n              if (filterData && filterData.cbk) {\n\n                setTimeout(() => { // wait for subscribers to refresh their rows\n\n                  filterData.cbk(new Promise((resolve, rej) => {\n\n                    resolve(res);\n\n                  }));\n\n                }, 1);\n              }\n              return res;\n            });\n\n          return observable;\n        })\n\n      );\n    this.subscribeToReactiveReport();\n  }\n\n  private getPayloadWithSearchTransformedIntoSearchableProperties(payload) {\n\n    const payloadCopy = { ...payload };\n\n    if (payloadCopy.filterGroups && this.searchableProperties) {\n\n      payloadCopy.filterGroups = [...payload.filterGroups];\n\n      this.appendFilterGroupsBasedOnSearchableProperties(payloadCopy.filterGroups);\n\n      return payloadCopy;\n\n    } else {\n\n      return this.payload;\n\n    }\n\n  }\n\n  private appendFilterGroupsBasedOnSearchableProperties(filterGroups) {\n\n    const filterGroupsThatContainsBasicSearch = this.getFilterGroupsThatContainsTheBasicSearch(filterGroups);\n\n    if (filterGroupsThatContainsBasicSearch && filterGroupsThatContainsBasicSearch.length > 0) {\n\n      filterGroupsThatContainsBasicSearch.forEach(filterGroupThatContainsBasicSearch => {\n\n        this.removeFilterGroup(filterGroups, filterGroupThatContainsBasicSearch);\n\n        const basicSearch = filterGroupThatContainsBasicSearch.filters.find(filter => filter.property === 'search');\n\n        const basicSearchIndex = filterGroupThatContainsBasicSearch.filters.indexOf(basicSearch);\n\n        this.searchableProperties.forEach(property => {\n\n          const newFilterGroup: FilterGroup = {\n            filters: [...filterGroupThatContainsBasicSearch.filters]\n          };\n\n          newFilterGroup.filters[basicSearchIndex] = {\n            property: property,\n            value: [basicSearch.value]\n          };\n\n          filterGroups.push(newFilterGroup);\n\n        });\n\n      });\n\n    }\n\n  }\n\n  private removeFilterGroup(filterGroups, filterGroupThatContainsBasicSearch) {\n\n    const filterGroupThatContainsBasicSearchIndex = filterGroups.indexOf(filterGroupThatContainsBasicSearch);\n\n    filterGroups.splice(filterGroupThatContainsBasicSearchIndex, 1);\n\n  }\n\n  private getFilterGroupsThatContainsTheBasicSearch(filterGroups) {\n\n    return filterGroups.filter(filterGroup => {\n\n      const basicSerchFilter = filterGroup.filters ? filterGroup.filters.find(filter => filter.property === 'search') : undefined;\n\n      return basicSerchFilter ? true : false;\n\n    });\n\n  }\n\n  /*\n   * subscribeToReactiveReport\n   *\n   */\n  private subscribeToReactiveReport() {\n    this.reactiveReportSubscription = this.reactiveReport\n      .pipe(\n        tap(res => {\n          if (res) {\n            this.loading = false;\n          }\n        })\n      )\n      .subscribe(data => {\n        if (data && data.result && data.result.rows) {\n\n          if (!this.clearAndReloadReport) {\n            data.result.rows = this.report.result.rows.concat(data.result.rows);\n          }\n\n          this.report = data;\n\n          this.postSearch.emit(data);\n\n          this.updateContentChildren();\n\n          this.detectLastPage(data.result.rows, data.result.count);\n\n        }\n      });\n  }\n\n  private detectLastPage(rows, count) {\n\n    const numberOfrows = rows.length;\n\n    const emptList = numberOfrows === 0;\n\n    const singlePageList = numberOfrows === count;\n\n    this.isLastPage = emptList || singlePageList;\n\n  }\n\n  /*\n   * unsubscribeToReactiveReport\n   *\n   */\n  private unsubscribeToReactiveReport() {\n    if (this.reactiveReportSubscription) {\n      this.reactiveReportSubscription.unsubscribe();\n    }\n  }\n\n  /*\n   * updateContentChildren\n   *\n   */\n  private updateContentChildren() {\n\n    const rows = this.endpoint ? this.report.result.rows : this.rows;\n\n    if (this.grid) {\n      this.grid.rows = rows;\n    }\n\n    if (this.table) {\n      this.table.rows = rows;\n    }\n\n    if (this.filter) {\n      this.filter.count = this.report.result.count;\n    }\n\n  }\n\n  /*\n   * registerChildWatchers\n   *\n   * Watch for children outputs\n   */\n  private registerChildWatchers() {\n\n    if (this.grid) {\n      this.watchGridRowClick();\n    }\n\n    if (this.table) {\n      this.watchTableRowClick();\n    }\n\n  }\n\n  /*\n   * shareSelectedRowsArray\n   *\n   * Share the selected array between views\n   */\n  private shareSelectedRowsArray() {\n\n    setTimeout(() => {\n      if (this.table) {\n        this.table.selected = this.selected;\n      }\n\n      if (this.grid) {\n        this.grid.selected = this.selected;\n      }\n    }, 0);\n\n  }\n\n  /*\n   * watchGridRowClick\n   *\n   */\n  private watchGridRowClick() {\n    this.grid.rowClick.subscribe(($event) => {\n      this.rowClick.emit($event);\n    });\n  }\n\n  /*\n   * watchTableRowClick\n   *\n   */\n  private watchTableRowClick() {\n    this.table.rowClick.subscribe(($event) => {\n      this.rowClick.emit($event);\n    });\n  }\n\n  /*\n   * watchFilter\n   *\n   */\n  private watchFilter() {\n    if (this.filter) {\n      this.filterSubscription = this.filter.search.subscribe(event => {\n\n        const tabChanged = !this.previousSelectedTab || (this.previousSelectedTab !== this.selectedTab);\n\n        const filterModeChanged = this.filterMode !== event.filterMode;\n\n        if (!this.previousSelectedTab || tabChanged) {\n\n          this.previousSelectedTab = this.selectedTab;\n\n          this.setRows(); // if changing tabs, clear the results before showing the rows because it is done only after fetching the data\n\n        }\n\n        if (filterModeChanged) {\n\n          this.filterMode = event.filterMode;\n\n        }\n\n        if (this.filterMode === 'tabs') {\n\n          this.selectedCollapsable = undefined;\n\n          this.collapsableFilters = undefined;\n\n          this.loadReport(true).then((res) => {\n\n            if (event.recount) {\n\n              this.reloadCountReport();\n\n            }\n\n          });\n\n        } else {\n\n          if (!this.countReport || event.recount) {\n\n            this.reloadCountReport();\n\n          }\n\n          if (this.selectedCollapsable && !tabChanged) {\n\n            this.loadByOpennedCollapse(this.selectedCollapsable);\n\n          } else {\n\n            this.collapsableFilters = {\n              tab: this.selectedTab,\n              children: event.children ? event.children : []\n            };\n\n            this.selectedCollapsable = undefined;\n\n          }\n\n        }\n\n      });\n    }\n  }\n\n  /*\n   * watchFilter\n   *\n   */\n  private stopWatchingFilter() {\n    if (this.filterSubscription) {\n      this.filterSubscription.unsubscribe();\n    }\n  }\n\n  /*\n   * watchScroll\n   *\n   */\n  private watchScroll() {\n    setTimeout(() => {\n      this.scrollableContainer = document.getElementsByClassName(this.scrollableContainerClass)[0];\n      if (this.scrollableContainer) {\n        this.scrollableContainer.addEventListener('scroll', this.emitScrollEvent, true);\n      }\n    }, 1);\n  }\n\n  /*\n   * stopWatchingScroll\n   *\n   */\n  private stopWatchingScroll() {\n    if (this.scrollableContainer) {\n      this.scrollableContainer.removeEventListener('scroll', this.emitScrollEvent, true);\n    }\n  }\n\n  /*\n   * subscribeToReactiveReport\n   *\n   */\n  private watchTabsChange() {\n    if (this.filter && this.filter.tabsFilterComponent) {\n      this.selectedTab = this.filter.tabsFilterComponent.selectedTab;\n      this.tabsChangeSubscription = this.filter.tabsFilterComponent.tabChange.subscribe(tab => {\n        this.selectedTab = tab;\n        this.detectListMode();\n      });\n    }\n  }\n\n  /*\n   * subscribeToTabsChange\n   *\n   */\n  private stopWatchingTabsChange() {\n    if (this.tabsChangeSubscription) {\n      this.tabsChangeSubscription.unsubscribe();\n    }\n  }\n\n  /*\n   * watchTableSort\n   *\n   */\n  private watchTableSort() {\n    if (this.table) {\n\n      this.tableSortSubscription = this.table.sort.subscribe(columnsSortConfig => {\n\n        if (this.columnsSortConfig !== columnsSortConfig) {\n\n          this.columnsSortConfig = columnsSortConfig;\n\n          if (this.collapsableFilters) {\n\n            this.loadByOpennedCollapse(this.selectedCollapsable);\n\n          } else {\n\n            this.loadReport(true);\n\n          }\n\n        }\n\n      });\n    }\n  }\n\n  /*\n   * stopWatchingTableSort\n   *\n   */\n  private stopWatchingTableSort() {\n    if (this.tableSortSubscription) {\n      this.tableSortSubscription.unsubscribe();\n    }\n  }\n\n\n  /*\n  * Reset Selected Rows in Table\n  *\n  */\n private resetSelected() {\n  this.selected = [];\n  this.shareSelectedRowsArray();\n }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { DecListTableComponent } from './list-table.component';\nimport { DecListTableColumnComponent } from './../list-table-column/list-table-column.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    NgxDatatableModule,\n    TranslateModule\n  ],\n  declarations: [\n    DecListTableComponent,\n    DecListTableColumnComponent,\n  ],\n  exports: [\n    DecListTableComponent,\n    DecListTableColumnComponent,\n  ],\n})\nexport class DecListTableModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-footer',\n  template: `<ng-content></ng-content>\n`,\n  styles: [``]\n})\nexport class DecListFooterComponent {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecListAdvancedFilterComponent } from './list-advanced-filter.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    TranslateModule,\n    FlexLayoutModule,\n  ],\n  declarations: [DecListAdvancedFilterComponent],\n  exports: [DecListAdvancedFilterComponent],\n})\nexport class DecListAdvancedFilterModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-spinner',\n  template: `<div class=\"decora-loading-spinner-wrapper\">\n  <div class=\"decora-loading-spinner transparent-bg\">\n    <div class=\"center\">\n      <div class=\"spinner-wrapper\">\n        <div class=\"spinner\">\n          <div class=\"inner\">\n            <div class=\"gap\"></div>\n            <div class=\"left\">\n              <div class=\"half-circle\"></div>\n            </div>\n            <div class=\"right\">\n              <div class=\"half-circle\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n`,\n  styles: [`.decora-loading-spinner-wrapper{display:flex;justify-content:center;align-items:center}`]\n})\nexport class DecSpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSpinnerComponent } from './dec-spinner.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [DecSpinnerComponent],\n  exports: [DecSpinnerComponent]\n})\nexport class DecSpinnerModule { }\n","import { Component, OnInit, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-actions',\n  template: `<ng-content></ng-content>>\n`,\n  styles: [``]\n})\nexport class DecListActionsComponent implements OnInit {\n\n  @ContentChild(TemplateRef) template: TemplateRef<any>;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecListActionsComponent } from './list-actions.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [DecListActionsComponent],\n  exports: [DecListActionsComponent]\n})\nexport class DecListActionsModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { MatButtonModule, MatIconModule, MatSnackBarModule, MatExpansionModule } from '@angular/material';\n\nimport { DecListFilterModule } from './list-filter/list-filter.module';\n\nimport { DecListComponent } from './list.component';\nimport { DecListGridComponent } from './list-grid/list-grid.component';\nimport { DecListTableModule } from './list-table/list-table.module';\nimport { DecListFooterComponent } from './list-footer/list-footer.component';\nimport { DecListAdvancedFilterModule } from './list-advanced-filter/list-advanced-filter.module';\nimport { DecSpinnerModule } from './../dec-spinner/dec-spinner.module';\nimport { DecListActionsModule } from './list-actions/list-actions.module';\nimport { DecLabelModule } from './../dec-label/dec-label.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecLabelModule,\n    FlexLayoutModule,\n    MatExpansionModule,\n    MatButtonModule,\n    MatIconModule,\n    MatSnackBarModule,\n    NgxDatatableModule,\n    RouterModule,\n    TranslateModule,\n    DecListAdvancedFilterModule,\n    DecListFilterModule,\n    DecListTableModule,\n    DecSpinnerModule,\n  ],\n  declarations: [\n    DecListComponent,\n    DecListGridComponent,\n    DecListFooterComponent,\n  ],\n  exports: [\n    DecListComponent,\n    DecListGridComponent,\n    DecListTableModule,\n    DecListFooterComponent,\n    DecListFilterModule,\n    DecListAdvancedFilterModule,\n    DecListActionsModule,\n  ],\n})\nexport class DecListModule { }\n","import { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'dec-page-forbiden',\n  template: `<div class=\"page-forbiden-wrapper\">\n  <h1>{{'label.page-forbiden' | translate}}</h1>\n  <p>{{'label.page-forbiden-help' | translate}}</p>\n  <p><small>Ref: {{previousUrl}}</small></p>\n  <img src=\"http://s3-sa-east-1.amazonaws.com/static-files-prod/platform/decora3.png\">\n</div>\n`,\n  styles: [`.page-forbiden-wrapper{padding-top:100px;text-align:center}img{width:100px}`]\n})\nexport class DecPageForbidenComponent {\n\n  previousUrl: string;\n\n  constructor(private router: Router) {\n    this.router.events\n    .pipe(\n      filter(event => event instanceof NavigationEnd)\n    )\n    .subscribe((e: NavigationEnd) => {\n      this.previousUrl = document.referrer || e.url;\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecPageForbidenComponent } from './page-forbiden.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecPageForbidenComponent\n  ],\n  exports: [\n    DecPageForbidenComponent\n  ]\n})\nexport class DecPageForbidenModule { }\n","import { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'dec-page-not-found',\n  template: `<div class=\"page-not-found-wrapper\">\n  <h1>{{'label.page-not-found' | translate}}</h1>\n  <p>{{'label.page-not-found-help' | translate}}</p>\n  <p>{{previousUrl}}</p>\n  <img src=\"http://s3-sa-east-1.amazonaws.com/static-files-prod/platform/decora3.png\">\n</div>\n`,\n  styles: [`.page-not-found-wrapper{padding-top:100px;text-align:center}img{width:100px}`]\n})\nexport class DecPageNotFoundComponent {\n\n  previousUrl: string;\n\n  constructor(private router: Router) {\n    router.events\n    .pipe(\n      filter(event => event instanceof NavigationEnd)\n    )\n    .subscribe((e: NavigationEnd) => {\n        this.previousUrl = e.url;\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecPageNotFoundComponent } from './page-not-found.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecPageNotFoundComponent\n  ],\n  exports: [\n    DecPageNotFoundComponent\n  ]\n})\nexport class DecPageNotFoundModule { }\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-product-measures-comparison',\n  template: `<dec-grid gap=\"0\">\n\n  <dec-grid-row>\n    <dec-grid-column>\n      <div>\n        <button mat-button class=\"dec-color-grey\">\n          <mat-icon>straighten</mat-icon>\n          <span>{{ 'label.measures' | translate }}</span>\n        </button>\n      </div>\n    </dec-grid-column>\n  </dec-grid-row>\n\n  <dec-grid-row>\n    <dec-grid-column span=\"12\">\n      <div fxLayout=\"column\" fxLayoutGap=\"1px\" class=\"dec-measure-list\">\n        <div fxLayout=\"row\">\n          <div fxFlex>\n            <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n              <div></div>\n            </div>\n          </div>\n          <!-- <div fxFlex>\n              <div fxLayout=\"row\" fxLayoutAlign=\"end center\">\n                <div></div>\n              </div>\n            </div> -->\n          <div fxFlex>\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n              <div class=\"dec-subhead dec-color-grey\">{{ 'label.product' | translate }}</div>\n            </div>\n          </div>\n          <div fxFlex>\n            <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n              <div class=\"dec-subhead dec-color-grey\">{{ 'label.model' | translate }}</div>\n            </div>\n          </div>\n        </div>\n        <div fxFlex *ngFor=\"let measure of formatedMeasures\" class=\"dec-measure-list-row\">\n          <div fxLayout=\"row\">\n            <div fxFlex>\n              <div fxLayout=\"row\" fxLayoutAlign=\"start center\">\n                <div>\n                  {{measure.label | translate}}\n                </div>\n              </div>\n            </div>\n            <div fxFlex>\n              <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"5px\">\n                <div>\n                  {{measure.product}}\n                </div>\n                <div> | </div>\n                <div>\n                  {{ measure.productIn}}\n                </div>\n              </div>\n            </div>\n            <div fxFlex>\n              <div fxLayout=\"row\" fxLayoutAlign=\"center center\" fxLayoutGap=\"5px\">\n                <div>\n                  {{measure.model}}\n                </div>\n                <div> | </div>\n                <div>\n                  {{measure.modelIn}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </dec-grid-column>\n  </dec-grid-row>\n\n</dec-grid>`,\n  styles: [`.dec-measure-list .dec-measure-list-row{font-size:13px;padding:8px 16px;line-height:32px}.dec-measure-list .dec-measure-list-row:nth-child(odd){background:#f4f4f4}.dec-measure-list .dec-measure-list-row:nth-child(even){background:#fbfbfb}.dec-subhead{font-size:13px;font-weight:400;margin:10px 0}`]\n})\nexport class DecProductMeasuresComparisonComponent implements OnInit {\n\n  @Input()\n  set measures(v) {\n    if (v) {\n      this._measures = v;\n      this.formatMasures(v);\n    }\n  }\n\n  get measures() {\n    return this._measures;\n  }\n\n  private _measures;\n  formatedMeasures;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  formatMasures(measures) {\n    this.formatedMeasures = [];\n\n    const width = {\n      label: 'label.cubeX',\n      product: this.printMeasure(this.measures.referenceCubeX.toFixed(2)),\n      model: this.printMeasure(this.measures.modelCubeX),\n      productIn: this.printMeasureInches(this.measures.referenceCubeX),\n      modelIn: this.printMeasureInches(this.measures.modelCubeX)\n    };\n\n    const depth = {\n      label: 'label.cubeY',\n      product: this.printMeasure(this.measures.referenceCubeY.toFixed(2)),\n      model: this.printMeasure(this.measures.modelCubeY),\n      productIn: this.printMeasureInches(this.measures.referenceCubeY),\n      modelIn: this.printMeasureInches(this.measures.modelCubeY)\n    };\n\n    const height = {\n      label: 'label.cubeZ',\n      product: this.printMeasure(this.measures.referenceCubeZ.toFixed(2)),\n      model: this.printMeasure(this.measures.modelCubeZ),\n      productIn: this.printMeasureInches(this.measures.referenceCubeZ),\n      modelIn: this.printMeasureInches(this.measures.modelCubeZ)\n    };\n\n    this.formatedMeasures.push(width);\n    this.formatedMeasures.push(depth);\n    this.formatedMeasures.push(height);\n  }\n\n\n  private printMeasure(measure: number): string {\n    if (measure) {\n      return measure + ' cm';\n    }\n    return '-';\n  }\n\n  private printMeasureInches(measure: number): string {\n    if (measure) {\n      return (Math.round(measure * 0.39370)).toFixed(2) + ' in';\n    }\n    return '-';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecProductMeasuresComparisonComponent } from './dec-product-measures-comparison.component';\nimport { MatButtonModule, MatIconModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecGridModule } from './../dec-grid/dec-grid.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatIconModule,\n    TranslateModule,\n    DecGridModule,\n    FlexLayoutModule\n  ],\n  declarations: [\n    DecProductMeasuresComparisonComponent\n  ],\n  exports: [\n    DecProductMeasuresComparisonComponent\n  ]\n})\nexport class DecProductMeasuresComparisonModule { }\n","import { Component, HostListener, Input, OnInit, Output, EventEmitter, Renderer  } from '@angular/core';\n\nconst FALLBACK_IMAGE = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAALSURBVAjXY2BgAAAAAwABINWUxwAAAABJRU5' +\n'ErkJggg==';\n\nconst LOADING_IMAGE = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCIg' +\n'Y2xhc3M9InVpbC1yaW5nIj48cGF0aCBmaWxsPSJub25lIiBjbGFzcz0iYmsiIGQ9Ik0wIDBoMTAwdjEwMEgweiIvPjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9IjQ1IiBzdHJva2UtZGFzaGFycmF5PSIyMjYuMTk1IDU2LjU0OSI' +\n'gc3Ryb2tlPSIjMjMyZTM4IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEwIj48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgdmFsdWVzPSIwIDc1IDc1OzE4MCA3NSA3NT' +\n'szNjAgNzUgNzU7IiBrZXlUaW1lcz0iMDswLjU7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwcyIvPjwvY2lyY2xlPjwvc3ZnPg==';\n\n@Component({\n  selector: 'dec-product-spin',\n  template: `<div class=\"product-spinner-wrapper\" *ngIf=\"scenes\">\n  <div [ngSwitch]=\"loadingImages ? true : false\">\n\n    <div *ngSwitchCase=\"true\" class=\"overlay\">\n      <!-- Loading spinner -->\n      <div [ngStyle]=\"{'background-image':'url(' + loadingImage + ')'}\">{{loaderPercentage()}}%</div>\n    </div>\n\n    <div *ngSwitchCase=\"false\" class=\"overlay\">\n\n      <!-- Overlay over the image (hand icon) -->\n      <img class=\"frame\" *ngIf=\"!onlyModal\" src=\"//s3-sa-east-1.amazonaws.com/static-files-prod/platform/drag-horizontally.png\" alt=\"\" (click)=\"onlyModal ? '' : start($event)\">\n\n    </div>\n\n  </div>\n\n  <div [ngSwitch]=\"started ? true : false\">\n\n    <div *ngSwitchCase=\"true\" class=\"frame\">\n      <!-- Images -->\n      <img *ngFor=\"let scene of scenes; let i = index;\"\n        [src]=\"scene\"\n        draggable=\"false\"\n        class=\"no-drag image-only\"\n        (load)=\"markAsLoaded($event)\"\n        [ngClass]=\"frameShown === i && !loadingImages ? 'current-scene' : 'next-scene'\">\n\n    </div>\n\n    <div *ngSwitchCase=\"false\" class=\"frame\">\n\n      <!-- Placeholder image -->\n      <img\n        [src]=\"scenes[frameShown]\"\n        draggable=\"false\"\n        class=\"no-drag\"\n        (click)=\"onlyModal ? onOpen($event) : start($event)\"\n        [ngClass]=\"{'image-only': onlyModal}\">\n\n      <!-- Loading spinner -->\n      <button\n      *ngIf=\"showOpenDialogButton && !onlyModal\"\n      mat-icon-button\n      (click)=\"onOpen($event)\"\n      [matTooltip]=\"'label.open' | translate\"\n      class=\"dialog-button\"\n      type=\"button\"\n      color=\"default\">\n        <mat-icon aria-label=\"Swap between Reference and Render images\" color=\"primary\" contrastFontWithBg >fullscreen</mat-icon>\n      </button>\n\n    </div>\n\n  </div>\n</div>\n`,\n  styles: [`.product-spinner-wrapper{display:block;position:relative}.product-spinner-wrapper:hover .frame{opacity:1}.product-spinner-wrapper:hover .overlay{display:none}.product-spinner-wrapper .frame{display:block;width:100%;background-size:contain;background-repeat:no-repeat;background-position:center center;opacity:.5;transition:opacity .3s ease;cursor:move}.product-spinner-wrapper .frame.image-only{opacity:1;cursor:pointer}.product-spinner-wrapper .frame .current-scene{display:block}.product-spinner-wrapper .frame .next-scene{display:none}.product-spinner-wrapper .frame img{width:100%}.product-spinner-wrapper .overlay{position:absolute;padding:10px;width:20%;margin-left:40%;margin-top:40%;z-index:1;opacity:.4;transition:opacity .2s ease}.product-spinner-wrapper .frame.loader{width:50%;margin:auto}.product-spinner-wrapper .dialog-button{position:absolute;top:0;right:0}.product-spinner-wrapper .loader-percentage{position:relative;top:47%;width:100%;text-align:center;opacity:.5}`]\n})\nexport class DecProductSpinComponent implements OnInit {\n\n  frameShown: number;\n  scenes: string[];\n  loadingImages: boolean;\n  placeholderScene: string;\n  started: boolean;\n  totalImagesLoaded: number;\n  loadingImage = LOADING_IMAGE;\n\n  @Input() looping = false;\n  @Input() onlyModal = false;\n  @Input() FALLBACK_IMAGE: string = FALLBACK_IMAGE;\n  @Input() startInCenter = false;\n  @Input() showOpenDialogButton = true;\n\n  @Input()\n  set spin(spin: any) {\n    if (spin) {\n      const scenes = this.loadScenes(spin);\n\n      const scenesChanged = !this.scenes || (scenes && this.scenes.join() !== scenes.join());\n\n      if (scenesChanged) {\n        this.resetScenesData(scenes);\n        // this.resetStartPositionBasedOnCompany(spin, scenes);\n      }\n\n      this._spin = spin;\n\n    }\n  }\n\n  get spin(): any {\n    return this._spin;\n  }\n\n  @Output() open = new EventEmitter<any>();\n\n  private scenesLen = 0;\n  private mouseDown = false;\n  private lastMouseEvent: MouseEvent;\n  private containerWidth: number;\n  private interval: number;\n  private positionDiff: number;\n  private _spin: any;\n\n  /*\n  * Listening for mouse events\n  * mouseup in ngOnInit because it used doccument as reference\n  */\n\n  // avoid drag\n  @HostListener('dragstart', ['$event'])\n  onDragStart(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    return false;\n  }\n\n  // mousedown\n  @HostListener('mousedown', ['$event'])\n  onMousedown(event) {\n    event.stopPropagation();\n    this.mouseDown = true;\n    this.lastMouseEvent = event;\n  }\n\n  // mousemove\n  @HostListener('mousemove', ['$event'])\n  onMousemove(event: MouseEvent) {\n    if (this.mouseDown && this.started) {\n\n      this.calculatePosition(event);\n\n      // The width is divided by the amount of images. Moving from 0 to 100 will turn 360Â°\n      if (Math.abs(this.positionDiff) >= this.interval) {\n        if (this.positionDiff < 0) {\n          this.goRight();\n        } else {\n          this.goLeft();\n        }\n        this.lastMouseEvent = event;\n      }\n    }\n  }\n\n  constructor(private renderer: Renderer) {}\n\n  ngOnInit() {\n\n    this.frameShown = 0;\n\n    this.renderer.listenGlobal('document', 'mouseup', (event) => {\n      if (this.mouseDown) {\n        this.mouseDown = false;\n      }\n    });\n\n  }\n\n  markAsLoaded = (event) => {\n    this.totalImagesLoaded++;\n    if (this.totalImagesLoaded === this.scenesLen) {\n      this.placeholderScene = this.scenes[0];\n      this.loadingImages = false;\n    }\n  }\n\n  goLeft = () => {\n    if (this.scenes[this.frameShown - 1]) {\n      this.frameShown--;\n    } else if (this.looping) {\n      this.frameShown = this.scenesLen - 1;\n    }\n  }\n\n  goRight = () => {\n    if (this.scenes[this.frameShown + 1]) {\n      this.frameShown++;\n    } else if (this.looping) {\n      this.frameShown = 0;\n    }\n  }\n\n  start = ($event): void => {\n    this.placeholderScene = LOADING_IMAGE;\n    this.totalImagesLoaded = 0;\n    this.loadingImages = true;\n    this.started = true;\n  }\n\n  loaderPercentage = () => {\n    return (this.scenesLen - this.totalImagesLoaded) > 0 ? ((100 / this.scenesLen) * this.totalImagesLoaded).toFixed(1) : 0;\n  }\n\n  onOpen($event) {\n\n    this.open.emit($event);\n\n  }\n\n  /*\n   *\n   * IMPORTANT\n   *\n   * resetStartPositionBasedOnCompany\n   *\n   * This method is responsible for ensuring the Business Rule of the spin sequence\n   * The Home Depot aka customer 100, have a particular behavior starting 180Âº in the middle\n   *\n  */\n  private resetStartPositionBasedOnCompany(spin, scenes) {\n\n    this.startInCenter = spin.company.id === 100 ? true : false;\n\n    this.startInCenter = this.startInCenter && scenes.length <= 16;\n\n  }\n\n  private resetScenesData(scenes) {\n    this.placeholderScene = scenes[0];\n    this.scenesLen = scenes.length;\n    this.scenes = scenes;\n  }\n\n  private loadScenes(spin) {\n    try {\n      const scenes = this.getUrlsFromSysFiles(spin.data.shots);\n      return scenes && scenes.length > 0 ? scenes : [FALLBACK_IMAGE];\n    } catch (error) {\n      return [FALLBACK_IMAGE];\n    }\n  }\n\n  private calculatePosition(event) {\n    const target: any = event['target'];\n\n    if (this.containerWidth !== target.clientWidth) {\n      this.containerWidth =  target.clientWidth;\n      this.interval = (this.containerWidth / this.scenesLen) / 1.6;\n    }\n\n    this.positionDiff = event.clientX - this.lastMouseEvent.clientX;\n  }\n\n  private getUrlsFromSysFiles(sysFiles) {\n    if (!sysFiles) {\n      return;\n    } else {\n      return sysFiles.map(file => {\n        return file.renderFile.fileUrl;\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule, MatIconModule, MatTooltipModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecProductSpinComponent } from './product-spin.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecProductSpinComponent\n  ],\n  exports: [\n    DecProductSpinComponent\n  ],\n})\n\nexport class DecProductSpinModule { }\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-job-round',\n  template: `<dec-grid gap=\"0\">\n  <dec-grid-row>\n    <dec-grid-column>\n      <div class=\"header-title\">\n        <div *ngIf=\"job?.type == 'MODELING_FIX'\" class=\"left-triangle modeling-fix\">\n          <mat-icon class=\"icon-position\">build</mat-icon>\n        </div>\n        <div *ngIf=\"job?.type == 'COLOR'\" class=\"left-triangle texture-color-swap\">\n          <mat-icon class=\"icon-position\">palette</mat-icon>\n        </div>\n        <div *ngIf=\"job?.type == 'MODELING'\" class=\"left-triangle full-model\">\n          <mat-icon class=\"icon-position\"></mat-icon>\n        </div>\n        <div class=\"text-header\" fxLayout=\"column\" fxLayoutGap=\"2px\">\n          <span class=\"smaller-font dec-color-grey uppercase\">{{ 'label.type' | translate }}</span>\n          <span *ngIf=\"job?.type == 'MODELING_FIX'\" class=\"font-text dec-font-500 uppercase\">{{\n            'label.modeling-fix-info' | translate }}</span>\n          <span *ngIf=\"job?.type == 'COLOR'\" class=\"font-text dec-font-500 uppercase\">{{ 'label.color-variation-info' |\n            translate }}</span>\n          <span *ngIf=\"job?.type == 'MODELING'\" class=\"font-text dec-font-500 uppercase\">{{ 'label.full-model-info' |\n            translate }}</span>\n        </div>\n      </div>\n    </dec-grid-column>\n  </dec-grid-row>\n  <dec-grid-row>\n    <dec-grid-column span=\"8\">\n      <dec-job-round-item [jobId]=\"job?.id\" [round]=\"job?.rounds[0]\" [roundQnt]=\"roundsQnt\" [roundNumber]=\"1\"></dec-job-round-item>\n    </dec-grid-column>\n  </dec-grid-row>\n  <dec-grid-row>\n    <dec-grid-column span=\"8\">\n      <dec-job-round-item [jobId]=\"job?.id\" [round]=\"job?.rounds[1]\" [roundQnt]=\"roundsQnt\" [roundNumber]=\"2\"></dec-job-round-item>\n    </dec-grid-column>\n  </dec-grid-row>\n  <dec-grid-row>\n    <dec-grid-column span=\"8\">\n      <dec-job-round-item [jobId]=\"job?.id\" [round]=\"job?.rounds[2]\" [roundQnt]=\"roundsQnt\" [roundNumber]=\"3\"></dec-job-round-item>\n    </dec-grid-column>\n  </dec-grid-row>\n</dec-grid>\n`,\n  styles: [`.rounds-container{width:250px}.header-title{height:70px;width:100%}.left-triangle{position:relative;width:0;height:0;border-style:solid;border-width:58px 58px 0 0;text-indent:1px;line-height:1px;color:#fff}.modeling-fix{border-color:#ff8f00 transparent transparent}.texture-color-swap{border-color:#4f83fd transparent transparent}.full-model{border-color:#263238 transparent transparent}.icon-position{position:absolute;top:-56px;left:3px}.text-header{min-width:240px;max-width:500px;position:relative;top:-49px;left:55px}.font-text{font-size:16px}`]\n})\nexport class DecJobRoundComponent implements OnInit {\n\n  @Input()\n  set job(v) {\n    if (v) {\n      console.log(v);\n      if (v.rounds.length > 1) {\n        v.rounds[0].status = 'DENIED';\n        if (v.rounds.length > 2) {\n          v.rounds[1].status = 'DENIED';\n        }\n      }\n      this._job = v;\n    }\n  }\n\n  get job() {\n    return this._job;\n  }\n\n  private _job;\n  roundsQnt = 3;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-job-round-item',\n  template: `<div class=\"round-item-container\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n  <div class=\"title-row-size\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n    <div class=\"smaller-font\">\n      Round {{ roundNumber }} of {{ roundQnt }}\n    </div>\n\n    <div>\n      <mat-icon>{{ round ? 'timer' : 'timelapse' }}</mat-icon>\n    </div>\n  </div>\n\n  <div *ngIf=\"round\">\n    <div *ngIf=\"round?.status === 'DELIVERED' ||\n                round?.status === 'DENIED' ||\n                round?.status === 'APPROVED'\"\n      fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"space-between center\">\n      <div fxFlex=\"40\" fxLayout=\"column\" fxLayoutAlign=\"end start\" fxLayoutGap=\"4px\">\n        <span class=\"smaller-font\"> {{ 'label.delivered' | translate }}: </span>\n        <span class=\"smaller-font\"> {{ round?.delivered | timeAgo }} </span>\n      </div>\n\n      <div class=\"position-status\" fxFlex=\"60\" fxLayout=\"column\" fxLayoutAlign=\"end start\">\n        <span class=\"smaller-font\">{{ 'label.status' | translate }}</span>\n        <dec-label-status [status]=\"round?.status\">\n        </dec-label-status>\n      </div>\n    </div>\n\n    <div *ngIf=\"round?.status === 'IN_DEVELOPMENT' ||\n                round?.status === 'IN_QA' ||\n                round?.status === 'IN_FIX'\"\n      fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"space-between center\">\n      <div fxFlex=\"40\" fxLayout=\"column\" fxLayoutAlign=\"end start\" fxLayoutGap=\"4px\">\n        <span class=\"smaller-font\"> {{ 'label.dead-line' | translate }}: </span>\n        <!-- <span class=\"smaller-font\" [ngClass]=\"{'red-qa': negativeQA}\">\n          {{ countdown }}\n        </span> -->\n        <span class=\"smaller-font\" [ngClass]=\"{'red-qa': negativeQA}\">\n          <dec-countdown [interval]='300' (finished)=\"toggleNegative()\"></dec-countdown>\n        </span>\n      </div>\n\n      <div class=\"position-status\" fxFlex=\"60\" fxLayout=\"column\" fxLayoutAlign=\"end start\">\n        <span class=\"smaller-font\">{{ 'label.status' | translate }}</span>\n        <dec-label-status [status]=\"round?.status\">\n        </dec-label-status>\n      </div>\n    </div>\n\n  </div>\n\n  <div *ngIf=\"!round\" fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"space-between center\">\n\n    <div fxFlex=\"40\" fxLayout=\"column\" fxLayoutAlign=\"end start\" fxLayoutGap=\"4px\">\n      <span class=\"smaller-font\"> - </span>\n      <span class=\"smaller-font\"> 00:00:00 </span>\n    </div>\n\n    <div class=\"position-status\" fxFlex=\"60\" fxLayout=\"column\" fxLayoutAlign=\"end start\">\n      <span class=\"smaller-font\">{{ 'label.status' | translate }}</span>\n      <dec-label-status [status]=\"'INACTIVE'\"></dec-label-status>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.title-row-size{height:40px}.position-status{position:relative;top:-5px}.round-item-container{padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.15)}.red-qa{color:#e94040}`]\n})\nexport class DecJobRoundItemComponent {\n\n  countdown: any;\n\n  @Input()\n  set round(v) {\n    if (v) {\n      if (v.status !== 'DENIED' && 'APPROVED') {\n        v.status = 'IN_QA';\n      }\n      this._round = v;\n    }\n  }\n\n  get round() {\n    return this._round;\n  }\n\n  @Input() roundQnt: number;\n  @Input() roundNumber: number;\n  @Input() jobId: any;\n\n  private _round;\n  negativeQA = false;\n\n  constructor() { }\n\n  toggleNegative() {\n    this.negativeQA = true;\n  }\n\n}\n","import { ChangeDetectorRef, NgZone, OnDestroy, Pipe, PipeTransform  } from '@angular/core';\nimport * as moment from 'moment';\nconst momentConstructor: (value?: any) => moment.Moment = (<any>moment).default || moment;\n\n@Pipe({\n  name: 'timeAgo'\n})\nexport class TimeAgoPipe implements PipeTransform {\n\n  private currentTimer: number;\n\n  private lastTime: Number;\n  private lastValue: Date | Number;\n  private lastOmitSuffix: boolean;\n  private lastText: string;\n\n  constructor(private cdRef: ChangeDetectorRef, private ngZone: NgZone) {\n  }\n\n  transform(value: Date | number, omitSuffix?: boolean): string {\n    if (this.hasChanged(value, omitSuffix)) {\n      this.lastTime = this.getTime(value);\n      this.lastValue = value;\n      this.lastOmitSuffix = omitSuffix;\n      this.removeTimer();\n      this.createTimer();\n      this.lastText = momentConstructor(value).from(momentConstructor(), omitSuffix);\n\n    } else {\n      this.createTimer();\n    }\n\n    return this.lastText;\n  }\n\n  ngOnDestroy(): void {\n    this.removeTimer();\n  }\n\n\n  private createTimer() {\n    if (this.currentTimer) {\n      return;\n    }\n    const momentInstance = momentConstructor(this.lastValue);\n\n    const timeToUpdate = this.getSecondsUntilUpdate(momentInstance) * 1000;\n    this.currentTimer = this.ngZone.runOutsideAngular(() => {\n      if (typeof window !== 'undefined') {\n        return window.setTimeout(() => {\n          this.lastText = momentConstructor(this.lastValue).from(momentConstructor(), this.lastOmitSuffix);\n\n          this.currentTimer = null;\n          this.ngZone.run(() => this.cdRef.markForCheck());\n        }, timeToUpdate);\n      }\n    });\n  }\n\n\n  private removeTimer() {\n    if (this.currentTimer) {\n      window.clearTimeout(this.currentTimer);\n      this.currentTimer = null;\n    }\n  }\n\n  private getSecondsUntilUpdate(momentInstance: moment.Moment) {\n    const howOld = Math.abs(momentConstructor().diff(momentInstance, 'minute'));\n    if (howOld < 1) {\n      return 1;\n    } else if (howOld < 60) {\n      return 30;\n    } else if (howOld < 180) {\n      return 300;\n    } else {\n      return 3600;\n    }\n  }\n\n  private hasChanged(value: Date | number, omitSuffix?: boolean) {\n    return this.getTime(value) !== this.lastTime || omitSuffix !== this.lastOmitSuffix;\n  }\n\n  private getTime(value: Date | number) {\n    if (moment.isDate(value)) {\n      return value.getTime();\n    } else if (moment.isMoment(value)) {\n      return value.valueOf();\n    } else {\n      return momentConstructor(value).valueOf();\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TimeAgoPipe } from './time-ago.pipe';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    TimeAgoPipe\n  ],\n  exports: [\n    TimeAgoPipe\n  ],\n  providers: [\n    TimeAgoPipe\n  ]\n})\nexport class TimeAgoModule { }\n","import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\nimport { timer } from 'rxjs';\n\n@Component({\n  selector: 'dec-countdown',\n  template: `{{ countdown }}`\n})\nexport class DecCountdownComponent implements OnInit {\n\n  @Input() interval: number;\n\n  @Output() finished = new EventEmitter();\n\n  private completed: boolean;\n\n  public countdown: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.countdown = this.getTime();\n    timer(1000, 1000).subscribe(val => {\n      this.manipulateInterval();\n      this.countdown = this.getTime();\n      if (this.interval === 0) {\n        this.countdownCompleted();\n      }\n    });\n  }\n\n  private getTime(): string {\n    if (this.interval < 0) {\n      this.interval = Math.abs(this.interval);\n      this.completed = true;\n    }\n    const hours = Math.floor(this.interval / 3600);\n    const minutes = Math.floor((this.interval - (hours * 3600)) / 60);\n    const seconds = (this.interval - (hours * 3600) - (minutes * 60));\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\n  }\n\n  private manipulateInterval() {\n    if (this.completed) {\n      this.interval++;\n    } else {\n      this.interval--;\n    }\n  }\n\n  countdownCompleted() {\n    this.completed = true;\n    this.finished.emit();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecCountdownComponent } from './dec-countdown.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [DecCountdownComponent],\n  exports: [DecCountdownComponent]\n})\nexport class DecCountdownModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecJobRoundItemComponent } from './dec-job-round-item.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule } from '@angular/material';\nimport { DecLabelStatusModule } from './../../dec-label-status/dec-label-status.module';\nimport { TimeAgoModule } from './../../../pipes/time-ago/time-ago.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecCountdownModule } from './../../dec-countdown/dec-countdown.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatIconModule,\n    DecLabelStatusModule,\n    TimeAgoModule,\n    TranslateModule,\n    DecCountdownModule\n  ],\n  declarations: [\n    DecJobRoundItemComponent\n  ],\n  exports: [\n    DecJobRoundItemComponent\n  ]\n})\nexport class DecJobRoundItemModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecJobRoundComponent } from './dec-job-round.component';\nimport { DecJobRoundItemModule } from './dec-job-round-item/dec-job-round-item.module';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { DecGridModule } from './../dec-grid/dec-grid.module';\nimport { MatIconModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecJobRoundItemModule,\n    FlexLayoutModule,\n    DecGridModule,\n    MatIconModule,\n    TranslateModule\n  ],\n  declarations: [\n    DecJobRoundComponent\n  ],\n  exports: [\n    DecJobRoundComponent\n  ]\n})\nexport class DecJobRoundModule { }\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-toolbar-title',\n  template: `<div [routerLink]=\"routerLink\" class=\"dec-sidenav-toolbar-title\">\n  <ng-content></ng-content>\n</div>\n`,\n  styles: [`.dec-sidenav-toolbar-title{outline:0}`]\n})\nexport class DecSidenavToolbarTitleComponent implements OnInit {\n\n  @Input() routerLink;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, Input, Output, EventEmitter, ContentChild, AfterViewInit, OnInit} from '@angular/core';\nimport { DecSidenavToolbarTitleComponent } from './../dec-sidenav-toolbar-title/dec-sidenav-toolbar-title.component';\n\n@Component({\n  selector: 'dec-sidenav-toolbar',\n  template: `<mat-toolbar [color]=\"color\" *ngIf=\"initialized\" class=\"dec-sidenav-toolbar\">\n\n  <span class=\"items-icon item-left\" *ngIf=\"leftMenuTriggerVisible\" (click)=\"toggleLeftMenu.emit()\">\n    &#9776;\n  </span>\n\n  <span *ngIf=\"customTitle\">\n    <ng-content select=\"dec-sidenav-toolbar-title\"></ng-content>\n  </span>\n\n  <div class=\"ribbon {{ribbon}}\" *ngIf=\"notProduction\">\n    <span>{{label | translate}}</span>\n  </div>\n\n  <span class=\"dec-sidenav-toolbar-custom-content\">\n    <ng-content></ng-content>\n  </span>\n\n  <span class=\"items-spacer\"></span>\n\n  <span class=\"items-icon item-right\" *ngIf=\"rightMenuTriggerVisible\" (click)=\"toggleRightMenu.emit()\">\n    &#9776;\n  </span>\n\n\n  <!-- PROGRESS BAR -->\n  <div class=\"progress-bar-wrapper\" *ngIf=\"progressBarVisible\">\n    <div class=\"progress-bar-message\" *ngIf=\"progressBarVisible !== true\">\n      {{ progressBarVisible }}\n    </div>\n    <mat-progress-bar mode=\"indeterminate\" color=\"accent\"></mat-progress-bar>\n  </div>\n  <!-- / PROGRESS BAR -->\n</mat-toolbar>\n`,\n  styles: [`.items-spacer{flex:1 1 auto}.items-icon{cursor:pointer;-webkit-transform:scale(1.2,.8);transform:scale(1.2,.8)}.items-icon.item-right{padding-left:14px}.items-icon.item-left{padding-right:14px}.dec-sidenav-toolbar-custom-content{padding:0 16px;width:100%}.ribbon{transition:all .3s ease;text-transform:lowercase;text-align:center;position:relative;line-height:64px;margin-left:4px;padding:0 20px;height:64px;width:155px;color:#fff;left:20px;top:0}.ribbon.ribbon-hidden{display:none}.ribbon::before{content:'';position:fixed;width:100vw;height:4px;z-index:2;top:64px;left:0}@media screen and (max-width:599px){.ribbon::before{top:56px}}.mat-toolbar{position:relative}.mat-toolbar .progress-bar-wrapper{position:absolute;bottom:0;width:inherit;margin-left:-16px}.mat-toolbar .progress-bar-wrapper .progress-bar-message{text-align:center;font-size:12px;line-height:12px}`]\n})\nexport class DecSidenavToolbarComponent implements AfterViewInit, OnInit {\n\n  initialized;\n\n  notProduction = true;\n  ribbon = '';\n  label = '';\n\n  @Input() color;\n\n  @Input() environment;\n\n  @Input() leftMenuTriggerVisible = true;\n\n  @Input() rightMenuTriggerVisible = true;\n\n  @Input() progressBarVisible: string | boolean = false;\n\n  @Output() toggleLeftMenu: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() toggleRightMenu: EventEmitter<any> = new EventEmitter<any>();\n\n  @ContentChild(DecSidenavToolbarTitleComponent) customTitle: DecSidenavToolbarTitleComponent;\n\n  constructor() { }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.initialized = true;\n    }, 1);\n  }\n\n  ngOnInit(): void {\n    if (this.environment === 'local') {\n      this.ribbon = 'ribbon-green';\n      this.label = 'label.local';\n    } else if (this.environment === 'development') {\n      this.ribbon = 'ribbon-blue';\n      this.label = 'label.development';\n    } else if (this.environment === 'qa') {\n      this.ribbon = 'ribbon-red';\n      this.label = 'label.qa';\n    } else if (this.environment === 'active') {\n      this.ribbon = 'ribbon-green';\n      this.label = 'label.active';\n    } else {\n      this.notProduction = false;\n      this.ribbon = 'ribbon-hidden';\n    }\n  }\n}\n","import { Component, ViewChild, TemplateRef, ContentChildren, QueryList, AfterViewInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'dec-sidenav-menu-item',\n  template: `<ng-template let-treeLevel=\"treeLevel\" #template>\n\n  <mat-list-item class=\"click dec-sidenav-menu-item\"\n  (click)=\"subitems.length ? toggleSubmenu() : openLink()\"\n  [ngClass]=\"getBackground(treeLevel)\">\n\n    <div class=\"item-wrapper\">\n\n      <div [ngStyle]=\"{paddingLeft: treeLevel * 16 + 'px'}\" class=\"item-content\">\n        <ng-content></ng-content>\n      </div>\n\n      <div *ngIf=\"subitems.length\" class=\"text-right\">\n        <ng-container [ngSwitch]=\"showSubmenu\">\n          <span *ngSwitchCase=\"true\"><i class=\"arrow down\"></i></span>\n          <span *ngSwitchCase=\"false\"><i class=\"arrow right\"></i></span>\n        </ng-container>\n      </div>\n    </div>\n\n  </mat-list-item>\n\n  <div class=\"subitem-menu\" *ngIf=\"showSubmenu\">\n\n    <dec-sidenav-menu [items]=\"subitems\" [treeLevel]=\"treeLevel\"></dec-sidenav-menu>\n\n  </div>\n\n</ng-template>\n`,\n  styles: [`.dec-sidenav-menu-item{height:56px!important;outline:0}.dec-sidenav-menu-item .item-wrapper{width:100%;display:flex;flex-flow:row no-wrap;justify-content:space-between}.dec-sidenav-menu-item .item-wrapper .item-content ::ng-deep .mat-icon,.dec-sidenav-menu-item .item-wrapper .item-content ::ng-deep i{vertical-align:middle;margin-bottom:5px;margin-right:8px}.dec-sidenav-menu-item .item-wrapper .arrow{margin-bottom:-4px}.dec-sidenav-menu-item .item-wrapper .arrow.right{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.dec-sidenav-menu-item .item-wrapper .arrow.left{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.dec-sidenav-menu-item .item-wrapper .arrow.up{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.dec-sidenav-menu-item .item-wrapper .arrow.down{transform:rotate(45deg);-webkit-transform:rotate(45deg)}.dec-sidenav-menu-item .text-right{text-align:right}.dec-sidenav-menu-item .click{cursor:pointer}.dec-sidenav-menu-item i{border:solid #000;border-width:0 2px 2px 0;display:inline-block;padding:4px}`]\n})\nexport class DecSidenavMenuItemComponent implements AfterViewInit {\n\n  @Input() routerLink;\n\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n\n  @ContentChildren(DecSidenavMenuItemComponent, {descendants: false}) _subitems: QueryList<DecSidenavMenuItemComponent>;\n\n  @Output() toggle = new EventEmitter();\n\n  started;\n\n  showSubmenu = false;\n\n  constructor(\n    private router: Router\n  ) { }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.started = true;\n    }, 1);\n  }\n\n  get subitems() {\n    const subitems = this._subitems.toArray();\n    subitems.splice(0, 1); // removes itself\n    return subitems;\n  }\n\n  toggleSubmenu() {\n    this.showSubmenu = !this.showSubmenu;\n    this.toggle.emit(this.showSubmenu);\n  }\n\n  closeSubmenu() {\n    this.showSubmenu = false;\n  }\n\n  openLink() {\n    if (this.routerLink) {\n      if (typeof this.routerLink === 'string') {\n        const isNaked = this.routerLink.startsWith('//');\n        const isHttp = this.routerLink.startsWith('http://');\n        const isHttps = this.routerLink.startsWith('https://');\n        if (isNaked || isHttp || isHttps) {\n          window.location.href = this.routerLink;\n        } else {\n          this.router.navigate([this.routerLink]);\n        }\n      } else if (Array.isArray(this.routerLink)) {\n        this.router.navigate(this.routerLink);\n      }\n    }\n  }\n\n  getBackground(treeLevel) {\n    return this.checkIfActive() ? 'mat-list-item-active' : 'mat-list-item-' + treeLevel;\n  }\n\n  checkIfActive() {\n    if (this.isActive) {\n      return true;\n    } else if (this.showSubmenu) {\n      return false;\n    } else {\n      const hasActiveChild = this.hasActiveChild;\n      return hasActiveChild;\n    }\n  }\n\n  protected get hasActiveChild() {\n    if (!this.subitems) {\n      return false;\n    } else {\n      return this.subitems.reduce((lastValue, item) => {\n        return lastValue || item.isActive || item.hasActiveChild;\n      }, false);\n    }\n  }\n\n  protected get isActive() {\n    return this.routerLink === window.location.pathname;\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-menu-title',\n  template: `<ng-content></ng-content>\n`,\n  styles: [``]\n})\nexport class DecSidenavMenuTitleComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nexport const STORAGE_DOMAIN = 'decSidenavConfig';\n\n@Injectable()\nexport class DecSidenavService {\n\n  progressBarVisible = new BehaviorSubject<string | boolean>(false);\n\n  constructor() {}\n\n  setSidenavVisibility(name, visibility) {\n\n    const config = this.getSidenavConfig();\n\n    config[name] = visibility;\n\n    this.setSidenavConfig(config);\n\n  }\n\n  getSidenavVisibility(name) {\n\n    const config = this.getSidenavConfig();\n\n    return config[name];\n\n  }\n\n  showProgressBar(msg?: string) {\n\n    this.progressBarVisible.next(msg || true);\n\n  }\n\n  hideProgressbar() {\n\n    this.progressBarVisible.next(false);\n\n  }\n\n  toggleProgressBar() {\n\n    const nextValue = !!!this.progressBarVisible.value;\n\n    this.progressBarVisible.next(nextValue);\n\n  }\n\n  private setSidenavConfig(conf) {\n\n    const confString = JSON.stringify(conf);\n\n    localStorage.setItem(STORAGE_DOMAIN, confString);\n\n  }\n\n  private getSidenavConfig() {\n\n    const data = localStorage.getItem(STORAGE_DOMAIN);\n\n    if (data) {\n\n      return JSON.parse(data);\n\n    } else {\n\n      const newConfig: any = {};\n\n      this.setSidenavConfig(newConfig);\n\n      return newConfig;\n\n    }\n\n  }\n\n}\n","import { Component, ContentChildren, QueryList, Input, ContentChild, Output, EventEmitter, AfterViewInit, OnDestroy } from '@angular/core';\nimport { DecSidenavMenuItemComponent } from './../dec-sidenav-menu-item/dec-sidenav-menu-item.component';\nimport { DecSidenavMenuTitleComponent } from './../dec-sidenav-menu-title/dec-sidenav-menu-title.component';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DecSidenavService } from './../sidenav.service';\n\n@Component({\n  selector: 'dec-sidenav-menu-left',\n  template: `<ng-container *ngIf=\"customTitle\">\n  <div class=\"menu-title\">\n    <ng-content select=\"dec-dec-sidenav-menu-title\"></ng-content>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"items\">\n  <dec-sidenav-menu [items]=\"items.toArray()\"></dec-sidenav-menu>\n</ng-container>`,\n  styles: [`.menu-title{padding:16px;font-size:24px;font-weight:700}`]\n})\nexport class DecSidenavMenuLeftComponent implements AfterViewInit, OnDestroy {\n\n  readonly leftMenuVisible = new BehaviorSubject<boolean>(true);\n\n  readonly leftMenuMode = new BehaviorSubject<string>('side');\n\n  @Input()\n  set open(v: any) {\n    const currentValue = this.leftMenuVisible.value;\n    if (v !== currentValue) {\n      this.leftMenuVisible.next(v);\n      this.decSidenavService.setSidenavVisibility('leftMenuHidden', !v);\n    }\n  }\n\n  get open() {\n    return this.leftMenuVisible.value;\n  }\n\n  @Input()\n  set mode(v: any) {\n    const currentValue = this.leftMenuMode.value;\n\n    if (v !== currentValue) {\n      this.leftMenuMode.next(v);\n    }\n  }\n\n  get mode() {\n    return this.leftMenuMode.value;\n  }\n\n  @Input() persistVisibilityMode: boolean;\n\n  @ContentChildren(DecSidenavMenuItemComponent, {descendants: false}) items: QueryList<DecSidenavMenuItemComponent>;\n\n  @ContentChild(DecSidenavMenuTitleComponent) customTitle: DecSidenavMenuTitleComponent;\n\n  @Output() openedChange = new EventEmitter<boolean>();\n\n  @Output() modeChange = new EventEmitter<string>();\n\n  private itemSubscriptions: Subscription[] = [];\n\n  constructor(\n    private decSidenavService: DecSidenavService\n  ) {\n    this.subscribeAndExposeSidenavEvents();\n  }\n\n  private subscribeAndExposeSidenavEvents() {\n\n    this.leftMenuVisible.subscribe(value => {\n      this.openedChange.emit(value);\n    });\n\n    this.leftMenuMode.subscribe(value => {\n      this.modeChange.emit(value);\n    });\n\n  }\n\n  ngAfterViewInit() {\n\n    const items = this.items.toArray();\n\n    items.forEach((item: DecSidenavMenuItemComponent) => {\n\n      item.toggle.subscribe(state => {\n\n        if (state) {\n\n          this.closeBrothers(item);\n\n        }\n\n      });\n\n    });\n\n  }\n\n  ngOnDestroy() {\n    this.itemSubscriptions.forEach((subscription: Subscription) => {\n      subscription.unsubscribe();\n    });\n  }\n\n  private closeBrothers(itemSelected) {\n\n    const items = this.items.toArray();\n\n    items.forEach((item: DecSidenavMenuItemComponent) => {\n\n      if (itemSelected !== item) {\n\n        item.closeSubmenu();\n\n      }\n\n    });\n\n  }\n\n\n}\n","import { Component, ContentChildren, QueryList, Input, ContentChild, Output, EventEmitter, OnDestroy, AfterViewInit } from '@angular/core';\nimport { DecSidenavMenuItemComponent } from './../dec-sidenav-menu-item/dec-sidenav-menu-item.component';\nimport { DecSidenavMenuTitleComponent } from './../dec-sidenav-menu-title/dec-sidenav-menu-title.component';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { DecSidenavService } from './../sidenav.service';\n\n@Component({\n  selector: 'dec-sidenav-menu-right',\n  template: `<ng-container *ngIf=\"customTitle\">\n  <div class=\"menu-title\">\n    <ng-content select=\"dec-dec-sidenav-menu-title\"></ng-content>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"items\">\n  <dec-sidenav-menu [items]=\"items.toArray()\"></dec-sidenav-menu>\n</ng-container>`,\n  styles: [`.menu-title{padding:16px;font-size:24px;font-weight:700}`]\n})\nexport class DecSidenavMenuRightComponent implements AfterViewInit, OnDestroy {\n\n  readonly rightMenuVisible = new BehaviorSubject<boolean>(true);\n\n  readonly rightMenuMode = new BehaviorSubject<string>('side');\n\n  @Input()\n  set open(v: any) {\n    const currentValue = this.rightMenuVisible.value;\n\n    if (v !== currentValue) {\n      this.rightMenuVisible.next(v);\n      this.decSidenavService.setSidenavVisibility('rightMenuHidden', !v);\n    }\n  }\n\n  get open() {\n    return this.rightMenuVisible.value;\n  }\n\n  @Input()\n  set mode(v: any) {\n    const currentValue = this.rightMenuMode.value;\n\n    if (v !== currentValue) {\n      this.rightMenuMode.next(v);\n    }\n  }\n\n  get mode() {\n    return this.rightMenuMode.value;\n  }\n\n  @Input() persistVisibilityMode: boolean;\n\n  @ContentChildren(DecSidenavMenuItemComponent, {descendants: false}) items: QueryList<DecSidenavMenuItemComponent>;\n\n  @ContentChild(DecSidenavMenuTitleComponent) customTitle: DecSidenavMenuTitleComponent;\n\n  @Output() openedChange = new EventEmitter<boolean>();\n\n  @Output() modeChange = new EventEmitter<string>();\n\n  private itemSubscriptions: Subscription[] = [];\n\n  constructor(\n    private decSidenavService: DecSidenavService\n  ) {\n    this.subscribeAndExposeSidenavEvents();\n  }\n\n  private subscribeAndExposeSidenavEvents() {\n\n    this.rightMenuVisible.subscribe(value => {\n      this.openedChange.emit(value);\n    });\n\n    this.rightMenuMode.subscribe(value => {\n      this.modeChange.emit(value);\n    });\n\n  }\n\n  ngAfterViewInit() {\n\n    const items = this.items.toArray();\n\n    items.forEach((item: DecSidenavMenuItemComponent) => {\n\n      item.toggle.subscribe(state => {\n\n        if (state) {\n\n          this.closeBrothers(item);\n\n        }\n\n      });\n\n    });\n\n  }\n\n  ngOnDestroy() {\n    this.itemSubscriptions.forEach((subscription: Subscription) => {\n      subscription.unsubscribe();\n    });\n  }\n\n  private closeBrothers(itemSelected) {\n\n    const items = this.items.toArray();\n\n    items.forEach((item: DecSidenavMenuItemComponent) => {\n\n      if (itemSelected !== item) {\n\n        item.closeSubmenu();\n\n      }\n\n    });\n\n  }\n}\n","import { Component, Input, ContentChild, AfterViewInit, ViewChild } from '@angular/core';\nimport { DecSidenavToolbarComponent } from './dec-sidenav-toolbar/dec-sidenav-toolbar.component';\nimport { DecSidenavMenuLeftComponent } from './dec-sidenav-menu-left/dec-sidenav-menu-left.component';\nimport { DecSidenavMenuRightComponent } from './dec-sidenav-menu-right/dec-sidenav-menu-right.component';\nimport { MatSidenav } from '@angular/material';\nimport { DecSidenavService } from './sidenav.service';\n\n@Component({\n  selector: 'dec-sidenav',\n  template: `<div class=\"dec-sidenav-wraper\">\n  <!-- TOOLBAR -->\n  <div *ngIf=\"toolbar\" class=\"dec-sidenav-toolbar-wrapper\" [ngClass]=\"{'full-screen': !(leftMenu.leftMenuVisible | async)}\">\n    <ng-content select=\"dec-sidenav-toolbar\"></ng-content>\n  </div>\n  <!-- / TOOLBAR -->\n\n  <mat-sidenav-container [ngClass]=\"{'with-toolbar': toolbar, 'full-screen': !(leftMenu.leftMenuVisible | async)}\">\n\n    <!-- LEFT MENU -->\n    <mat-sidenav *ngIf=\"leftMenu\"\n    [mode]=\"leftMenu.leftMenuMode | async\"\n    [opened]=\"leftMenu.leftMenuVisible | async\"\n    position=\"start\"\n    (openedChange)=\"leftSidenavOpenedChange($event)\"\n    #leftSidenav>\n      <ng-content select=\"dec-sidenav-menu-left\"></ng-content>\n    </mat-sidenav>\n    <!-- / LEFT MENU -->\n\n    <!-- CONTENT -->\n    <ng-content select=\"dec-sidenav-content\"></ng-content>\n    <!-- / CONTENT -->\n\n    <!-- RIGHT MENU -->\n    <mat-sidenav *ngIf=\"rightMenu\"\n    [mode]=\"rightMenu.rightMenuMode | async\"\n    [opened]=\"rightMenu.rightMenuVisible | async\"\n    position=\"end\"\n    (openedChange)=\"rightSidenavOpenedChange($event)\"\n    #rightSidenav>\n      <ng-content select=\"dec-sidenav-menu-right\"></ng-content>\n    </mat-sidenav>\n    <!-- / RIGHT MENU -->\n\n  </mat-sidenav-container>\n\n</div>\n`,\n  styles: [`.dec-sidenav-wraper .dec-sidenav-toolbar-wrapper{min-width:1200px}.dec-sidenav-wraper .dec-sidenav-toolbar-wrapper.full-screen{min-width:944px}.dec-sidenav-wraper .mat-sidenav-container{min-width:1200px;height:100vh}.dec-sidenav-wraper .mat-sidenav-container.full-screen{min-width:944px}.dec-sidenav-wraper .mat-sidenav-container.with-toolbar{height:calc(100vh - 64px)}.dec-sidenav-wraper .mat-sidenav-container .mat-sidenav{width:256px}@media screen and (max-width:1199px){.dec-sidenav-wraper .mat-sidenav-container{height:calc(100vh - 16px)}.dec-sidenav-wraper .mat-sidenav-container.with-toolbar{height:calc(100vh - 80px)}}`]\n})\nexport class DecSidenavComponent implements AfterViewInit {\n\n  @ContentChild(DecSidenavToolbarComponent) toolbar: DecSidenavToolbarComponent;\n\n  @ContentChild(DecSidenavMenuLeftComponent)\n  set leftMenu(v: DecSidenavMenuLeftComponent) {\n    this._leftMenu = v;\n    if (v) {\n      this.setInitialLeftMenuVisibilityModes();\n    }\n  }\n  get leftMenu() {\n    return this._leftMenu;\n  }\n\n  @ContentChild(DecSidenavMenuRightComponent)\n  set rightMenu(v: DecSidenavMenuRightComponent) {\n    this._rightMenu = v;\n    if (v) {\n      this.setInitialRightMenuVisibilityModes();\n    }\n  }\n  get rightMenu() {\n    return this._rightMenu;\n  }\n\n  @ViewChild('leftSidenav') leftSidenav: MatSidenav;\n\n  @ViewChild('rightSidenav') rightSidenav: MatSidenav;\n\n  private _leftMenu: DecSidenavMenuLeftComponent;\n\n  private _rightMenu: DecSidenavMenuRightComponent;\n\n  @Input()\n  set loading(v: any) {\n    const currentValue = this.decSidenavService.progressBarVisible.value;\n    if (v !== currentValue) {\n      this.decSidenavService.progressBarVisible.next(v);\n    }\n  }\n\n  get loading() {\n    return this.decSidenavService.progressBarVisible.value;\n  }\n\n  constructor(\n    public decSidenavService: DecSidenavService\n  ) {}\n\n  ngAfterViewInit() {\n    this.detectAndShowChildComponents();\n    this.subscribeToToolbarEvents();\n    this.setToolbarLoadingState();\n  }\n\n  // API //\n  openBothMenus() {\n    this.openLeftMenu();\n    this.openRightMenu();\n  }\n\n  openLeftMenu() {\n    this.leftMenu.leftMenuVisible.next(true);\n  }\n\n  openRightMenu() {\n    this.rightMenu.rightMenuVisible.next(true);\n  }\n\n  closeBothMenus() {\n    this.closeLeftMenu();\n    this.closeRightMenu();\n  }\n\n  closeLeftMenu() {\n    this.leftMenu.leftMenuVisible.next(false);\n  }\n\n  closeRightMenu() {\n    this.rightMenu.rightMenuVisible.next(false);\n  }\n\n  toggleBothMenus() {\n    this.toggleLeftMenu();\n    this.toggleRightMenu();\n  }\n\n  toggleLeftMenu() {\n    this.leftMenu.open = !this.leftMenu.leftMenuVisible.value;\n  }\n\n  toggleRightMenu() {\n    this.rightMenu.open = !this.rightMenu.rightMenuVisible.value;\n  }\n\n  setBothMenusMode(mode: 'over' | 'push' | 'side' = 'side') {\n    this.setLeftMenuMode(mode);\n    this.setRightMenuMode(mode);\n  }\n\n  setLeftMenuMode(mode: 'over' | 'push' | 'side' = 'side') {\n    this.leftMenu.leftMenuMode.next(mode);\n  }\n\n  setRightMenuMode(mode: 'over' | 'push' | 'side' = 'side') {\n    this.rightMenu.rightMenuMode.next(mode);\n  }\n\n  toggleProgressBar() {\n    this.decSidenavService.toggleProgressBar();\n  }\n\n  showProgressBar() {\n    this.decSidenavService.progressBarVisible.next(true);\n  }\n\n  hideProgressBar() {\n    this.decSidenavService.progressBarVisible.next(false);\n  }\n\n  leftSidenavOpenedChange(openedStatus) {\n    this.leftMenu.open = openedStatus;\n    this.leftMenu.leftMenuVisible.next(openedStatus);\n  }\n\n  rightSidenavOpenedChange(openedStatus) {\n    this.rightMenu.open = openedStatus;\n    this.rightMenu.rightMenuVisible.next(openedStatus);\n  }\n\n  private detectAndShowChildComponents() {\n\n    this.toolbar.leftMenuTriggerVisible = this.leftMenu ? true : false;\n\n    this.toolbar.rightMenuTriggerVisible = this.rightMenu ? true : false;\n\n  }\n\n  private subscribeToToolbarEvents() {\n\n    if (this.toolbar) {\n\n      this.toolbar.toggleLeftMenu.subscribe(() => {\n        this.leftSidenav.toggle();\n      });\n\n      this.toolbar.toggleRightMenu.subscribe(() => {\n        this.rightSidenav.toggle();\n      });\n\n    }\n\n  }\n\n  private setInitialRightMenuVisibilityModes() {\n    this.rightMenu.rightMenuVisible.next(!this.decSidenavService.getSidenavVisibility('rightMenuHidden'));\n  }\n\n  private setInitialLeftMenuVisibilityModes() {\n    this.leftMenu.leftMenuVisible.next(!this.decSidenavService.getSidenavVisibility('leftMenuHidden'));\n  }\n\n  private setToolbarLoadingState() {\n    this.decSidenavService.progressBarVisible.subscribe(state => {\n      if (this.toolbar) {\n        this.toolbar.progressBarVisible = state;\n      }\n    });\n  }\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-content',\n  template: `<div class=\"dec-sidenav-content-wrapper\">\n  <ng-content></ng-content>\n</div>\n`,\n  styles: [`.dec-sidenav-content-wrapper{padding:32px}`]\n})\nexport class DecSidenavContentComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-menu',\n  template: `<mat-list>\n  <ng-container *ngFor=\"let item of items\">\n    <ng-container *ngIf=\"item.started && item.template ? true : false\">\n      <ng-template\n      [ngTemplateOutlet]=\"item.template\"\n      [ngTemplateOutletContext]=\"{treeLevel: treeLevel + 1}\"\n      ></ng-template>\n    </ng-container>\n  </ng-container>\n</mat-list>\n`,\n  styles: [`.mat-list{padding-top:0}`]\n})\nexport class DecSidenavMenuComponent {\n\n  @Input() items = [];\n\n  @Input() treeLevel = -1;\n\n  constructor() { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSidenavComponent } from './sidenav.component';\nimport { MatSidenavModule, MatListModule, MatIconModule, MatToolbarModule, MatProgressBarModule } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { DecSidenavContentComponent } from './dec-sidenav-content/dec-sidenav-content.component';\nimport { DecSidenavMenuItemComponent } from './dec-sidenav-menu-item/dec-sidenav-menu-item.component';\nimport { DecSidenavMenuLeftComponent } from './dec-sidenav-menu-left/dec-sidenav-menu-left.component';\nimport { DecSidenavMenuRightComponent } from './dec-sidenav-menu-right/dec-sidenav-menu-right.component';\nimport { DecSidenavMenuComponent } from './dec-sidenav-menu/dec-sidenav-menu.component';\nimport { DecSidenavMenuTitleComponent } from './dec-sidenav-menu-title/dec-sidenav-menu-title.component';\nimport { DecSidenavToolbarComponent } from './dec-sidenav-toolbar/dec-sidenav-toolbar.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { DecSidenavToolbarTitleComponent } from './dec-sidenav-toolbar-title/dec-sidenav-toolbar-title.component';\nimport { DecSidenavService } from './sidenav.service';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatSidenavModule,\n    MatListModule,\n    MatIconModule,\n    MatToolbarModule,\n    MatProgressBarModule,\n    RouterModule,\n    HttpClientModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecSidenavComponent,\n    DecSidenavContentComponent,\n    DecSidenavMenuItemComponent,\n    DecSidenavMenuLeftComponent,\n    DecSidenavMenuRightComponent,\n    DecSidenavMenuComponent,\n    DecSidenavMenuTitleComponent,\n    DecSidenavToolbarComponent,\n    DecSidenavToolbarTitleComponent,\n  ],\n  exports: [\n    DecSidenavComponent,\n    DecSidenavContentComponent,\n    DecSidenavMenuItemComponent,\n    DecSidenavMenuLeftComponent,\n    DecSidenavMenuRightComponent,\n    DecSidenavMenuTitleComponent,\n    DecSidenavToolbarComponent,\n    DecSidenavToolbarTitleComponent,\n  ],\n  providers: [\n    DecSidenavService,\n  ]\n})\nexport class DecSidenavModule { }\n","import { Injectable } from '@angular/core';\nimport { catchError, share, tap } from 'rxjs/operators';\nimport { Observable, throwError} from 'rxjs';\nimport { HttpClient, HttpHeaders, HttpParams, HttpRequest } from '@angular/common/http';\n\nexport type CallOptions = {\n  headers?: HttpHeaders;\n  withCredentials?: boolean;\n  params?: {\n    [prop: string]: any;\n  };\n} & {\n  [prop: string]: any;\n};\n\n@Injectable()\nexport class DecSketchfabService {\n\n  constructor(private http: HttpClient) { }\n\n  pachConfigs(uid: string, configs: any): Observable<any> {\n    const options: CallOptions = {};\n    const headers = new HttpHeaders({'Content-Type': 'application/json'});\n    options.headers = headers;\n    const url = 'https://api.sketchfab.com/v2/models/' + uid + '?token=b230fac2222243258a36619600ba78c1';\n    const callObservable = this.http.patch(url, configs, options)\n    .pipe(\n      catchError(this.handleError)\n    );\n    return this.shareObservable(callObservable);\n  }\n\n  getAllTextures(uid: string): Observable<any> {\n    const options: CallOptions = {};\n    const headers = new HttpHeaders({'Content-Type': 'application/json'});\n    options.headers = headers;\n    const url = `https://sketchfab.com/i/models/${uid}/textures`;\n    const callObservable = this.http.get(url, options)\n    .pipe(\n      catchError(this.handleError)\n    );\n    return this.shareObservable(callObservable);\n  }\n\n  private handleError = (error: any) => {\n    const message = error.message;\n    const bodyMessage = (error && error.error) ? error.error.message : '';\n    const status = error.status;\n    const statusText = error.statusText;\n    return throwError({ status, statusText, message, bodyMessage });\n  }\n\n  private shareObservable(call: Observable<any>) {\n    return call.pipe(share());\n  }\n}\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { DecSketchfabService } from './dec-sketchfab.service';\n\n@Component({\n  selector: 'dec-sketchfab',\n  template: `<div fxLayout=\"column\" class=\"container\" fxLayoutGap=\"32px\" fxLayoutAlign=\"space-between center\">\n  <dec-sketchfab-view [materialName]=\"materialName\" [sketchfabId]=\"sketchfabId\" [editMode]=\"editMode\" [material]=\"material\"\n    [update]=\"update\" [getAllMaterials]=\"getMaterialsSketchfab\" (sendMaterials)=\"getAllMaterials($event)\"\n    (materialSelected)=\"materialSelected($event)\">\n  </dec-sketchfab-view>\n  <div fxLayout=\"row\" style=\"width: 100%\" fxLayoutAlign=\"space-between start\" fxLayoutGap=\"32px\">\n    <mat-form-field fxFlex=\"40\">\n      <mat-select [(ngModel)]=\"materialName\" name=\"config\" placeholder=\"Material ID\">\n        <mat-option *ngFor=\"let config of assetMax?.renderMaterialConfigs\" [value]=\"config.materialName\">\n          {{ config.materialName }}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <div fxFlex=\"60\" class=\"polygon-count dec-color-gray text-right\">\n      {{ 'label.polygon' | translate }}: {{ assetMax?.fbxFiles?.fbxAllGroupsFile?.fbxOriginalPolyCount }} - {{\n      'label.current-polygon'\n      | translate }} {{ assetMax?.fbxFiles?.fbxAllGroupsFile?.fbxPolyCount }}\n    </div>\n\n  </div>\n\n  <div *ngIf=\"materialConfig\" fxLayout=\"row\" class=\"row-size\" fxLayoutAlign=\"space-between start\" fxLayoutGap=\"16px\">\n    <div fxFlex=\"30\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n      <div fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"row-span-icon\" fxLayoutGap=\"8px\">\n          <span class=\"setting-name\">Base Color {{ materialConfig?.config?.diffuse }}</span>\n          <mat-icon class=\"md-span-icon click\" (click)=\"ableTo('base-color')\">\n            {{ materialConfig?.config?.diffuseEnabled ? 'lock_open' : 'lock_outline' }}\n          </mat-icon>\n        </div>\n        <mat-slider class=\"slider-position\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [disabled]=\"!materialConfig?.config?.diffuseEnabled\"\n          [(ngModel)]=\"materialConfig.config.diffuse\" (input)=\"updateMaterial('base-color', $event)\">\n        </mat-slider>\n\n      </div>\n\n      <div fxLayout=\"column\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"row-span-icon\" fxLayoutGap=\"8px\">\n          <span class=\"setting-name\">Roughness {{ materialConfig?.config?.roughness }}</span>\n          <mat-icon class=\"md-span-icon click\" (click)=\"ableTo('roug')\">\n            {{ materialConfig?.config?.roughnessEnabled ? 'lock_open' : 'lock_outline' }}\n          </mat-icon>\n        </div>\n        <mat-slider class=\"slider-position\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [disabled]=\"!materialConfig?.config?.roughnessEnabled\"\n          [(ngModel)]=\"materialConfig.config.roughness\" (input)=\"updateMaterial('roug', $event)\">\n        </mat-slider>\n      </div>\n    </div>\n\n    <div fxFlex=\"30\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n\n      <mat-form-field>\n        <mat-select class=\"polygon-select\" fxFill [(ngModel)]=\"materialConfig.adjustOptimize\" name=\"config\" placeholder=\"{{ 'label.polygon-reduction' | translate }}\">\n          <mat-option *ngFor=\"let config of configSelect\" [value]=\"config\">\n            {{ 'label.'+config | translate }}\n            <span class=\"position-polygon-number gray\" *ngIf=\"config === 'OFF'\">\n              {{ materialConfig?.fbxPolyCountOrigin}}\n            </span>\n            <span class=\"position-polygon-number gray\" *ngIf=\"materialConfig?.adjustOptimize === config\">\n              {{ materialConfig?.fbxPolyCount}}\n            </span>\n          </mat-option>\n        </mat-select>\n      </mat-form-field>\n\n      <div fxLayout=\"column\" class=\"metalness-position\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"row-span-icon\" fxLayoutGap=\"8px\">\n          <span class=\"setting-name\">Metalness {{ materialConfig?.config?.metalness }}</span>\n          <mat-icon class=\"md-span-icon click\" (click)=\"ableTo('metal')\">\n            {{ materialConfig?.config?.metalnessEnabled ? 'lock_open' : 'lock_outline' }}\n          </mat-icon>\n        </div>\n        <mat-slider class=\"slider-position\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [disabled]=\"!materialConfig?.config?.metalnessEnabled\"\n          [(ngModel)]=\"materialConfig.config.metalness\" (input)=\"updateMaterial('metal', $event)\">\n        </mat-slider>\n      </div>\n\n    </div>\n\n    <div fxFlex=\"30\" fxLayout=\"column\" fxLayoutGap=\"8px\">\n      <div>\n        <mat-checkbox class=\"check-box-normal-map\" (input)=\"updateMaterial('normal', $event)\" [(ngModel)]=\"checked\"\n          [labelPosition]=\"align\">\n          Normal Map\n        </mat-checkbox>\n      </div>\n      <div fxLayout=\"column\" class=\"opacity-position\" fxLayoutGap=\"8px\">\n        <div fxLayout=\"row\" fxLayoutAlign=\"start start\" class=\"opacity-position-text\" fxLayoutGap=\"8px\">\n          <span class=\"setting-name\">Opacity {{ materialConfig?.config?.opacity }}</span>\n          <mat-icon class=\"md-span-icon click\" (click)=\"ableTo('opacity')\">\n            {{ materialConfig?.config?.opacityEnabled ? 'lock_open' : 'lock_outline' }}\n          </mat-icon>\n        </div>\n        <mat-slider class=\"slider-position\" [max]=\"100\" [min]=\"0\" [step]=\"1\" [disabled]=\"!materialConfig?.config?.opacityEnabled\"\n          [(ngModel)]=\"materialConfig.config.opacity\" (input)=\"updateMaterial('opacity', $event)\">\n        </mat-slider>\n      </div>\n    </div>\n  </div>\n  <div class=\"text-right save-button-div\">\n    <button mat-raised-button type=\"button\" color=\"primary\" (click)=\"onSave()\">{{ 'label.save' | translate }}</button>\n  </div>\n</div>\n`,\n  styles: [`.container{max-width:620px!important}.setting-name{width:100px;display:inline-block}.md-span-icon{position:relative;top:-5px;left:-5px}.slider-position{position:relative;left:-8px;top:-8px}.row-size{width:100%}.polygon-select{position:relative;top:-5px}.metalness-position{position:relative;top:16px}.polygon-count{font-size:12px;position:relative;top:27px}.opacity-position{position:relative;top:40px}.opacity-position-text{position:relative;top:8px}.check-box-normal-map{position:relative;top:18px}.save-button-div{width:100%}`]\n})\nexport class DecSketchfabComponent implements OnInit {\n\n  @Input()\n  set assetMax(v: any) {\n    if (v) {\n      this._assetMax = v;\n      this.environmentConfig(v.fbxFiles.fbxAllGroupsFile.sketchfabId);\n      this.getMaterials(v.renderMaterialConfigs);\n    }\n  }\n\n  get assetMax(): any {\n    return this._assetMax;\n  }\n\n  @Output() save = new EventEmitter();\n\n  _assetMax: any;\n  sketchfabId: string;\n\n  material: any;\n  materialConfig: any;\n  materialName: string;\n  materials: any;\n  textures: any;\n  editMode = true;\n  update = false;\n  getMaterialsSketchfab = false;\n\n  align: 'start';\n  checked = true;\n\n  configSelect = [\n    'OFF',\n    'LOW',\n    'MEDIUM',\n    'HIGH'\n  ];\n\n  constructor(private decSketchfabService: DecSketchfabService) { }\n\n  ngOnInit() {\n  }\n\n  environmentConfig(id) {\n    const config = {\n      'options': {\n        'version': 7,\n        'background': {\n          'enable': 'ambient',\n          'uid': '51af6a870cce449eb75b0345feebaebb',\n          'color': [\n            0.2,\n            0.2,\n            0.2\n          ]\n        },\n        'environment': {\n          'enable': true,\n          'backgroundExposure': 1,\n          'exposure': 2.200000000000001,\n          'rotation': 4.71238898038469,\n          'uid': '8a4074ac8a3a4b83bf1f6a177a0f9a34',\n          'blur': 0.1,\n          'shadowEnable': false,\n          'lightIntensity': 5,\n          'shadowBias': 0.005\n        },\n        'lighting': {\n          'enable': false,\n          'lights': [\n            {\n              'type': 'DIRECTION',\n              'enable': true,\n              'color': [\n                0.7806122449,\n                0.7985214494,\n                1\n              ],\n              'intensity': 0.96,\n              'ground': [\n                0.3,\n                0.2,\n                0.2\n              ],\n              'intensityGround': 1,\n              'matrix': [\n                -0.98158045,\n                0.1909922167,\n                -0.0046683273,\n                0,\n                0.135483471,\n                0.7131126062,\n                0.6878332937,\n                0,\n                0.1346998486,\n                0.6745312328,\n                -0.7258536814,\n                0,\n                6.8974753119,\n                34.5399114328,\n                -1.2725570917,\n                1\n              ],\n              'falloff': 0.0009534586,\n              'attachedToCamera': false,\n              'angle': 45,\n              'hardness': 0.5,\n              'castShadows': false,\n              'shadowBias': 0.005\n            },\n            {\n              'type': 'DIRECTION',\n              'enable': true,\n              'color': [\n                1,\n                0.878331945,\n                0.7091836735\n              ],\n              'intensity': 1,\n              'ground': [\n                0.3,\n                0.2,\n                0.2\n              ],\n              'intensityGround': 1,\n              'matrix': [\n                0.7755211495,\n                -0.066660286,\n                0.6277924442,\n                0,\n                0.2690483737,\n                0.9344846523,\n                -0.2331338825,\n                0,\n                -0.5711216326,\n                0.3497067927,\n                0.7426474533,\n                0,\n                -29.2446723362,\n                17.9070188561,\n                73.9232059257,\n                1\n              ],\n              'falloff': 0.0009534586,\n              'attachedToCamera': false,\n              'angle': 45,\n              'hardness': 0.5,\n              'castShadows': false,\n              'shadowBias': 0.005\n            },\n            {\n              'type': 'DIRECTION',\n              'enable': true,\n              'color': [\n                0.4234693878,\n                0.7352665556,\n                1\n              ],\n              'intensity': 0.12,\n              'ground': [\n                0.9642857143,\n                0.6484128637,\n                0.2607507289\n              ],\n              'intensityGround': 0.06,\n              'matrix': [\n                0.6903299131,\n                -0.7076363669,\n                -0.1506498699,\n                0,\n                -0.0110896982,\n                0.197851373,\n                -0.980169298,\n                0,\n                0.7234097246,\n                0.6783108479,\n                0.1287352474,\n                0,\n                37.0428305177,\n                34.7334496176,\n                42.4873454685,\n                1\n              ],\n              'falloff': 0.0009534586,\n              'attachedToCamera': false,\n              'angle': 45,\n              'hardness': 0.5,\n              'castShadows': false,\n              'shadowBias': 0.005\n            }\n          ]\n        },\n        'orientation': {\n          'matrix': [\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1,\n            0,\n            0,\n            0,\n            0,\n            1\n          ]\n        }\n      }\n    };\n\n    this.decSketchfabService.pachConfigs(id, config).subscribe(resp => {\n      this.decSketchfabService.getAllTextures(id).subscribe(textureResp => {\n        if (textureResp) {\n          this.sketchfabId = id;\n          this.textures = textureResp.results;\n        }\n      });\n    });\n  }\n\n  materialSelected(m) {\n    if (m) {\n      this.update = false;\n      this.material = m;\n      this.selectMaterialByName(m.name);\n    }\n  }\n\n  selectMaterialByName(name) {\n    this.materialName = name;\n    this.materialConfig = this.materials.filter(x => x.materialName === name);\n    this.materialConfig = this.materialConfig[0];\n  }\n\n  getMaterials(configs) {\n    if (configs) {\n      this.materials = configs;\n    }\n  }\n\n  updateMaterial(material, $event) {\n    switch (material) {\n      case 'metal': {\n        this.material.channels.MetalnessPBR.factor = $event.value / 100;\n        this.materialConfig.config.metalness = $event.value;\n        break;\n      }\n      case 'base-color': {\n        this.material.channels.AlbedoPBR.factor = $event.value / 100;\n        this.materialConfig.config.diffuse = $event.value;\n        break;\n      }\n      case 'roug': {\n        this.material.channels.RoughnessPBR.factor = $event.value / 100;\n        this.materialConfig.config.roughness = $event.value;\n        break;\n      }\n      case 'normal': {\n        this.material.channels.NormalMap.enable = $event.checked;\n        this.materialConfig.config.normal = $event.checked;\n        if ($event.checked) {\n          this.material.channels.NormalMap.factor = 1;\n        } else {\n          this.material.channels.NormalMap.factor = 0;\n        }\n        break;\n      }\n      case 'opacity': {\n        this.material.channels.Opacity.factor = $event.value / 100;\n        this.materialConfig.config.opacity = $event.value;\n        break;\n      }\n    }\n    this.sendMaterialToUpdate();\n  }\n\n\n  ableTo(type) {\n    switch (type) {\n      case 'metal':\n        this.materialConfig.config.metalnessEnabled = !this.materialConfig.config.metalnessEnabled;\n        this.setTexture('metal');\n        break;\n      case 'base-color':\n        this.materialConfig.config.diffuseEnabled = !this.materialConfig.config.diffuseEnabled;\n        this.setTexture('base-color');\n        break;\n      case 'roug':\n        this.materialConfig.config.roughnessEnabled = !this.materialConfig.config.roughnessEnabled;\n        this.setTexture('roug');\n        break;\n      case 'opacity':\n        this.materialConfig.config.opacityEnabled = !this.materialConfig.config.opacityEnabled;\n        this.setTexture('opacity');\n        break;\n    }\n  }\n\n  setTexture(type) {\n    switch (type) {\n      case 'metal':\n        if (this.material.channels.MetalnessPBR.texture) {\n          delete this.material.channels.MetalnessPBR.texture;\n          this.material.channels.MetalnessPBR.color = [1, 1, 1];\n        } else {\n          delete this.material.channels.MetalnessPBR.color;\n          this.material.channels.MetalnessPBR.texture = this.getTexture(this.materialConfig.materialName + '_METALLIC.jpg');\n        }\n        break;\n      case 'roug':\n        if (this.material.channels.RoughnessPBR.texture) {\n          delete this.material.channels.RoughnessPBR.texture;\n        } else {\n          this.material.channels.RoughnessPBR.texture = this.getTexture(this.materialConfig.materialName + '_ROUGHNESS.jpg');\n        }\n        break;\n      case 'opacity':\n        if (this.material.channels.Opacity.texture) {\n          delete this.material.channels.Opacity.texture;\n        } else {\n          this.material.channels.Opacity.texture = this.getTexture(this.materialConfig.materialName + '_TRANSPARENT.jpg');\n        }\n        break;\n    }\n    this.sendMaterialToUpdate();\n  }\n\n  getTexture(name) {\n    return this.textures.find(x => x.name === name);\n  }\n\n  sendMaterialToUpdate() {\n    setTimeout(() => {\n      this.update = true;\n      this.material = JSON.parse(JSON.stringify(this.material));\n    }, 200);\n  }\n\n  onSave() {\n    this.getMaterialsSketchfab = true;\n  }\n\n  getAllMaterials($event) {\n    const mat = {};\n\n    for (let i = 0; i < $event.length; i++) {\n      mat[$event[i].id] = $event[i];\n    }\n\n    const config = {\n      'options': {\n        'materials': mat\n      }\n    };\n\n    this.decSketchfabService.pachConfigs(this.assetMax.fbxFiles.fbxAllGroupsFile.sketchfabId, config).subscribe(resp => {\n      this.getMaterialsSketchfab = false;\n      this.save.emit(this.assetMax);\n    });\n  }\n}\n\n","import { Injectable } from '@angular/core';\n\nwindow['decoraScriptService'] = window['decoraScriptService'] || {};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DecScriptLoaderService {\n\n  constructor() { }\n\n  load(url: string, scriptName: string) {\n\n    return new Promise((resolve, reject) => {\n      const scriptLoaded = window['decoraScriptService'][scriptName];\n\n      if (scriptLoaded) {\n\n        const script = window[scriptName];\n\n        resolve(script);\n\n      } else {\n\n        const scriptTag = document.createElement('script');\n\n        scriptTag.setAttribute('src', url);\n\n        scriptTag.setAttribute('type', 'text/javascript');\n\n        scriptTag.onload = function () {\n\n          window['decoraScriptService'][scriptName] = true;\n\n          const script = window[scriptName];\n\n          resolve(script);\n\n        };\n\n        scriptTag.onerror = reject;\n\n        document.getElementsByTagName('head')[0].appendChild(scriptTag);\n\n      }\n\n    });\n\n  }\n\n  loadStyle(url: string) {\n\n    return new Promise((resolve, reject) => {\n\n      window['scriptServiceLoadedStylesArray'] = window['scriptServiceLoadedStylesArray'] || {};\n\n      const styleLoaded = window['scriptServiceLoadedStylesArray'][url];\n\n      if (styleLoaded) {\n\n        resolve();\n\n      } else {\n\n        const linkTag = document.createElement('link');\n\n        linkTag.setAttribute('rel', 'stylesheet');\n        linkTag.setAttribute('type', 'text/css');\n        linkTag.setAttribute('media', 'all');\n        linkTag.setAttribute('href', url);\n\n        linkTag.onload = function () {\n\n          window['scriptServiceLoadedStylesArray'][url] = true;\n\n          resolve();\n\n        };\n\n        linkTag.onerror = reject;\n\n        document.getElementsByTagName('head')[0].appendChild(linkTag);\n\n      }\n\n    });\n\n  }\n\n  loadStyleAndScript(styleUrl, scriptUrl, scriptNamespace) {\n\n    return this.loadStyle(styleUrl).then(() => {\n      return this.load(scriptUrl, scriptNamespace);\n    });\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecScriptLoaderService } from './dec-script-loader.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecScriptLoaderService\n  ]\n})\nexport class DecScriptLoaderModule { }\n","import { Component, OnInit, Input, ViewChild, ElementRef, EventEmitter, Output } from '@angular/core';\nimport { DecScriptLoaderService } from './../../services/script-loader/dec-script-loader.service';\nimport { DecColorService } from './../../services/color/dec-color.service';\n\nconst HIGHLIGHT_COLOR = [255, 255, 0];\nconst SKETCHFAB_SCRIPT_URL = 'https://static.sketchfab.com/api/sketchfab-viewer-1.0.0.js';\n\n@Component({\n  selector: 'dec-sketchfab-view',\n  template: `<iframe src=\"\"\n  #apiFrame\n  id=\"api-frame\"\n  height=\"620\"\n  width=\"620\"\n  allowfullscreen\n  mozallowfullscreen=\"true\"\n  webkitallowfullscreen=\"true\"></iframe>\n`,\n  styles: [``]\n})\nexport class DecSketchfabViewComponent implements OnInit {\n\n  api: any;\n\n  materials;\n\n  @Input()\n  set sketchfabId(id) {\n    if (id) {\n      this._sketchfabId = id;\n      this.startSketchfab(id);\n    }\n  }\n\n  get sketchfabId() {\n    return this._sketchfabId;\n  }\n\n  @Input()\n  set materialName(v) {\n    if (v && this._materialName !== v) {\n      this._materialName = v;\n      const material = this.selectMaterialByName(v, true);\n    }\n  }\n\n  get materialName() {\n    return this._materialName;\n  }\n\n  @Input()\n  set material (v) {\n    if (v && this.update) {\n      this.updateMaterials(v);\n    }\n  }\n\n  @Input()\n  set editMode(v) {\n    if (v) {\n      this.addClickEvent();\n      this._editMode = v;\n    }\n  }\n\n  get editMode() {\n    return this._editMode;\n  }\n\n  @Input()\n  set getAllMaterials(v) {\n    if (v) {\n      this._getAllMaterials = v;\n      this.sendAllMaterials();\n    }\n  }\n\n  get getAllMaterials() {\n    return this._getAllMaterials;\n  }\n\n  @Input() highlightOnSelection: boolean;\n\n  @Input() update: any;\n\n  @Input() textures: any;\n\n  @Output() materialSelected = new EventEmitter();\n\n  @Output() materialUnselected = new EventEmitter();\n\n  @Output() sendMaterials = new EventEmitter();\n\n  @Output() loaded = new EventEmitter();\n\n\n  private _sketchfabId: string;\n  private _materialName: string;\n  private _editMode: boolean;\n  private _getAllMaterials: boolean;\n  private client;\n  private highlightedMaterial;\n\n  @ViewChild('apiFrame') apiFrame: ElementRef;\n\n  constructor(\n    private decScriptLoaderService: DecScriptLoaderService,\n    private decColorService: DecColorService,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  startSketchfab(id) {\n    this.decScriptLoaderService.load(SKETCHFAB_SCRIPT_URL, 'Sketchfab')\n      .then((Sketchfab: any) => {\n        const iframe = this.apiFrame.nativeElement;\n        this.client = new Sketchfab('1.0.0', iframe);\n        this.client.init(this.sketchfabId, {\n          success: (api) => {\n            api.start();\n            this.api = api;\n            api.addEventListener('viewerready', () => {\n              console.log('--- SKETCHFAB  viewerready');\n              this.getMaterials()\n              .then(materials => {\n                this.loaded.emit();\n              });\n              if (this.editMode) {\n                this.addClickEvent();\n              }\n            });\n          }\n        });\n      });\n  }\n\n  updateMaterials(material) {\n\n    this.api.setMaterial(material, (resColor) => {\n\n      console.log('--- SKETCHFAB  COLOR SET', resColor);\n\n    });\n\n  }\n\n  getMaterials() {\n    return new Promise((resolve, reject) => {\n      this.api.getMaterialList((err, materialList) => {\n        this.materials = materialList;\n        resolve(materialList);\n      });\n    });\n  }\n\n\n  selectMaterialByName(name, emit = false) {\n\n    const material = this.materials.find(m => m.name === name);\n\n    if (this.highlightOnSelection) {\n\n      this.highlightMaterial(material);\n\n    }\n\n\n    if (emit) {\n      this.materialSelected.emit(material);\n    }\n\n    return material;\n  }\n\n  addClickEvent() {\n    if (this.api) {\n      this.api.addEventListener('click', (e) => {\n        this._materialName = e.material.name;\n        this.selectEffect(e.material);\n        this.selectMaterialByName(e.material.name, true);\n      });\n    }\n  }\n\n  selectEffect(material) {\n    material.shadeless = true;\n    if (material.channels.NormalMap.factor === 1 || material.channels.NormalMap.enable) {\n      material.channels.NormalMap.factor = 1;\n    }\n    this.api.setMaterial(material, function () {\n      setTimeout(() => {\n        material.shadeless = false;\n      }, 500);\n\n    });\n  }\n\n  sendAllMaterials() {\n    this.api.getMaterialList((err, materialList) => {\n      this.sendMaterials.emit(materialList);\n    });\n  }\n\n  setMaterialColor(material, color) {\n    const Albedo = material.channels.AlbedoPBR;\n    this.setChannelColor(Albedo, color);\n    delete Albedo.texture;\n    this.api.setMaterial(material, (response) => {\n      console.log(`MATERIAL COLOR SET TO ${color}`);\n    });\n  }\n\n  setMaterialRoughness(material, factor) {\n    const Roughness = material.channels.RoughnessPBR;\n    Roughness.factor = factor;\n    this.api.setMaterial(material, (response) => {\n      console.log(`MATERIAL ROUGHNESS SET TO ${factor}`);\n    });\n  }\n\n  setMaterialMetalness(material, factor) {\n    const Metalness = material.channels.MetalnessPBR;\n    Metalness.factor = factor;\n    this.api.setMaterial(material, (response) => {\n      console.log(`MATERIAL METALNESS SET TO ${factor}`);\n    });\n  }\n\n  setMaterialAlbedoPBRTexture(material, texture) {\n    const Albedo = material.channels.AlbedoPBR;\n    Albedo.texture = texture;\n    delete Albedo.color;\n    this.api.setMaterial(material, (response) => {\n      console.log(`MATERIAL TEXTURE SET TO ${texture}`);\n    });\n  }\n\n  private setChannelColor(channel, rgbArray) {\n    channel.color = this.decColorService.rgbArrayToLinearArray(rgbArray);\n  }\n\n  private unhigHlightCurrentMaterial() {\n\n    const linearHitghlightColor = this.decColorService.rgbArrayToLinearArray(HIGHLIGHT_COLOR);\n\n    const material = this.materials.find(mat => mat.name === this.highlightedMaterial.name);\n\n    const materialColor = material.channels.AlbedoPBR.color;\n\n    if (JSON.stringify(materialColor) === JSON.stringify(linearHitghlightColor)) {\n\n      const texture = JSON.parse(JSON.stringify(this.highlightedMaterial.channels.AlbedoPBR.texture));\n\n      this.setMaterialAlbedoPBRTexture(material, texture);\n\n    }\n\n  }\n\n  private highlightMaterial(material) {\n\n    const materialCopy = JSON.parse(JSON.stringify(material));\n\n    if (!this.highlightedMaterial) {\n\n      this.highlightedMaterial = materialCopy;\n\n      this.setMaterialColor(material, HIGHLIGHT_COLOR);\n\n    } else {\n\n      if (this.highlightedMaterial.name !== material.name) {\n\n        this.unhigHlightCurrentMaterial();\n\n        this.highlightedMaterial = materialCopy;\n\n        this.setMaterialColor(material, HIGHLIGHT_COLOR);\n\n      } else {\n\n        this.unhigHlightCurrentMaterial();\n\n        this.highlightedMaterial = undefined;\n\n        this.materialUnselected.emit();\n\n      }\n\n    }\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecScriptLoaderModule } from './../../services/script-loader/dec-script-loader.module';\nimport { DecSketchfabViewComponent } from './dec-sketchfab-view.component';\nimport { DecColorServiceModule } from './../../services/color/dec-color-service.module';\nimport { MatInputModule, MatCheckboxModule } from '@angular/material';\nimport { FormsModule } from '@angular/forms';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecScriptLoaderModule,\n    DecColorServiceModule,\n    MatInputModule,\n    MatCheckboxModule,\n    FormsModule,\n    FlexLayoutModule,\n  ],\n  declarations: [\n    DecSketchfabViewComponent\n  ],\n  exports: [\n    DecSketchfabViewComponent\n  ]\n})\nexport class DecSketchfabViewModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSketchfabComponent } from './dec-sketchfab.component';\nimport { DecSketchfabViewModule } from './../sketchfab-view/dec-sketchfab-view.module';\nimport { DecSketchfabService } from './dec-sketchfab.service';\nimport { MatSliderModule, MatIconModule, MatSelectModule, MatCheckboxModule, MatButtonModule } from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecSketchfabViewModule,\n    MatSliderModule,\n    MatIconModule,\n    MatButtonModule,\n    MatCheckboxModule,\n    MatSelectModule,\n    FlexLayoutModule,\n    FormsModule,\n    TranslateModule\n  ],\n  declarations: [\n    DecSketchfabComponent\n  ],\n  exports: [\n    DecSketchfabComponent\n  ],\n  providers: [\n    DecSketchfabService\n  ]\n})\nexport class DecSketchfabModule { }\n","import { Component, Input } from '@angular/core';\nimport { Step } from './dec-steps-list.models';\n\n@Component({\n  selector: 'dec-steps-list',\n  template: `<div class=\"history-container\" [ngClass]=\"{'limited-height': maxHeight}\" [style.maxHeight]=\"maxHeight || '100%'\">\n\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\" class=\"dec-color-grey-dark\">\n      <h2>\n        <dec-icon [font]=\"iconFont\">{{ icon }}</dec-icon> {{ title }}\n      </h2>\n  </div>\n\n  <br>\n\n  <div fxLayout=\"column\" fxLayoutGap=\"16px\">\n\n    <div class=\"history-item\" *ngFor=\"let item of stepsList; let i = index\">\n\n      <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"left start\" class=\"dec-color-grey\">\n\n        <mat-icon class=\"smaller-icon dec-color-grey-dark\" fxFlex=\"24px\">{{ i === stepsList.length - 1 ? 'radio_button_unchecked' : 'lens' }}</mat-icon>\n\n        <div fxLayout=\"column\" fxLayoutGap=\"4px\">\n\n          <div>\n\n            <strong *ngIf=\"item.title\">{{ item.title }}</strong>\n\n            <span *ngIf=\"item.date\">\n              {{ item.date | date }}\n              <span *ngIf=\"showTime\"> | {{ item.date | date: 'mediumTime' }}</span>\n            </span>\n\n          </div>\n\n          <div *ngIf=\"item.description\" class=\"dec-color-grey-dark\">\n            <strong class=\"dec-color-black\">{{ item.description }}</strong>\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n\n</div>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.history-container.limited-height{overflow-y:auto}.history-container .history-item:not(:last-child){position:relative}.history-container .history-item:not(:last-child)::before{content:\"\";position:absolute;height:3em;width:2px;background-color:#91979c;left:11px;top:14px}.history-container .history-item .smaller-icon{font-size:16px;display:flex;justify-content:center;margin-top:2px}`]\n})\nexport class DecStepsListComponent {\n\n  @Input() icon = 'history';\n\n  @Input() iconFont = 'mat';\n\n  @Input() title = '';\n\n  @Input() showTime: boolean;\n\n  @Input() maxHeight;\n\n  @Input() stepsList: Step[] = [];\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecStepsListComponent } from './dec-steps-list.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule } from '@angular/material';\nimport { DecIconModule } from './../dec-icon/dec-icon.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatIconModule,\n    DecIconModule,\n  ],\n  declarations: [DecStepsListComponent],\n  exports: [DecStepsListComponent],\n})\nexport class DecStepsListModule { }\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecStringArrayInputComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-string-array-input',\n  template: `<ng-container [ngSwitch]=\"mode == 'input'\">\n\n  <mat-form-field *ngSwitchCase=\"true\">\n    <input matInput\n    type=\"text\"\n    [name]=\"name\"\n    [(ngModel)]=\"valueAsString\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n\n  <mat-form-field *ngSwitchCase=\"false\">\n    <textarea matInput\n    [rows]=\"rows\"\n    [name]=\"name\"\n    [(ngModel)]=\"valueAsString\"\n    [placeholder]=\"placeholder\">\n    </textarea>\n  </mat-form-field>\n\n</ng-container>\n`,\n  styles: [``],\n  providers: [CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecStringArrayInputComponent implements OnInit {\n\n  @Input() name;\n\n  @Input() placeholder;\n\n  @Input() mode = 'textarea';\n\n  @Input() rows = 3;\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): string[] {\n\n    return this.innerArray;\n\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: string[]) {\n\n    if (v !== this.innerArray) {\n\n      this.innerArray = v;\n\n      this.onChangeCallback(v);\n\n    }\n\n  }\n\n  get valueAsString(): string {\n\n    return this.getArrayAsString();\n\n  }\n\n  // Set accessor including call the onchange callback\n  set valueAsString(v: string) {\n\n    if (v !== this.innerArray) {\n\n      this.value = this.stringToArray(v);\n\n    }\n\n  }\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerArray: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  //\n  getArrayAsString() {\n\n    return this.arrayToString(this.value);\n\n  }\n\n  // From ControlValueAccessor interface\n  writeValue(value: string[]) {\n\n    if (value !== this.value) {\n\n      this.value = value;\n\n    }\n\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  private stringToArray(stringOfArray: string): string[] {\n    if (stringOfArray) {\n\n      const regExp = /[^,\\s][^,\\s]*[^,\\s]*/g;\n\n      return stringOfArray.match(regExp);\n\n    } else {\n\n      return [];\n\n    }\n  }\n\n  private arrayToString(arrayOfstring: string[]): string {\n\n    if (arrayOfstring) {\n\n      return arrayOfstring.join(', ');\n\n    } else {\n\n      return undefined;\n\n    }\n\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatInputModule } from '@angular/material';\nimport { FormsModule } from '@angular/forms';\nimport { DecStringArrayInputComponent } from './dec-string-array-input.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatInputModule,\n    FormsModule\n  ],\n  declarations: [DecStringArrayInputComponent],\n  exports: [DecStringArrayInputComponent],\n})\nexport class DecStringArrayInputModule { }\n","import { AfterViewInit, Component, ContentChild, Input, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-tab',\n  template: ``,\n  styles: [``]\n})\nexport class DecTabComponent implements AfterViewInit {\n\n  @Input() label: string;\n\n  @Input() name: string;\n\n  @Input() total: string;\n\n  @ContentChild(TemplateRef) content: TemplateRef<DecTabComponent>;\n\n  @Input() disabled: boolean;\n\n  constructor() {}\n\n  ngAfterViewInit() {\n    this.ensureTabName();\n  }\n\n  private ensureTabName = () => {\n    if (!this.name) {\n      throw new Error('DecTabComponentError: The <dec-tab> component must have an unique name. Please, ensure that you have passed an unique namme to the component.');\n    }\n  }\n}\n","import { Component, OnInit, Input, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-tab-menu',\n  template: `<p>\n  tab-menu works!\n</p>\n`,\n  styles: [``]\n})\nexport class DecTabMenuComponent implements OnInit {\n\n  @Input() activeTab: string;\n\n  @ContentChild(TemplateRef) content: TemplateRef<DecTabMenuComponent>;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ContentChildren, QueryList, ContentChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { DecTabComponent } from './tab/tab.component';\nimport { DecTabMenuComponent } from './tab-menu/tab-menu.component';\n\n@Component({\n  selector: 'dec-tabs',\n  template: `<div *ngIf=\"!hidden\">\n\n  <!-- TABS -->\n  <mat-tab-group [selectedIndex]=\"activeTabIndex\" (focusChange)=\"onChangeTab($event)\" [dynamicHeight]=\"true\">\n\n    <!-- TAB -->\n    <mat-tab *ngFor=\"let tab of tabs;\" [disabled]=\"tab.disabled\">\n\n      <!-- TAB LABEL -->\n      <ng-template mat-tab-label>\n        {{ tab.label }}\n        <span class=\"badge badge-pill badge-small\" *ngIf=\"tab.total >= 0\">{{ parseTotal(tab.total) }}</span>\n      </ng-template>\n\n      <!-- TAB CONTENT WRAPPER -->\n      <ng-container *ngIf=\"shouldTabBeDisplayed(tab)\">\n\n        <!-- TAB MENU -->\n        <div *ngIf=\"tabMenuComponent\" class=\"menu-wrapper\">\n          <ng-container *ngTemplateOutlet=\"tabMenuComponent.content; context: { activeTab: activeTab }\"></ng-container>\n        </div>\n\n        <!-- TABS CONTENT -->\n        <div [ngClass]=\"{'tab-padding': padding}\">\n\n          <ng-container *ngTemplateOutlet=\"tab.content\"></ng-container>\n\n        </div>\n\n      </ng-container>\n\n    </mat-tab>\n\n  </mat-tab-group>\n\n</div>\n`,\n  styles: [`.menu-wrapper{text-align:right;padding:8px 0}.tab-padding{padding:16px 0}`]\n})\nexport class DecTabsComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @ContentChildren(DecTabComponent) tabs: QueryList<DecTabComponent>;\n\n  @ContentChild(DecTabMenuComponent) tabMenuComponent: DecTabMenuComponent;\n\n  @Input() hidden; // hides the tabs group to reload its contents\n\n  @Input() persist = true;\n\n  @Input() destroyOnBlur = false;\n\n  @Input() name: string;\n\n  @Input() padding = true;\n\n  @Input()\n  set activeTab(v: string) {\n    if (v && this._activeTab !== v) {\n      this._activeTab = v;\n      this.persistTab(v);\n    }\n  }\n  get activeTab() {\n    return this._activeTab;\n  }\n\n  @Output() activeTabChange: EventEmitter<string> = new EventEmitter<string>();\n\n  get activeTabIndex(): number {\n    return this._activeTabIndex;\n  }\n\n  get activeTabObject(): any {\n    return this._activeTabObject;\n  }\n\n  private _activeTab: string;\n\n  private _activeTabIndex: number;\n\n  private _activeTabObject: any;\n\n  private activatedTabs: any = {};\n\n  private queryParamsSubscription: Subscription;\n\n  private pathFromRoot = '';\n\n  constructor(private route: ActivatedRoute, private router: Router) {}\n\n  ngOnInit() {\n    this.ensureUniqueName();\n    this.watchTabInUrlQuery();\n  }\n\n  ngAfterViewInit() {\n    this.ensureUniqueTabNames()\n    .then(() => {\n      if (this.persist) {\n        const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n        if (queryParams && queryParams[this.componentTabName()]) {\n          const currentTab = queryParams[this.componentTabName()];\n          this.selectTab(currentTab);\n        } else {\n          this.startSelectedTab();\n        }\n      }\n    });\n\n  }\n\n  ngOnDestroy() {\n    this.stopWatchingTabInUrlQuery();\n  }\n\n  shouldTabBeDisplayed(tab) {\n    const isSelected = this._activeTabObject === tab;\n    const isActivated = this.activatedTabs[tab.name];\n    return isSelected || (!this.destroyOnBlur && isActivated);\n  }\n\n  onChangeTab($event) {\n    const activeTabObject = this.tabs.toArray()[$event.index];\n    this.activeTab = activeTabObject.name;\n  }\n\n  parseTotal(total) {\n\n    return total !== null && total >= 0 ?  total : '?';\n\n  }\n\n  reset() {\n\n    this.hidden = true;\n\n    setTimeout(() => {\n\n      this.hidden = false;\n\n    }, 10);\n\n  }\n\n  private componentTabName() {\n    return this.name + '-tab';\n  }\n\n  private ensureUniqueName = () => {\n    if (!this.name) {\n      throw new Error('DecTabComponentError: The tab component must have an unique name. Please, ensure that you have passed an unique namme to the component.');\n    }\n  }\n\n  /* ensureUniqueTabNames\n   * This method prevents the use of the same name for more than one tab\n   * what would ending up conflicting the tabs activation once this is done via tab name\n  */\n\n  private ensureUniqueTabNames = () => {\n    return new Promise<any>((res, rej) => {\n      const names = {};\n      this.tabs.toArray().forEach(tab => {\n        if (!names[tab.name]) {\n          names[tab.name] = true;\n        } else {\n           throw new Error(`DecTabComponentError: The <dec-tabs> component must have an unique name. The name ${tab.name} was used more than once.`);\n        }\n      });\n      res();\n    });\n  }\n\n  private persistTab(tab) {\n    if (this.persist) {\n      const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n      queryParams[this.componentTabName()] = tab;\n      this.router.navigate(['.'], { relativeTo: this.route, queryParams: queryParams, replaceUrl: true });\n    } else {\n      this.selectTab(tab);\n    }\n  }\n\n  private selectTab = (tabName) => {\n    if (this.tabs) {\n      this.activeTab = tabName;\n      this.activatedTabs[tabName] = true;\n      this._activeTabObject = this.tabs.toArray().filter(tab => tab.name === tabName)[0];\n      this._activeTabIndex = this.tabs.toArray().indexOf(this._activeTabObject);\n      this.activeTabChange.emit(tabName);\n    }\n  }\n\n  private startSelectedTab() {\n    const activeTab = this.activeTab || this.tabs.toArray()[0].name;\n    setTimeout(() => { // avoid change after component checked error\n      this.selectTab(activeTab);\n    }, 1);\n  }\n\n  private watchTabInUrlQuery() {\n    this.queryParamsSubscription = this.route.queryParams\n    .subscribe((params) => {\n      if (this.persist) {\n        const tab: string = params[this.componentTabName()];\n        this.selectTab(tab);\n      }\n    });\n  }\n\n  private stopWatchingTabInUrlQuery() {\n    this.queryParamsSubscription.unsubscribe();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTabsModule } from '@angular/material';\nimport { DecTabComponent } from './tab.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatTabsModule\n  ],\n  declarations: [DecTabComponent],\n  exports: [DecTabComponent],\n})\nexport class DecTabModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTabsModule } from '@angular/material';\nimport { DecTabsComponent } from './tabs.component';\nimport { DecTabModule } from './tab/tab.module';\nimport { DecTabMenuComponent } from './tab-menu/tab-menu.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    DecTabModule\n  ],\n  declarations: [DecTabsComponent, DecTabMenuComponent],\n  exports: [\n    DecTabsComponent,\n    DecTabMenuComponent,\n    DecTabModule\n  ],\n})\nexport class DecTabsModule { }\n","import { Component, Input, ViewChild, ElementRef, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'dec-image-marks',\n  template: `<div #marksWrapper class=\"marks-wrapper\">\n\n  <img #imgRef (load)=\"drawMarks()\" [decImage]=\"render?.file\">\n\n</div>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.marks-wrapper{position:relative}.marks-wrapper img{display:block}.point-tag{position:absolute;width:24px;height:24px;background-color:#f33d3c;font-weight:500;text-align:center;line-height:24px;color:#fff;cursor:pointer;border-radius:100%;text-shadow:0 0 10px #000;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1;display:flex;justify-content:center;align-items:center}.point-tag.client{background-color:#f8cb00;cursor:default}.square-tag{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:2px solid #f33d3c}.square-tag.client{border-color:#f8cb00}.comment-hover{background-color:#f33d3c;box-sizing:border-box;padding:8px 12px;border-radius:4px;position:absolute;font-size:12px;line-height:18px;text-shadow:none;text-align:left;color:#fff;left:10px;top:10px;z-index:1}.comment-hover.client{background-color:#f8cb00}.qa-mode-active .square-tag{pointer-events:none}.qa-mode-active .square-tag .point-tag{pointer-events:all}`],\n  encapsulation: ViewEncapsulation.None\n})\nexport class DecImageMarksComponent {\n\n  @Input() render: any;\n\n  @ViewChild('marksWrapper') marksWrapper: ElementRef;\n  @ViewChild('imgRef') imgRef: ElementRef;\n\n  constructor() { }\n\n  drawMarks(): void {\n    const pointElements = this.marksWrapper.nativeElement.getElementsByClassName('point-tag');\n    const squareElements = this.marksWrapper.nativeElement.getElementsByClassName('square-tag');\n\n    while (pointElements[0]) {\n      pointElements[0].parentNode.removeChild(pointElements[0]);\n    }\n\n    while (squareElements[0]) {\n      squareElements[0].parentNode.removeChild(squareElements[0]);\n    }\n\n    if (this.render && typeof this.render.comments === 'object') {\n      this.render.comments.forEach((comment, index) => {\n        if (comment.coordinates.length > 2) {\n          this.createSquareTag(comment.coordinates, index + 1, comment.requestByClient);\n        } else {\n          this.createPointTag(comment.coordinates, index + 1, comment.requestByClient);\n        }\n      });\n    }\n  }\n\n  createPointTag(coordinates: number[], index: number, requestByClient: boolean): HTMLDivElement {\n    const x: number = coordinates[0];\n    const y: number = coordinates[1];\n\n    const mark = document.createElement('div');\n    mark.innerHTML = `${index}`;\n    mark.className = 'point-tag';\n\n    if (requestByClient) {\n      mark.classList.add('client');\n    }\n\n    mark.style.top = `calc(${y}% - 12px)`;\n    mark.style.left = `calc(${x}% - 12px)`;\n\n    this.marksWrapper.nativeElement.appendChild(mark);\n\n    mark.addEventListener('mouseover', () => this.addCommentNode(mark, requestByClient));\n    mark.addEventListener('mouseout', this.removeCommentNode);\n\n    return mark;\n  }\n\n  createSquareTag(coordinates: number[], index: number, requestByClient: boolean): void {\n    const x: number = coordinates[0];\n    const y: number = coordinates[1];\n    const x2: number = coordinates[2];\n    const y2: number = coordinates[3];\n\n    const square = document.createElement('div');\n    square.className = 'square-tag';\n\n    if (requestByClient) {\n      square.classList.add('client');\n    }\n\n    square.style.width = `${Math.abs(x - x2)}%`;\n    square.style.height = `${Math.abs(y - y2)}%`;\n    square.style.top = `${y2 > y ? y : y2}%`;\n    square.style.left = `${x2 > x ? x : x2}%`;\n\n    const point = this.createPointTag([0, 0], index, requestByClient);\n    square.appendChild(point);\n    this.marksWrapper.nativeElement.appendChild(square);\n\n  }\n\n  private addCommentNode = (mark: HTMLDivElement, requestByClient: boolean): void => {\n    const span = document.createElement('span');\n    span.innerHTML = this.render.comments[parseInt(mark.innerHTML, 10) - 1].comment;\n\n    const commentDiv = document.createElement('div');\n\n    commentDiv.className = `comment-hover ${requestByClient ? 'client' : ''}`;\n    commentDiv.style.maxWidth = this.marksWrapper.nativeElement > 340 ? '340px' : 'calc(100% - 20px)';\n\n    commentDiv.appendChild(span);\n\n    this.marksWrapper.nativeElement.appendChild(commentDiv);\n  }\n\n  private removeCommentNode() {\n    const commentNode = document.getElementsByClassName('comment-hover')[0];\n    if (commentNode) {\n      commentNode.parentElement.removeChild(commentNode);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecImageMarksComponent } from './dec-image-marks.component';\nimport { DecImageModule } from './../../directives/image/image.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecImageModule\n  ],\n  declarations: [\n    DecImageMarksComponent\n  ],\n  exports: [\n    DecImageMarksComponent\n  ]\n})\nexport class DecImageMarksModule { }\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'dec-comment-dialog',\n  template: `<h2>{{title}}</h2>\n<mat-form-field>\n  <textarea matInput (keydown)=\"pressEnter($event)\" [(ngModel)]=\"comment\" [placeholder]=\"placeholderLabel\"></textarea>\n</mat-form-field>\n<div fxLayoutAlign=\"end\" fxLayoutGap=\"16px\">\n  <button mat-button (click)=\"cancel()\">{{cancelLabel | uppercase}}</button>\n  <button mat-raised-button color=\"warn\" *ngIf=\"editing\" (click)=\"delete()\">{{deleteLabel | uppercase}}</button>\n  <button mat-raised-button color=\"primary\" [disabled]=\"!comment\" (click)=\"confirm()\">{{confirmLabel | uppercase}}</button>\n</div>\n`,\n  styles: [``]\n})\nexport class DecCommentDialogComponent {\n\n  title: string;\n  obj: any;\n  comment: string;\n  editing: boolean;\n\n  placeholderLabel = this.translate.instant('label.choices');\n  confirmLabel = this.translate.instant('label.confirm');\n  deleteLabel = this.translate.instant('label.delete');\n  cancelLabel = this.translate.instant('label.cancel');\n\n  constructor(\n    public dialogRef: MatDialogRef<DecCommentDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    public translate: TranslateService\n  ) {\n    this.title = data.title;\n    this.obj = data.comment;\n    this.editing = data.editing;\n    this.comment = this.obj.comment;\n  }\n\n  confirm() {\n    this.dialogRef.close(this.comment);\n  }\n\n  delete() {\n    this.dialogRef.close('delete');\n  }\n\n  cancel() {\n    this.dialogRef.close();\n  }\n\n  pressEnter(event) {\n    if(event.keyCode == 13) {\n      event.stopImmediatePropagation();\n      event.preventDefault();\n      if (this.comment) {\n        this.confirm();\n      }\n    }\n  }\n}\n","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { DecImageMarksComponent } from './../dec-image-marks/dec-image-marks.component';\nimport { MatDialog } from '@angular/material';\nimport { DecCommentDialogComponent } from './dec-comment-dialog/dec-comment-dialog.component';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'dec-image-marker',\n  template: `<dec-image-marks [ngClass]=\"{'qa-mode-active': qaModeActive}\" [render]=\"render\"></dec-image-marks>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.qa-mode-active{cursor:crosshair}`]\n})\nexport class DecImageMarkerComponent implements OnInit {\n\n  @Input() render: any;\n\n  @Input()\n  set qaModeActive(v: boolean) {\n    if (this._qaModeActive !== v) {\n      this._qaModeActive = v;\n      // TODO: fix me\n      if (!this.existsEvents) {\n        this.addListeners(this.decMarks.marksWrapper.nativeElement, this.decMarks.imgRef.nativeElement);\n      }\n    }\n  }\n\n  get qaModeActive() {\n    return this._qaModeActive;\n  }\n\n  private _qaModeActive: boolean;\n\n  private existsEvents = false;\n\n  private requestByClient = false;\n\n  // Events controls\n  private mousedown = false;\n\n  private mouseup = true;\n\n  private mousemove = false;\n\n  private startX;\n\n  private startY;\n\n  private squareMark: HTMLDivElement;\n\n\n  @ViewChild(DecImageMarksComponent) decMarks: DecImageMarksComponent;\n\n  constructor(private dialog: MatDialog, private translateService: TranslateService) { }\n\n  ngOnInit() { }\n\n  deleteMark(target, commentIndex) {\n\n    this.removeTag(target);\n\n    this.removeComment(commentIndex);\n\n    this.refreshTagsNumber();\n\n  }\n\n  private removeTag(target) {\n\n    if (target.parentElement && target.parentElement.classList.contains('square-tag')) {\n\n      target.parentElement.remove();\n\n    } else {\n\n      target.remove();\n\n    }\n\n  }\n\n  private removeComment(commentIndex) {\n\n    const index = commentIndex;\n\n    this.render.comments.splice(index, 1);\n\n  }\n\n  private refreshTagsNumber() {\n\n    Array.from(this.decMarks.marksWrapper.nativeElement.querySelectorAll('.point-tag')).forEach((point: Element, idx) => {\n      point.innerHTML = (idx + 1).toString();\n    });\n\n  }\n\n  private addListeners(wrapperElement: HTMLDivElement, imageElement: HTMLImageElement): any {\n\n    this.onMouseDown(wrapperElement);\n\n    this.onDragStart(wrapperElement);\n\n    this.onMouseMove(wrapperElement);\n\n    this.onMouseUp(wrapperElement, imageElement);\n\n    this.existsEvents = true;\n\n  }\n\n  private onMouseUp(wrapperElement, imageElement) {\n\n    wrapperElement.addEventListener('mouseup', (event) => {\n\n      const inQaMode = this.qaModeActive;\n\n      const mouseWasDown = !this.mouseup;\n\n      const inAPointTag = ((<Element>event.target).classList.contains('point-tag'));\n      const notInAPointTag = !inAPointTag;\n\n      const requestByClient = ((<Element>event.target).classList.contains('client'));\n\n      if (inQaMode && mouseWasDown && notInAPointTag) {\n        this.createNewTag(imageElement);\n      }\n\n      if (inQaMode && inAPointTag && !requestByClient) {\n        this.editComment(event);\n      }\n\n      this.mousemove = false;\n      this.mouseup = true;\n    });\n\n  }\n\n  private createNewTag(imageElement) {\n\n    this.mousedown = false;\n\n    const x = Math.round(((this.startX / imageElement.height) * 100) * 100) / 100;\n\n    const y = Math.round(((this.startY / imageElement.width) * 100) * 100) / 100;\n\n    const index = this.render.comments.length + 1;\n\n    if (this.mousemove) {\n\n      this.drawSquareTag(event, imageElement, index, x, y);\n\n    } else {\n\n      this.drawPointTag(index, x, y);\n\n    }\n\n    this.removeSquareMark();\n\n  }\n\n  private editComment(event) {\n\n    const target = <Element>event.target;\n\n    const commentIndex = parseInt(target.innerHTML, 10) - 1;\n\n    const ref = this.dialog.open(DecCommentDialogComponent, {\n      data: {\n        title: this.translateService.instant('label.markdowns'),\n        comment: this.render.comments[commentIndex], editing: true\n      },\n      width: '615px'\n    });\n\n    ref.afterClosed().subscribe(resp => {\n\n      if (resp === 'delete') {\n\n        this.deleteMark(target, commentIndex);\n\n      } else if (resp) {\n\n        this.render.comments[commentIndex].comment = resp;\n\n      }\n\n    });\n\n  }\n\n  private drawPointTag(index, x, y) {\n\n    const ref = this.dialog.open(DecCommentDialogComponent, {\n      data: {\n        title: this.translateService.instant('label.markdowns'),\n        comment: {}\n      },\n      width: '615px'\n    });\n\n    ref.afterClosed().subscribe(resp => {\n      if (resp) {\n        this.decMarks.createPointTag([x, y], index, this.requestByClient);\n        this.render.comments.push({ comment: resp, coordinates: [x, y] });\n      }\n    });\n\n  }\n\n  private drawSquareTag(event, imageElement, index, x, y) {\n\n    const x2 = Math.round(((event.offsetX / imageElement.width) * 100) * 100) / 100;\n    const y2 = Math.round(((event.offsetY / imageElement.height) * 100) * 100) / 100;\n\n    const ref = this.dialog.open(DecCommentDialogComponent, {\n      data: {\n        title: this.translateService.instant('label.markdowns'),\n        comment: {}\n      },\n      width: '615px'\n    });\n\n    ref.afterClosed().subscribe(resp => {\n      if (resp) {\n        this.decMarks.createSquareTag([x, y, x2, y2], index, this.requestByClient);\n        this.render.comments.push({ comment: resp, coordinates: [x, y, x2, y2] });\n      }\n    });\n\n  }\n\n  private onMouseDown(wrapperElement) {\n    wrapperElement.addEventListener('mousedown', (event) => {\n      if (this.qaModeActive && !((<Element>event.target.classList.contains('point-tag')))) {\n        this.mousedown = true;\n        this.mouseup = false;\n        this.startX = event.offsetX;\n        this.startY = event.offsetY;\n      }\n    });\n  }\n\n  private onDragStart(wrapperElement) {\n    wrapperElement.addEventListener('dragstart', (event) => {\n      event.preventDefault();\n    });\n  }\n\n  private onMouseMove(wrapperElement) {\n\n    wrapperElement.addEventListener('mousemove', (event) => {\n\n      const notClickingInAnyTag = !((<Element>event.target.classList.contains('point-tag')));\n\n      const inQaMode = this.qaModeActive;\n\n      const mouseIsDown = this.mousedown && !this.mouseup;\n\n      if (inQaMode && mouseIsDown && notClickingInAnyTag) {\n\n        this.mousemove = true;\n\n        this.ensureNoMark();\n\n        this.squareMark = this.createNewSquareMark(event);\n\n        wrapperElement.appendChild(this.squareMark);\n      }\n\n      this.onMouseLeave(wrapperElement);\n\n      this.onMouseOut(wrapperElement);\n\n      event.preventDefault();\n    });\n  }\n\n  private createNewSquareMark(event) {\n    const squareMark = document.createElement('div');\n    squareMark.id = 'squareMark';\n    squareMark.style.position = 'absolute';\n    squareMark.style.pointerEvents = 'none';\n    squareMark.style.borderStyle = 'solid';\n    squareMark.style.borderColor = '#f33d3c';\n    squareMark.style.borderWidth = '2px';\n    squareMark.style.width = `${(event.offsetX - this.startX)}px`;\n    squareMark.style.height = `${(event.offsetY - this.startY)}px`;\n    squareMark.style.top = this.startY > event.offsetY ? `${event.offsetY}px` : `${this.startY}px`;\n    squareMark.style.left = this.startX > event.offsetX ? `${event.offsetX}px` : `${this.startX}px`;\n    squareMark.style.width = `${Math.abs(this.startX - event.offsetX)}px`;\n    squareMark.style.height = `${Math.abs(this.startY - event.offsetY)}px`;\n    return squareMark;\n  }\n\n  private onMouseLeave(wrapperElement) {\n\n    wrapperElement.onmouseleave = () => {\n      if (this.qaModeActive && this.squareMark) {\n        this.mousedown = false;\n        this.mouseup = true;\n        this.squareMark.remove();\n      }\n    };\n\n  }\n\n  private onMouseOut(wrapperElement) {\n\n    wrapperElement.onmouseout = () => {\n      if (this.qaModeActive && this.squareMark) {\n        this.mousedown = false;\n        this.mouseup = true;\n        this.squareMark.remove();\n      }\n    };\n\n  }\n\n  private ensureNoMark() {\n\n    if (document.getElementById('squareMark')) {\n\n      document.getElementById('squareMark').remove();\n\n    }\n\n  }\n\n  private removeSquareMark() {\n\n    if (this.squareMark) {\n\n      this.squareMark.remove();\n\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecCommentDialogComponent } from './dec-comment-dialog.component';\nimport { MatButtonModule, MatFormFieldModule, MatInputModule } from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    FlexLayoutModule,\n    MatFormFieldModule,\n    FormsModule,\n    MatInputModule\n  ],\n  declarations: [DecCommentDialogComponent]\n})\nexport class DecCommentDialogModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecImageMarkerComponent } from './dec-image-marker.component';\nimport { DecImageMarksModule } from './../dec-image-marks/dec-image-marks.module';\nimport { MatDialogModule } from '@angular/material';\nimport { DecCommentDialogModule } from './dec-comment-dialog/dec-comment-dialog.module';\nimport { DecCommentDialogComponent } from './dec-comment-dialog/dec-comment-dialog.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecImageMarksModule,\n    MatDialogModule,\n    DecCommentDialogModule,\n    TranslateModule\n  ],\n  declarations: [DecImageMarkerComponent],\n  exports: [\n    DecImageMarkerComponent\n  ],\n  entryComponents: [\n    DecCommentDialogComponent\n  ]\n})\nexport class DecImageMarkerModule { }\n","import { Component, Input, ViewChild } from '@angular/core';\nimport { CarouselConfig } from './../gallery/carousel-config';\nimport { NguCarouselStore } from '@ngu/carousel/src/ngu-carousel/ngu-carousel.interface';\nimport { DecImageMarkerComponent } from './../dec-image-marker/dec-image-marker.component';\n\n@Component({\n  selector: 'dec-gallery-marks',\n  template: `<div fxLayout=\"column\" fxLayoutGap=\"16px\" class=\"dec-gallery-wrapper\">\n\n  <div class=\"image-highlighted\">\n    <dec-image-marker [render]=\"imageHighlight\" [qaModeActive]=\"qaModeActive\"></dec-image-marker>\n  </div>\n\n  <div class=\"text-right\" *ngIf=\"imgExternalLink\">\n\n    <a href=\"{{ imgExternalLink }}\" target=\"_blank\">{{ 'label.image-link' | translate }}</a>\n\n  </div>\n\n  <ngu-carousel class=\"carousel-wrapper\" [inputs]=\"carouselConfig\" (initData)=\"onInitDataFn($event)\" (onMove)=\"onMoveFn($event)\">\n\n    <ngu-item NguCarouselItem *ngFor=\"let image of images\" [class.active]=\"image == imageHighlight\">\n\n      <img [decImage]=\"image.file\" [decImageSize]=\"{width:300, height:300}\" (click)=\"onSelectImage($event,image)\">\n      <div class=\"has-marks\" *ngIf=\"image?.comments?.length > 0\">!</div>\n\n    </ngu-item>\n\n    <mat-icon NguCarouselPrev class=\"left-previous\" [ngClass]=\"{'disabled': isFirst}\">chevron_left</mat-icon>\n\n    <mat-icon NguCarouselNext class=\"right-next\" [ngClass]=\"{'disabled': isLast}\">chevron_right</mat-icon>\n\n  </ngu-carousel>\n\n  <div fxLayout=\"column\" fxLayoutGap=\"8px\">\n    <mat-expansion-panel class=\"mat-elevation-z0\" *ngIf=\"measures\">\n      <mat-expansion-panel-header>\n        {{ 'label.measures' | translate }}\n      </mat-expansion-panel-header>\n      <mat-list role=\"list\">\n        <mat-list-item role=\"listitem\">\n          <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"space-between center\">\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ 'label.product' | translate }}</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ 'label.model' | translate }}</span>\n            </div>\n          </div>\n        </mat-list-item>\n        <mat-list-item role=\"listitem\">\n          <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"space-between center\">\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ 'label.cubeX' | translate }}</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ measures.modelCubeX?.cm }} - {{ measures.modelCubeX?.in }} in</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ measures.referenceCubeX?.cm }} - {{ measures.referenceCubeX?.in }}</span>\n            </div>\n          </div>\n        </mat-list-item>\n        <mat-list-item role=\"listitem\">\n          <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"space-between center\">\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ 'label.cubeZ' | translate }}</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ measures.modelCubeZ?.cm }} - {{ measures.modelCubeZ?.in }} in</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ measures.referenceCubeZ?.cm }} - {{ measures.referenceCubeZ?.in }}</span>\n            </div>\n          </div>\n        </mat-list-item>\n        <mat-list-item role=\"listitem\">\n          <div fxLayout=\"row\" fxFlex fxLayoutAlign=\"space-between center\">\n            <div fxLayout=\"row\" fxFlex=\"33\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ 'label.cubeY' | translate }}</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ measures.modelCubeY?.cm }} - {{ measures.modelCubeY?.in }} in</span>\n            </div>\n            <div fxLayout=\"row\" fxFlex=\"33\" fxLayoutAlign=\"start center\" fxLayoutGap=\"32px\">\n              <span>{{ measures.referenceCubeY?.cm }} - {{ measures.referenceCubeY?.in }}</span>\n            </div>\n          </div>\n        </mat-list-item>\n      </mat-list>\n    </mat-expansion-panel>\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\">\n      <dec-icon class=\"dec-icon-size\" font=\"mat\">bookmarks</dec-icon>\n      <span class=\"dec-icon-text-size\">Tags</span>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"space-between center\" *ngFor=\"let c of images; let r = index;\">\n      <div *ngIf=\"c?.comments?.length > 0\" fxLayout=\"column\" fxLayoutGap=\"10px\" fxLayoutAlign=\"space-between start\">\n        <h4 class=\"title-render\">{{ 'label.Render' | translate}} {{ r+1 }}</h4>\n        <div fxLayoutAlign=\"space-between center\" fxLayoutGap=\"16px\" class=\"markdown-item\" *ngFor=\"let comments of c?.comments; let i = index\">\n          <span fxFlex=\"24px\" class=\"{{getClass(comments)}}\">{{i + 1}}</span>\n          <span *ngIf=\"comments.comment\" class=\"text-markdown\">\n            {{comments.comment}}\n          </span>\n          <mat-icon class=\"delete-button\" *ngIf=\"qaModeActive && !comments.requestByClient\" (click)=\"deleteMark(imgMarker.decMarks.marksWrapper.nativeElement.querySelectorAll('.point-tag'), i, r)\">delete</mat-icon>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.no-padding .mat-dialog-container{padding:0}.box-shadow-none .mat-dialog-container{box-shadow:none}.cdk-overlay-container .mat-menu-panel{max-width:400px}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}@media screen and (-ms-high-contrast:active){.mat-ripple-element{display:none}}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.dec-gallery-wrapper{overflow:hidden}.dec-gallery-wrapper .image-highlighted{border:2px solid #9e9e9e;box-sizing:border-box}.dec-gallery-wrapper a{font-size:10px;text-decoration:none;color:#929292;cursor:pointer}.dec-gallery-wrapper .carousel-wrapper{margin-top:8px;padding:0 24px;height:128px}.dec-gallery-wrapper .carousel-wrapper ngu-item{display:flex;justify-content:center;align-items:center}.dec-gallery-wrapper .carousel-wrapper ngu-item img{border:2px solid #9e9e9e;box-sizing:border-box;max-width:124px;cursor:pointer}.dec-gallery-wrapper .carousel-wrapper ngu-item.active img,.dec-gallery-wrapper .carousel-wrapper ngu-item:hover img{border:2px solid #232e38}.dec-gallery-wrapper .carousel-wrapper .left-previous,.dec-gallery-wrapper .carousel-wrapper .right-next{display:block!important;position:absolute;top:calc(50% - 12px);cursor:pointer;text-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dec-gallery-wrapper .carousel-wrapper .left-previous:hover,.dec-gallery-wrapper .carousel-wrapper .right-next:hover{text-shadow:0 0 6px rgba(0,0,0,.2)}.dec-gallery-wrapper .carousel-wrapper .left-previous.disabled,.dec-gallery-wrapper .carousel-wrapper .right-next.disabled{opacity:.4}.dec-gallery-wrapper .carousel-wrapper .left-previous.disabled:hover,.dec-gallery-wrapper .carousel-wrapper .right-next.disabled:hover{text-shadow:none}.dec-gallery-wrapper .carousel-wrapper .left-previous{left:0}.dec-gallery-wrapper .carousel-wrapper .right-next{right:0}.dec-icon-size{font-size:28px}.dec-icon-text-size{font-size:18px;position:relative;top:6px;left:-30px}.tags-item{background-color:#f44336;text-align:center;color:#fff;font-weight:500;border:2px solid transparent;padding:5px}.type-square{background-color:transparent;border-color:#f44336;color:#f44336;border-top:2px solid;border-left:2px solid;border-bottom:2px dotted;border-right:2px dotted}.type-square.client{border-color:#f8cb00;color:#f8cb00}.type-point{border-radius:50%;height:24px;display:flex;align-items:center;justify-content:center}.type-point.client{background-color:#f8cb00}.markdown-item:last-child{margin-bottom:32px}.text-markdown{font-size:13px;line-height:16px;color:#656d74;min-width:540px}.delete-button{cursor:pointer}ngu-item{position:relative}ngu-item .has-marks{background-color:#f33d3c;width:24px;height:24px;display:flex;justify-content:center;align-items:center;position:absolute;top:4px;right:4px;border-radius:50%;color:#fff}`]\n})\nexport class DecGalleryMarksComponent {\n\n  imageHighlight: any;\n\n  activeImage: Element;\n\n  imgExternalLink: string;\n\n  isFirst: boolean;\n\n  isLast: boolean;\n\n  carouselConfig = CarouselConfig;\n\n  @ViewChild(DecImageMarkerComponent) imgMarker: DecImageMarkerComponent;\n\n  @Input() qaModeActive?: boolean;\n\n  @Input()\n  set measures(value: any) {\n    if (value) {\n      this._measures = {};\n      this._measures.modelCubeX = {\n        cm: `${Math.round(value.modelCubeX).toFixed(2)} cm`,\n        in: `${Math.round(value.modelCubeX * 0.39370).toFixed(2)} in`\n      };\n      this._measures.referenceCubeX = {\n        cm: `${Math.round(value.referenceCubeX).toFixed(2)} cm`,\n        in: `${Math.round(value.referenceCubeX * 0.39370).toFixed(2)} in`\n      };\n      this._measures.modelCubeY = {\n        cm: `${Math.round(value.modelCubeY).toFixed(2)} cm`,\n        in: `${Math.round(value.modelCubeY * 0.39370).toFixed(2)} in`\n      };\n      this._measures.referenceCubeY = {\n        cm: `${Math.round(value.referenceCubeY).toFixed(2)} cm`,\n        in: `${Math.round(value.referenceCubeY * 0.39370).toFixed(2)} in`\n      };\n      this._measures.modelCubeZ = {\n        cm: `${Math.round(value.modelCubeZ).toFixed(2)} cm`,\n        in: `${Math.round(value.modelCubeZ * 0.39370).toFixed(2)} in`\n      };\n      this._measures.referenceCubeZ = {\n        cm: `${Math.round(value.referenceCubeZ).toFixed(2)} cm`,\n        in: `${Math.round(value.referenceCubeZ * 0.39370).toFixed(2)} in`\n      };\n    }\n  }\n\n  get measures(): any {\n\n    return this._measures;\n\n  }\n\n  @Input()\n  set images(value: any[]) {\n\n    value = value || new Array<any>();\n\n    if (value && (JSON.stringify(value) !== JSON.stringify(this._images))) {\n\n      this.imageHighlight = value[0];\n\n      this._images = value;\n\n      this.setExternalLink();\n\n    }\n\n  }\n\n  get images(): any[] {\n\n    return this._images;\n\n  }\n\n  private _images: any[] = [];\n\n  private _measures: any;\n\n  constructor() { }\n\n  onSelectImage = ($event, sysFile) => {\n\n    if (this.activeImage && this.activeImage !== $event.target) {\n\n      this.activeImage.className = '';\n\n    }\n\n    $event.target.className = 'active';\n\n    this.activeImage = $event.target;\n\n    this.imageHighlight = sysFile;\n\n    this.setExternalLink();\n\n  }\n\n  setExternalLink = () => {\n\n    if (this.imageHighlight && this.imageHighlight.file) {\n\n      this.imgExternalLink = this.imageHighlight.file.fileUrl;\n\n    }\n\n  }\n\n  onInitDataFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.items >= this.images.length);\n\n  }\n\n  onMoveFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.isLast);\n\n  }\n\n  setPrevNextCheckers(first: boolean, last: boolean) {\n\n    setTimeout(() => {\n\n      this.isFirst = first;\n\n      this.isLast = last;\n\n    }, 0);\n\n  }\n\n  getClass(comment) {\n    let cssClass = 'tags-item';\n\n    if (comment.coordinates.length === 2) {\n      cssClass += ' type-point';\n    } else {\n      cssClass += ' type-square';\n    }\n\n    if (comment.requestByClient) {\n      cssClass += ' client';\n    }\n\n    return cssClass;\n  }\n\n  deleteMark(target, commentIndex, renderIndex) {\n    if (this.images.indexOf(this.imageHighlight) === renderIndex) {\n      this.imgMarker.deleteMark(target[commentIndex], commentIndex);\n    } else {\n      this.images[renderIndex].comments.splice(commentIndex, 1);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecGalleryMarksComponent } from './dec-gallery-marks.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MatIconModule, MatExpansionModule, MatListModule } from '@angular/material';\nimport { NguCarouselModule } from '@ngu/carousel';\nimport { DecImageMarkerModule } from './../dec-image-marker/dec-image-marker.module';\nimport { DecImageModule } from './../../directives/image/image.module';\nimport 'hammerjs';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { DecIconModule } from './../dec-icon/dec-icon.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n    MatIconModule,\n    NguCarouselModule,\n    DecImageModule,\n    DecImageMarkerModule,\n    FlexLayoutModule,\n    DecIconModule,\n    MatExpansionModule,\n    MatListModule\n  ],\n  declarations: [\n    DecGalleryMarksComponent\n  ],\n  exports: [\n    DecGalleryMarksComponent\n  ]\n})\nexport class DecGalleryMarksModule { }\n","import { Injectable } from '@angular/core';\nimport { DecScriptLoaderService } from './../script-loader/dec-script-loader.service';\nimport { fromEvent, Observable } from 'rxjs';\nimport { DecColorService } from './../color/dec-color.service';\n\nconst HTML2CANVAS_SCRIPT_URL = 'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js';\n\n@Injectable()\nexport class ColorPickerService {\n\n  private html2canvas: any;\n\n  private contentBlocker: HTMLDivElement;\n  private previewHex: HTMLDivElement;\n\n  private sketchFab: HTMLCanvasElement;\n  private overlaySketchFab: HTMLDivElement;\n\n  private existingSketchFabView: HTMLDivElement;\n\n  constructor(private decScriptLoaderService: DecScriptLoaderService, private decColorService: DecColorService) {\n    this.decScriptLoaderService.load(HTML2CANVAS_SCRIPT_URL, 'html2canvas').then((res) => {\n      this.html2canvas = res;\n    });\n  }\n\n  start = new Observable((observer) => {\n\n    this._generateContentBloker();\n    this._generatePreviewBloker();\n    this._workaroundForSketchFabFrames();\n\n    this.html2canvas(document.body).then(canvas => {\n\n      let hex: string;\n\n      this.contentBlocker.style.cursor = `url(\"${this._getCursorBase64BySize()}\"), default`;\n\n      fromEvent(this.contentBlocker, 'mousemove').subscribe((event: MouseEvent) => {\n\n        const lensSize = 30;\n\n        this.previewHex.style.top = `${event.pageY}px`;\n        this.previewHex.style.left = `${event.pageX + 40}px`;\n\n        this.previewHex.style.display = 'block';\n\n        const imageData = canvas.getContext('2d').getImageData(event.pageX, event.pageY, lensSize, lensSize).data;\n        const totals = { r: 0, g: 0, b: 0 };\n        const rgbArrays = { r: [], g: [], b: [] };\n\n        for (let i = 0; i < imageData.length; i += 4) {\n          rgbArrays.r.push(imageData[i]);\n          rgbArrays.g.push(imageData[i + 1]);\n          rgbArrays.b.push(imageData[i + 2]);\n        }\n\n        totals.r = Math.floor(rgbArrays.r.reduce((accum, curr) => accum + curr) / (lensSize * lensSize));\n        totals.g = Math.floor(rgbArrays.g.reduce((accum, curr) => accum + curr) / (lensSize * lensSize));\n        totals.b = Math.floor(rgbArrays.b.reduce((accum, curr) => accum + curr) / (lensSize * lensSize));\n\n        hex = '#' + ('000000' + this.decColorService.rgbToHex(totals.r, totals.g, totals.b)).slice(-6);\n\n        this.previewHex.innerText = hex;\n      });\n\n      fromEvent(this.contentBlocker, 'click').subscribe(() => {\n        this._eventInitClick(observer, hex);\n      });\n    });\n  });\n\n  private _generateContentBloker() {\n    this.contentBlocker = document.createElement('div');\n    this.contentBlocker.id = 'contentBlocker';\n    this.contentBlocker.style.cursor = 'wait';\n    document.body.appendChild(this.contentBlocker);\n  }\n\n  private _generatePreviewBloker() {\n    this.previewHex = document.createElement('div');\n    this.previewHex.style.position = 'absolute';\n    this.previewHex.style.display = 'none';\n    this.previewHex.style.backgroundColor = '#ffffff';\n    this.previewHex.style.color = '#000000';\n    this.previewHex.style.border = '2px solid #000000';\n    this.previewHex.style.borderRadius = '2px';\n    this.previewHex.style.padding = '4px 8px';\n    this.previewHex.style.fontWeight = '900';\n    this.previewHex.style.fontSize = '18px';\n    this.contentBlocker.appendChild(this.previewHex);\n  }\n\n  private _workaroundForSketchFabFrames() {\n    this.existingSketchFabView = document.querySelector('dec-sketchfab-view');\n    if (this.existingSketchFabView) {\n      this.sketchFab = document.querySelector('dec-sketchfab-view #api-frame');\n      this.overlaySketchFab = document.createElement('div');\n      this.overlaySketchFab.style.height = '624px';\n      this.overlaySketchFab.style.width = '624px';\n      this.overlaySketchFab.style.borderWidth = '2px';\n      this.overlaySketchFab.style.borderStyle = 'inset';\n      this.overlaySketchFab.style.borderColor = 'initial';\n      this.overlaySketchFab.style.borderImage = 'initial';\n      this.overlaySketchFab.style.boxSizing = 'border-box';\n      this.overlaySketchFab.style.marginBottom = '3px';\n      this.existingSketchFabView.appendChild(this.overlaySketchFab);\n      this.sketchFab.hidden = true;\n    }\n  }\n\n  private _eventInitClick(observer, hex) {\n    this.contentBlocker.remove();\n    if (this.existingSketchFabView) {\n      this.overlaySketchFab.remove();\n      this.sketchFab.hidden = false;\n    }\n    observer.next(hex);\n    observer.complete();\n  }\n\n  private _getCursorBase64BySize() {\n    return 'data:image/png;base64,' +\n      'iVBORw0KGgoAAAANSUhEUgAAACI' +\n      'AAAAiCAYAAAA6RwvCAAAABHNCSV' +\n      'QICAgIfAhkiAAAAJFJREFUWIXt2' +\n      'MEJwzAQRNHZ4L7S0nRgp4PteHPJ' +\n      '5jAYAnKIFJh3ksCHz0oHoyBZWMB' +\n      'tdkDbepGZMSOgT2SZiThEOUQ5RD' +\n      'lEOURdDiG5kzymh3zL9vmTcyR3A' +\n      'IiIe1VF7zPz8dMQAAEAVRWv9aXf' +\n      'iOGQzDyA92Si96P + /4600Tuhl' +\n      'pmIQ5RDlEOUQ5RDVPh9RDwB7zMg' +\n      '+1NqreMAAAAASUVORK5CYII=';\n  }\n}\n","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material';\nimport { DecColorService } from './../../../services/color/dec-color.service';\nimport { ColorPickerService } from './../../../services/color-picker/color-picker.service';\nimport { takeUntil, mergeMap } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\n\n@Component({\n  selector: 'dec-color-picker-modal',\n  template: `<div fxLayout=\"column\">\n  <div class=\"color-preview\" [ngStyle]=\"{'backgroundColor': hex}\">\n    <dec-icon font=\"mat\" class=\"close-preview\" (click)=\"cancel()\">close</dec-icon>\n  </div>\n  <div class=\"color-options-container\" fxLayout=\"column\">\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\">\n      <span>R</span>\n      <mat-slider fxFlex min=\"0\" max=\"255\" step=\"1\" [value]=\"red\" [(ngModel)]=\"red\" (ngModelChange)=\"changeRgbValue()\"></mat-slider>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\">\n      <span>G</span>\n      <mat-slider fxFlex min=\"0\" max=\"255\" step=\"1\" [value]=\"green\" [(ngModel)]=\"green\" (ngModelChange)=\"changeRgbValue()\"></mat-slider>\n    </div>\n    <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\">\n      <span>B</span>\n      <mat-slider fxFlex min=\"0\" max=\"255\" step=\"1\" [value]=\"blue\" [(ngModel)]=\"blue\" (ngModelChange)=\"changeRgbValue()\"></mat-slider>\n    </div>\n\n    <div fxLayout=\"column\" fxLayoutAlign=\"start\" fxLayoutGap=\"16px\" class=\"color-input-container\">\n\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"16px\">\n\n        <div fxFlex>RGB</div>\n\n        <input matInput type=\"number\" min=\"0\" max=\"255\" value=\"red\" [(ngModel)]=\"red\" (ngModelChange)=\"changeRgbValue()\"\n          autocomplete=\"off\">\n\n        <input matInput type=\"number\" min=\"0\" max=\"255\" value=\"green\" [(ngModel)]=\"green\" (ngModelChange)=\"changeRgbValue()\"\n          autocomplete=\"off\">\n\n        <input matInput type=\"number\" min=\"0\" max=\"255\" value=\"blue\" [(ngModel)]=\"blue\" (ngModelChange)=\"changeRgbValue()\"\n          autocomplete=\"off\">\n\n      </div>\n\n      <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"16px\">\n\n        <div fxFlex>HEX</div>\n\n        <input matInput type=\"text\" value=\"hex\" [(ngModel)]=\"hex\" autocomplete=\"off\">\n\n        <dec-icon font=\"mat\" (click)=\"startColorPicker()\">colorize</dec-icon>\n\n      </div>\n\n    </div>\n\n    <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"end center\" class=\"dialog-actions\">\n      <button mat-button type=\"button\" (click)=\"cancel()\">{{ 'label.Cancel' | translate | uppercase }}</button>\n      <button mat-raised-button color=\"primary\" type=\"button\" (click)=\"apply()\">{{ 'label.Apply' | translate | uppercase }}</button>\n    </div>\n\n  </div>\n\n</div>\n`,\n  styles: [`.color-preview{height:320px;margin:0;padding:0;position:relative;cursor:-webkit-grab;cursor:grab}.color-preview .close-preview{position:absolute;right:0;top:0;cursor:pointer}.color-preview .close-preview:hover{color:#fff}.color-options-container{background-color:#eee;padding:0 16px;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.color-options-container .color-input-container{margin-bottom:16px}.color-options-container .color-input-container input{text-align:center;border-bottom:1px solid #ccc}.color-options-container .color-input-container input:focus{border-color:rgba(0,0,0,.7)}.color-options-container .color-input-container input[type=number]::-webkit-inner-spin-button,.color-options-container .color-input-container input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none}.color-options-container .color-input-container input[type=number]{-moz-appearance:textfield}.color-options-container .color-input-container dec-icon{cursor:pointer}.dialog-actions{text-align:right;background-color:#eee;padding-bottom:8px}`]\n})\nexport class DecColorPickerModalComponent implements OnInit {\n\n  red: number;\n\n  green: number;\n\n  blue: number;\n\n  hex: string;\n\n  rgb: string;\n\n  constructor(\n    private dialogRef: MatDialogRef<DecColorPickerModalComponent>,\n    @Inject(MAT_DIALOG_DATA) private data: any,\n    private decColorService: DecColorService,\n    private colorPickerService: ColorPickerService\n  ) {\n    this.hex = this.data.color;\n  }\n\n  ngOnInit() {\n    this.load();\n    this.dragInit();\n  }\n\n  private load() {\n    this.rgb = this.hex ? this.decColorService.hexToRgb(this.hex) : null;\n    if (this.rgb) {\n      this.red = parseInt(this.rgb[0], 10);\n      this.green = parseInt(this.rgb[1], 10);\n      this.blue = parseInt(this.rgb[2], 10);\n      this.rgb = `rgb(${this.red},${this.green},${this.blue})`;\n    }\n  }\n\n  private dragInit() {\n\n    const dragItem: HTMLDivElement = document.querySelector('.color-picker-container');\n    const dragger: HTMLDivElement = document.querySelector('.color-preview');\n\n    const move$ = fromEvent(document, 'mousemove');\n    const down$ = fromEvent(dragger, 'mousedown');\n    const up$ = fromEvent(document, 'mouseup');\n\n    const drag$ = down$.pipe(\n      mergeMap(() => {\n        dragItem.style.position = 'absolute';\n        return move$.pipe(takeUntil(up$));\n      })\n    );\n\n    drag$.subscribe((event: MouseEvent) => {\n      dragItem.style.top = `${event.clientY - 160}px`;\n      dragItem.style.left = `${event.clientX - 160}px`;\n    });\n\n  }\n\n  changeRgbValue() {\n    this.hex = this.decColorService.rgbToHex(this.red || 0, this.green || 0, this.blue || 0);\n    this.rgb = this.decColorService.hexToRgb(this.hex, true);\n  }\n\n  startColorPicker() {\n    const colorContainer = document.getElementById('colorContainer');\n    colorContainer.style.display = 'none';\n    this.colorPickerService.start.subscribe((color: string) => {\n      colorContainer.style.display = 'block';\n      this.hex = color;\n      this.load();\n    });\n  }\n\n  cancel() {\n    this.dialogRef.close();\n  }\n\n  apply() {\n    this.dialogRef.close(this.hex);\n  }\n\n}\n","import { Component, ViewEncapsulation, Input, forwardRef } from '@angular/core';\nimport { MatDialog } from '@angular/material';\nimport { DecColorPickerModalComponent } from './dec-color-picker-modal/dec-color-picker-modal.component';\nimport { ColorPickerService } from './../../services/color-picker/color-picker.service';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DecColorService } from './../../services/color/dec-color.service';\n\nconst noop = () => { };\n\nconst COLOR_PICKER_CONTROL_VALUE_ACCESSOR = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecColorPickerComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-color-picker',\n  template: `<div class=\"dec-color-picker-wrapper\" fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\">\n  <div fxFlex=\"32px\" class=\"color-picker\" [ngStyle]=\"{'backgroundColor': hexValue}\" (click)=\"openColorBox()\"></div>\n  <mat-form-field>\n    <input matInput [(ngModel)]=\"hexValue\" [disabled]=\"disabled\" [autocomplete]=\"autocomplete\" [placeholder]=\"placeholder\"\n      [pattern]=\"pattern\" (ngModelChange)=\"setValueBasedOnColorFormat()\">\n    <dec-icon font=\"mat\" matSuffix (click)=\"startColorPicker()\">colorize</dec-icon>\n  </mat-form-field>\n</div>\n`,\n  styles: [`.dec-color-picker-wrapper .color-picker{cursor:pointer;height:32px;margin-bottom:10px;border:2px solid rgba(0,0,0,.42);border-radius:2px}.dec-color-picker-wrapper .color-picker:hover{border-color:rgba(0,0,0,.87)}.dec-color-picker-wrapper dec-icon{font-size:24px;cursor:pointer}.dec-color-picker-wrapper dec-icon:hover{color:rgba(0,0,0,.87)}#contentBlocker{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:9999;overflow:hidden;background-color:transparent}`],\n  encapsulation: ViewEncapsulation.None,\n  providers: [COLOR_PICKER_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecColorPickerComponent implements ControlValueAccessor {\n\n  @Input() disabled: boolean;\n\n  @Input() colorFormat = 'rgb';\n\n  @Input() placeholder = 'Color';\n\n  autocomplete = 'off';\n\n  pattern = '^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$';\n\n  set value(v: any) {\n\n    if (this.modelValueReference !== v) {\n\n      this.modelValueReference = v;\n\n    }\n\n    this.onChangeCallback(this.value);\n\n    this.onTouchedCallback();\n\n  }\n  get value(): any {\n    return this.modelValueReference;\n  }\n\n  hexValue;\n\n  private modelValueReference: any;\n\n  private onTouchedCallback: () => void = noop;\n\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private dialog: MatDialog, private colorPickerService: ColorPickerService, public colorService: DecColorService) { }\n\n  writeValue(value: any): void {\n\n    value = value || [255, 255, 255]; // ensure modal value\n\n    this.modelValueReference = value;\n\n    this.updateHexValueBasedOnModelValueAndFormat();\n\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  startColorPicker() {\n    this.colorPickerService.start.subscribe((color) => {\n      this.hexValue = color;\n      this.modelValueReference = this.hexValue;\n      this.setValueBasedOnColorFormat();\n    });\n  }\n\n  openColorBox() {\n    this.dialog.open(DecColorPickerModalComponent, {\n      data: { color: this.hexValue }, width: '320px', id: 'colorContainer', panelClass: ['color-picker-container', 'no-padding', 'box-shadow-none'], hasBackdrop: false, disableClose: true\n    }).afterClosed().subscribe(color => {\n      if (color) {\n        this.hexValue = color;\n        this.setValueBasedOnColorFormat();\n      }\n    });\n  }\n\n  setValueBasedOnColorFormat() {\n    if (this.modelValueReference) {\n      const lastValueAsHexa = this.colorFormat === 'hex'\n        ? this.modelValueReference\n        : this.colorService.rgbToHex(this.modelValueReference[0] || 0, this.modelValueReference[1] || 0, this.modelValueReference[2] || 0);\n      if (this.hexValue.match(/^#(?:[0-9a-f]{3}){1,2}$/i) && this.hexValue !== lastValueAsHexa) {\n        this.value = this.colorFormat === 'hex' ? this.hexValue : this.colorService.hexToRgb(this.hexValue);\n      }\n    }\n  }\n\n\n  private updateHexValueBasedOnModelValueAndFormat() {\n    const color = this.modelValueReference;\n    if (color) {\n      if (this.colorFormat === 'rgb') {\n        this.hexValue = this.colorService.rgbToHex(color[0], color[1], color[2]);\n      } else {\n        this.hexValue = color;\n      }\n    } else {\n      this.hexValue = '';\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ColorPickerService } from './color-picker.service';\nimport { DecScriptLoaderModule } from './../script-loader/dec-script-loader.module';\nimport { DecColorServiceModule } from './../color/dec-color-service.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecScriptLoaderModule,\n    DecColorServiceModule\n  ],\n  providers: [ColorPickerService]\n})\nexport class ColorPickerModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecColorPickerComponent } from './dec-color-picker.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatSliderModule, MatButtonModule, MatInputModule, MatDialogModule } from '@angular/material';\nimport { FormsModule } from '@angular/forms';\nimport { DecIconModule } from './../dec-icon/dec-icon.module';\nimport { DecColorPickerModalComponent } from './dec-color-picker-modal/dec-color-picker-modal.component';\nimport { ColorPickerModule } from './../../services/color-picker/color-picker.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatSliderModule,\n    MatButtonModule,\n    MatInputModule,\n    DecIconModule,\n    FormsModule,\n    MatDialogModule,\n    ColorPickerModule,\n    TranslateModule,\n  ],\n  declarations: [DecColorPickerComponent, DecColorPickerModalComponent],\n  exports: [DecColorPickerComponent],\n  entryComponents: [DecColorPickerModalComponent]\n})\nexport class DecColorPickerModule { }\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-avatar',\n  template: `<div class=\"avatar\" *ngIf=\"account?.profilePicture\" [decImage]=\"account?.profilePicture\" [decImageSize]=\"{width:200, height:200}\"></div>\n\n<div *ngIf=\"!account?.profilePicture\" class=\"avatar-initials\">\n  {{ initialsName }}\n</div>\n`,\n  styles: [`.avatar{width:52px;height:52px;border-radius:50%;background-color:#f1f1f1}.avatar-initials{width:52px;height:52px;border-radius:50%;background-color:#ef3f54;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:800;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}`]\n})\nexport class DecAvatarComponent {\n\n  @Input()\n  set account(v: any) {\n    if (v !== this._account) {\n      this._account = v;\n\n      if (v && !v['profilePicture']) {\n        this.getInitialsName();\n      }\n    }\n  }\n\n  get account() {\n    return this._account;\n  }\n  private _account: any;\n\n  initialsName: string;\n\n  private getInitialsName(): void {\n    if (!this.account['profilePicture']) {\n      const { name } = this.account;\n\n      this.initialsName = name[0].toUpperCase();\n      const arrName = name.split(' ');\n      this.initialsName += arrName[arrName.length - 1][0].toUpperCase();\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecAvatarComponent } from './dec-avatar.component';\nimport { DecImageModule } from '../../directives/image/image.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecImageModule\n  ],\n  declarations: [DecAvatarComponent],\n  exports: [DecAvatarComponent]\n})\nexport class DecAvatarModule { }\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanActivateChild, CanLoad, Route, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { DecApiService } from './../services/api/decora-api.service';\nimport { map } from 'rxjs/operators';\n\n\n@Injectable()\nexport class DecAuthGuard implements CanLoad, CanActivate, CanActivateChild {\n\n  constructor(\n    private decoraApi: DecApiService\n  ) {}\n\n  canLoad(route: Route): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n  private isAuthenticated(): Observable<boolean> {\n    return this.decoraApi.user$\n    .pipe(\n      map((user: any) => {\n        return (user && user.id) ? true : false;\n      })\n    ) as Observable<boolean>;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecAuthGuard } from './auth-guard.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecAuthGuard\n  ]\n})\nexport class DecGuardModule { }\n","import { Injectable } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { map } from 'rxjs/operators';\nimport { Observable } from 'rxjs';\n\nconst CATEGORY_ENDPOINT = '/legacy/product/category?language={i18n}';\n\n@Injectable()\nexport class CategoryPipeService {\n\n  constructor(private decApi: DecApiService) { }\n\n  get = (code) => {\n    if (code && code.length > 0) {\n      const codes = code.toUpperCase().split('');\n      return this.getData().pipe(\n        map(data => {\n\n          if (data) {\n            let category = '';\n\n            let map = data.sub;\n            for (let i in codes) {\n              if (category.length > 0) {\n                category += ' > ';\n              }\n\n              if (map[codes[i]]) {\n\n                category += map[codes[i]].name;\n                if (map[codes[i]].sub) {\n                  map = map[codes[i]].sub;\n                }\n\n              } else {\n                category += 'INVALID';\n              }\n\n            }\n            return category;\n\n          }\n\n          return '';\n        })\n      );\n    }\n\n    return this.getData()\n      .pipe(\n        map(data => {\n\n          const category = '';\n          return category;\n        })\n      );\n  }\n\n  formatI18n(i18n) {\n    switch (i18n) {\n      case 'PT_BR':\n        return 'pt-br';\n      case 'EN':\n        return 'en';\n    }\n  }\n\n  private getData() {\n    const user = this.decApi.user;\n    const endpoint = CATEGORY_ENDPOINT.replace('{i18n}', this.formatI18n(user.i18n));\n    return this.decApi.get(endpoint);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { CategoryPipeService } from './category-pipe.service';\nimport { Observable } from 'rxjs';\n\n\n\n@Pipe({\n  name: 'decCategory'\n})\nexport class CategoryPipe implements PipeTransform {\n\n  constructor(private categoryPipeService: CategoryPipeService) {\n  }\n\n  transform(value: string): Observable<string> {\n    return this.categoryPipeService.get(value);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CategoryPipe } from './category.pipe';\nimport { CategoryPipeService } from './category-pipe.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    CategoryPipe\n  ],\n  exports:[ \n    CategoryPipe\n  ],\n  providers: [\n    CategoryPipe,\n    CategoryPipeService\n  ]\n})\nexport class CategoryPipeModule { }\n","import { NgModule, SkipSelf, Optional } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { DecApiService } from './decora-api.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule,\n  ],\n  providers: [\n    DecApiService,\n  ]\n})\nexport class DecApiModule {\n  constructor(@Optional() @SkipSelf() parentModule: DecApiModule) {\n    if (parentModule) {\n      throw new Error(\n        'DecApiModule is already loaded. Import it in the AppModule only');\n    }\n  }\n}\n","export class UserAuthData {\n  public id: string;\n  public email: string;\n  public name: string;\n  public country: string;\n  public company: string;\n  public role: number;\n  public i18n: string;\n  public permissions: Array<string>;\n\n  constructor(user: any = {}) {\n    this.id = user.id || undefined;\n    this.email = user.email || undefined;\n    this.name = user.name || undefined;\n    this.country = user.country || undefined;\n    this.company = user.company || undefined;\n    this.role = user.role || undefined;\n    this.i18n = user.i18n || undefined;\n    this.permissions = user.permissions || undefined;\n  }\n}\n\nexport interface LoginData {\n  email: string;\n  password: string;\n  keepLogged: boolean;\n}\n\nexport interface FacebookLoginData {\n  keepLogged: boolean;\n  facebookToken: string;\n}\n\n/*\n  * FilterGroups\n  *\n  * an Array of filter group\n  */\nexport type FilterGroups = FilterGroup[];\n\n/*\n  * Filters\n  *\n  * an Array of filter\n  */\nexport type Filters = Filter[];\n\n/*\n  * FilterData\n  *\n  * Filter configuration\n  */\nexport interface FilterData {\n  endpoint: string;\n  payload: DecFilter;\n  cbk?: Function;\n  clear?: boolean;\n}\n\n/*\n  * Filter\n  *\n  * Filter configuration\n  */\nexport interface DecFilter {\n  filterGroups?: FilterGroups;\n  projectView?: any;\n  sort?: any;\n  page?: number;\n  limit?: number;\n  textSearch?: string;\n}\n\n/*\n  * Filter\n  *\n  * Filter configuration\n  */\nexport interface SerializedDecFilter {\n  filter?: string;\n  projectView?: string;\n  sort?: string;\n  page?: number;\n  limit?: number;\n  textSearch?: string;\n}\n\n/*\n  * Filter\n  *\n  * Signle filter\n  */\nexport class Filter {\n  property: string;\n  value: string | string[];\n\n  constructor(data: any = {}) {\n    this.property = data.property;\n    this.value = Array.isArray(data.property) ? data.property : [data.property];\n  }\n}\n\n/*\n  * FilterGroup\n  *\n  * Group of Filter\n  */\nexport interface FilterGroup {\n  filters: Filters;\n}\n\n/*\n  * ColumnsSortConfig\n  *\n  * Configuration to sort sort\n  */\nexport interface ColumnsSortConfig {\n  property: string;\n  order: {\n    type: 'asc' | 'desc'\n  };\n}\n\n/*\n  * QueryParams\n  *\n  * QueryParams to be used in GET requests\n  */\nexport interface QueryParams {\n  [key: string]: string | string[];\n}\n","import { NgModule, InjectionToken, SkipSelf, Optional } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecConfigurationService } from './configuration.service';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { DecConfigurationForRootConfig } from './configuration-service.models';\n\nexport const DECORA_CONFIGURATION_SERVICE_CONFIG = new InjectionToken<DecConfigurationForRootConfig>('DECORA_CONFIGURATION_SERVICE_CONFIG');\n\nexport function InitDecConfigurationService(http: HttpClient, serviceConfig: DecConfigurationForRootConfig) {\n  return new DecConfigurationService(http, serviceConfig);\n}\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule\n  ],\n  exports: [\n    HttpClientModule\n  ]\n})\nexport class DecConfigurationModule {\n\n  constructor(@Optional() @SkipSelf() parentModule: DecConfigurationModule) {\n    if (parentModule) {\n      throw new Error('DecConfigurationModule is already loaded. Import it in the AppModule only');\n    }\n  }\n\n  static forRoot(config: DecConfigurationForRootConfig) {\n\n    return {\n      ngModule: DecConfigurationModule,\n      providers: [\n        { provide: DECORA_CONFIGURATION_SERVICE_CONFIG, useValue: config },\n        {\n          provide: DecConfigurationService,\n          useFactory: InitDecConfigurationService,\n          deps: [HttpClient, DECORA_CONFIGURATION_SERVICE_CONFIG]\n        }\n      ]\n    };\n\n  }\n\n}\n","import { Component, ViewChild, OnInit, ComponentFactoryResolver, ComponentFactory, ComponentRef, ViewContainerRef, Output, EventEmitter } from '@angular/core';\nimport { ComponentType } from '@angular/cdk/portal';\nimport { DecDialogAction } from './dec-dialog.models';\nimport { MatDialogRef } from '@angular/material';\nimport { DecApiService } from './../api/decora-api.service';\n\n@Component({\n  selector: 'dec-dialog',\n  template: `<div class=\"fixActionRow\">\n\n  <mat-toolbar [color]=\"color\" [ngStyle]=\"color === 'transparent' ? {'background': 'rgba(255, 255, 255, 0)'} : {}\">\n\n    <div fxLayout=\"row\" fxFlexFill fxLayoutAlign=\"start center\">\n      <div *ngIf=\"!hideBackButton\">\n        <button type=\"button\" mat-icon-button class=\"uppercase\" mat-dialog-close>\n          <mat-icon>arrow_back</mat-icon>\n        </button>\n      </div>\n      <div class=\"dec-dialog-title\">{{ title }}</div>\n      <div fxFlex>\n        <div fxLayout=\"row\" fxLayoutAlign=\"end center\">\n          <div *ngIf=\"topActions\">\n            <mat-menu #decDialogActionsMenu=\"matMenu\">\n              <button *ngFor=\"let action of topActions\" mat-menu-item (click)=\"action.callback(context)\">\n                <span *ngIf=\"action.label\">{{ action.label }}</span>\n                <span *ngIf=\"action.i18nLabel\">{{ action.i18nLabel | translate }}</span>\n              </button>\n            </mat-menu>\n\n            <button mat-icon-button [matMenuTriggerFor]=\"decDialogActionsMenu\">\n              <mat-icon>more_vert</mat-icon>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- PROGRESS BAR -->\n     <div class=\"progress-bar-wrapper\" *ngIf=\"progressBarVisible\">\n      <div class=\"progress-bar-message\" *ngIf=\"progressBarVisible !== true\">\n        {{ progressBarVisible }}\n      </div>\n      <mat-progress-bar mode=\"indeterminate\" color=\"accent\"></mat-progress-bar>\n    </div>\n    <!-- / PROGRESS BAR -->\n  </mat-toolbar>\n\n\n  <div mat-dialog-content>\n\n    <template #childContainer></template>\n\n    <dec-spinner *ngIf=\"!loaded\"></dec-spinner>\n\n  </div>\n\n  <div class=\"spacer\"></div>\n\n\n  <div mat-dialog-actions align=\"end\" *ngIf=\"showCancelButton || bottomActions\">\n\n    <button *ngIf=\"showCancelButton\" mat-button mat-dialog-close>\n      {{ 'label.Cancel' | translate }}\n    </button>\n\n    <ng-container *ngFor=\"let action of bottomActions\">\n\n      <ng-container [ngSwitch]=\"action.buttonType\">\n\n        <button *ngSwitchCase=\"'mat-button'\" mat-button (click)=\"action.callback(context)\" [color]=\"action.color\">\n          <span *ngIf=\"action.label\">{{ action.label }}</span>\n          <span *ngIf=\"action.i18nLabel\">{{ action.i18nLabel | translate }}</span>\n        </button>\n\n        <button *ngSwitchCase=\"'mat-raised-button'\" mat-raised-button (click)=\"action.callback(context)\" [color]=\"action.color\">\n          <span *ngIf=\"action.label\">{{ action.label }}</span>\n          <span *ngIf=\"action.i18nLabel\">{{ action.i18nLabel | translate }}</span>\n        </button>\n\n        <button *ngSwitchDefault mat-raised-button (click)=\"action.callback(context)\" [color]=\"action.color\">\n          <span *ngIf=\"action.label\">{{ action.label }}</span>\n          <span *ngIf=\"action.i18nLabel\">{{ action.i18nLabel | translate }}</span>\n        </button>\n\n      </ng-container>\n\n    </ng-container>\n  </div>\n</div>\n`,\n  styles: [`.mat-dialog-actions,.mat-dialog-content{padding:32px}.mat-dialog-actions{margin-bottom:0}.fixActionRow{height:100%;display:flex;flex-direction:column}.spacer{flex-grow:1}.dec-dialog-title{font-size:24px;padding:0 16px}.mat-toolbar{position:relative}.mat-toolbar .progress-bar-wrapper{position:absolute;bottom:0;width:inherit;margin-left:-16px}.mat-toolbar .progress-bar-wrapper .progress-bar-message{text-align:center;font-size:12px;line-height:12px}`]\n})\nexport class DecDialogComponent implements OnInit {\n\n  // CURRENT\n  childComponentType: ComponentType<any>;\n\n  childComponentInstance: any;\n\n  topActions: DecDialogAction[] = [];\n\n  bottomActions: DecDialogAction[] = [];\n\n  title: string;\n\n  context: any = {};\n\n  loaded: boolean;\n\n  hideBackButton = false;\n\n  showCancelButton = false;\n\n  progressBarVisible: string | boolean = false;\n\n  color = 'transparent';\n\n  @ViewChild('childContainer', { read: ViewContainerRef }) childContainer: ViewContainerRef;\n\n  @Output() child = new EventEmitter<any>();\n\n  constructor(\n    private factor: ComponentFactoryResolver,\n    private dialogRef: MatDialogRef<DecDialogComponent>,\n    private decApi: DecApiService,\n  ) {\n    this.decApi.loading$.subscribe(state => {\n      this.progressBarVisible = state;\n    });\n  }\n\n  ngOnInit() {\n\n    this.dialogRef.afterOpen()\n    .toPromise()\n    .then(this.factoryTheComponent);\n\n  }\n\n  private factoryTheComponent = () => {\n\n    const componentFactory: ComponentFactory<any> = this.factor.resolveComponentFactory(this.childComponentType);\n\n    const componentRef: ComponentRef<any> = this.childContainer.createComponent(componentFactory);\n\n    this.childComponentInstance = componentRef.instance;\n\n    this.child.emit(this.childComponentInstance);\n\n    this.child.complete(); // unsubsribe subscribers\n\n    this.appendContextToInstance(componentRef.instance, this.context);\n\n    this.loaded = true;\n\n  }\n\n  private appendContextToInstance(instance: any, context: any) {\n\n    if (instance && context) {\n\n      Object.keys(context).forEach((key) => {\n\n        instance[key] = this.context[key];\n\n      });\n\n    }\n\n  }\n\n}\n","export interface DecDialogAction {\n  label?: string;\n  i18nLabel?: string;\n  color?: 'primary' | 'accent' | 'warn' | 'default';\n  buttonType?: 'mat-button' | 'mat-raised-button';\n  callback: (context: any) => any;\n}\n\nexport class DecDialogOpenConfiguration {\n  width?: string;\n  height?: string;\n  title?: string;\n  topActions?: DecDialogAction[];\n  bottomActions?: DecDialogAction[];\n  context?: any;\n  hideBackButton?: boolean;\n  showCancelButton?: boolean;\n  color?: 'primary' | 'accent' | 'warn' | 'default' | 'transparent' = 'primary';\n\n  constructor(data: any = {}) {\n    this.width = data.width;\n    this.height = data.height;\n    this.title = data.title;\n    this.topActions = data.topActions;\n    this.bottomActions = data.bottomActions;\n    this.context = data.context;\n    this.hideBackButton = data.hideBackButton;\n    this.showCancelButton = data.showCancelButton;\n    this.color = data.color || 'primary';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { ComponentType } from '@angular/cdk/portal';\nimport { DecDialogComponent } from './dec-dialog.component';\nimport { DecDialogOpenConfiguration } from './dec-dialog.models';\n\n@Injectable()\nexport class DecDialogService {\n\n  constructor(\n    private dialog: MatDialog\n  ) { }\n\n\n  open(childComponent: ComponentType<any>, config: DecDialogOpenConfiguration) {\n\n    config = new DecDialogOpenConfiguration(config);\n\n    const fullscreen = !(config.width || config.height);\n\n    const dialogInstance: MatDialogRef<any> = this.dialog.open(\n      DecDialogComponent,\n      {\n        width: fullscreen ? '100vw' : config.width,\n        height: fullscreen ? '100vh' : config.height,\n        panelClass: fullscreen ? 'dec-dialog-container-full-screen' : 'dec-dialog-container',\n      }\n    );\n\n    dialogInstance.componentInstance.childComponentType = childComponent;\n\n    dialogInstance.componentInstance.topActions = config.topActions;\n\n    dialogInstance.componentInstance.bottomActions = config.bottomActions;\n\n    dialogInstance.componentInstance.title = config.title;\n\n    dialogInstance.componentInstance.context = config.context;\n\n    dialogInstance.componentInstance.hideBackButton = config.hideBackButton;\n\n    dialogInstance.componentInstance.showCancelButton = config.showCancelButton;\n\n    dialogInstance.componentInstance.color = config.color;\n\n    return dialogInstance;\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialogModule, MatToolbarModule, MatIconModule, MatButtonModule, MatMenuModule, MatProgressBarModule } from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecSpinnerModule } from './../../components/dec-spinner/dec-spinner.module';\n\nimport { DecDialogComponent } from './dec-dialog.component';\nimport { DecDialogService } from './dec-dialog.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatMenuModule,\n    MatButtonModule,\n    MatProgressBarModule,\n    FlexLayoutModule,\n    MatProgressBarModule,\n    DecSpinnerModule,\n    TranslateModule,\n  ],\n  declarations: [DecDialogComponent],\n  entryComponents: [DecDialogComponent],\n  providers: [DecDialogService],\n})\nexport class DecDialogModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-confirm-dialog',\n  template: `{{ message }}\n`,\n  styles: [``]\n})\nexport class DecConfirmDialogComponent implements OnInit {\n\n  message: string;\n\n  customButtonTitle: string;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { DecDialogAction } from './../dialog/dec-dialog.models';\n\nexport class DecConfirmDialogConfig {\n  title?: string;\n  message: string;\n  customButtonTitle?: string;\n  width?: string;\n  height?: string;\n  color?: 'primary' | 'accent' | 'warn' | 'default' | 'transparent' = 'primary';\n  extraButtons?: DecDialogAction[];\n\n  constructor(data: any = {}) {\n    this.title = data.title;\n    this.message = data.message;\n    this.customButtonTitle = data.customButtonTitle || 'label.Confirm';\n    this.width = data.width || '480px';\n    this.height = data.height;\n    this.color = data.color || 'transparent';\n    this.extraButtons = data.extraButtons;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DecConfirmDialogConfig } from './dec-confirm-dialog.models';\nimport { DecDialogService } from './../dialog/dec-dialog.service';\nimport { DecConfirmDialogComponent } from './dec-confirm-dialog.component';\nimport { DecDialogAction } from './../dialog/dec-dialog.models';\nimport { MatDialogRef } from '@angular/material';\n\n@Injectable()\nexport class DecConfirmDialogService {\n\n  constructor(\n    private decDialog: DecDialogService\n  ) { }\n\n  open(config: DecConfirmDialogConfig): MatDialogRef<any> {\n\n    config = new DecConfirmDialogConfig(config);\n\n    const actions: DecDialogAction[] = [{ i18nLabel: config.customButtonTitle, callback: () => ref.close(true), color: 'primary' }];\n\n    if (config.extraButtons) {\n      actions.push(...config.extraButtons);\n    }\n\n    const ref = this.decDialog.open(DecConfirmDialogComponent, {\n      width: config.width,\n      height: config.height,\n      title: config.title,\n      context: config,\n      bottomActions: actions,\n      hideBackButton: true,\n      showCancelButton: true,\n      color: config.color\n    });\n\n    return ref;\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecConfirmDialogComponent } from './dec-confirm-dialog.component';\nimport { DecDialogModule } from './../dialog/dec-dialog.module';\nimport { DecConfirmDialogService } from './dec-confirm-dialog.service';\n@NgModule({\n  imports: [\n    CommonModule,\n    DecDialogModule,\n  ],\n  declarations: [DecConfirmDialogComponent],\n  entryComponents: [DecConfirmDialogComponent],\n  providers: [DecConfirmDialogService]\n})\nexport class DecConfirmDialogModule { }\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar, MatSnackBarRef, SimpleSnackBar } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n\n\nexport type MessageType = 'success' | 'primary' | 'info' | 'warn' | 'error';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DecSnackBarService {\n\n  constructor(public snackBarService: MatSnackBar,\n    private translate: TranslateService) { }\n\n  open(message: string, type: MessageType, duration = 4e3, translate: any = {}): MatSnackBarRef<SimpleSnackBar> {\n    if (!message) {\n      return;\n    }\n    const msg = translate ? this.translate.instant(message, translate) : message;\n    const snackClass = this.getClass(type);\n\n    return this.snackBarService.open(msg, '', {\n      duration: duration,\n      panelClass: snackClass\n    });\n  }\n\n  getClass(type: MessageType) {\n    switch (type) {\n      case 'success':\n        return 'snack-success';\n      case 'primary':\n        return 'snack-primary';\n      case 'info':\n        return 'snack-info';\n      case 'warn':\n        return 'snack-warn';\n      case 'error':\n        return 'snack-error';\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSnackBarService } from './dec-snack-bar.service';\nimport { MatSnackBarModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatSnackBarModule,\n    TranslateModule\n  ],\n  providers: [\n    DecSnackBarService\n  ]\n})\nexport class DecSnackBarModule { }\n","import { Injectable } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { CanLoad, CanActivate, CanActivateChild, Route, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { of, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DecPermissionGuard implements CanLoad, CanActivate, CanActivateChild {\n\n  constructor(private decoraApi: DecApiService,\n              private router: Router) { }\n\n  canLoad(route: Route) {\n    if (route.data && !route.data.permissions) {\n      this.notAllowed();\n      return of(false);\n    }\n\n    const permissions = route.data.permissions;\n    return this.hasAccess(permissions);\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    if (route.data && !route.data.permissions) {\n      this.notAllowed();\n      return of(false);\n    }\n\n    const permissions = route.data.permissions;\n    return this.hasAccess(permissions);\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    return this.canActivate(route, state);\n  }\n\n  notAllowed() {\n    this.router.navigate(['/forbiden']);\n  }\n\n  hasAccess(permissions) {\n    return this.decoraApi.user$\n    .pipe(\n      map(user => {\n        if (user) {\n          const allowed = this.isAllowedAccess(user.permissions, permissions);\n          if (!allowed) {\n            this.notAllowed();\n          } else {\n            return true;\n          }\n        }\n      })\n    );\n  }\n\n  private isAllowedAccess(userPermissions: string[], currentPermissions: string[]) {\n    try {\n      const matchingRole = currentPermissions.find((userRole) => {\n        return userPermissions.find((alowedRole) => {\n          return alowedRole === userRole;\n        }) ? true : false;\n      });\n      return matchingRole ? true : false;\n    } catch (error) {\n      return false;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecPermissionGuard } from './dec-permission-guard.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecPermissionGuard\n  ]\n})\nexport class DecPermissionGuardModule { }\n","import { Injectable } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DecLoaderService {\n\n  constructor(private translateService: TranslateService) { }\n\n  // FIX ME: Paleativo ate o componente dec-loader ser criado\n  addBlockerBackground(message, duration?) {\n    \n    const existLoader = document.getElementById('blockerContentLoading');\n    if (existLoader) {\n      return;\n    }\n\n    const loading = document.createElement('div');\n    loading.id = 'blockerContentLoading';\n    loading.style.position = 'absolute';\n    loading.style.top = '0';\n    loading.style.left = '0';\n    loading.style.backgroundColor = 'rgba(0,0,0,0.3)';\n    loading.style.width = '100%';\n    loading.style.height = '100%';\n    loading.style.zIndex = '9999';\n    loading.style.display = 'flex';\n    loading.style.justifyContent = 'center';\n    loading.style.alignItems = 'center';\n    loading.style.flexDirection = 'column-reverse';\n    const description = document.createElement('h1');\n    description.innerText = this.translateService.instant(message);\n    loading.appendChild(description);\n    const spinner = document.createElement('span');\n    spinner.style.width = '4rem';\n    spinner.style.height = '4rem';\n    spinner.style.borderTopColor = '#444';\n    spinner.style.borderLeftColor = '#444';\n    spinner.style.borderBottomColor = 'transparent';\n    spinner.style.borderRightColor = 'transparent';\n    spinner.style.borderStyle = 'solid';\n    spinner.style.borderWidth = '12px';\n    spinner.style.borderRadius = '50%';\n    spinner.style.animation = 'spinIt 1000ms infinite ease-in-out';\n    loading.appendChild(spinner);\n    document.body.appendChild(loading);\n    const style = document.createElement('style');\n    style.type = 'text/css';\n    const keyFrames = '\\\n    @-webkit-keyframes spinIt {\\\n        100% {\\\n            -webkit-transform: rotate(A_DYNAMIC_VALUE);\\\n        }\\\n    }\\\n    @-moz-keyframes spinIt {\\\n        100% {\\\n            -webkit-transform: rotate(A_DYNAMIC_VALUE);\\\n        }\\\n    }';\n    style.innerHTML = keyFrames.replace(/A_DYNAMIC_VALUE/g, '360deg');\n    loading.appendChild(style);\n\n    if (duration) {\n      setTimeout(() => {\n        this.removeBlockerBackground();\n      }, duration)\n    }\n  }\n\n  // FIX ME: Paleativo ate o componente dec-loader ser criado\n  removeBlockerBackground() {\n    document.getElementById('blockerContentLoading').remove();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecLoaderService } from './dec-loader.service';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule\n  ],\n  providers: [\n    DecLoaderService\n  ]\n})\nexport class DecLoaderModule { }\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { OpenConnection } from './ws-client.models';\n\n@Injectable()\nexport class DecWsClientService {\n\n  private connection: {\n    [key: string]: OpenConnection\n  } = {};\n\n  constructor() {}\n\n  connect(url) {\n\n    const connection = this.connection[url];\n\n    if (connection) {\n\n      return connection;\n\n    } else {\n\n      return this.connectToWs(url);\n\n    }\n\n  }\n\n  private connectToWs(url): OpenConnection {\n\n    const connection = this.openConnection(url);\n\n    this.connection[url] = connection;\n\n    return connection;\n\n  }\n\n\n  private openConnection(url: string, connection?: OpenConnection): OpenConnection {\n\n    if (connection) {\n\n      connection.channel = new WebSocket(url);\n\n    } else {\n\n      connection = connection ? connection : {\n        channel: new WebSocket(url),\n        messages: new BehaviorSubject<string[]>([]),\n      };\n\n    }\n\n    connection.channel.onclose = () => this.openConnection(url, connection);\n\n    connection.channel.onerror = () => this.openConnection(url, connection);\n\n    connection.channel.onmessage = (a) => {\n\n      const currentMessages = connection.messages.getValue();\n\n      currentMessages.unshift(a.data);\n\n      connection.messages.next(currentMessages);\n\n    };\n\n    return connection;\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecWsClientService } from './ws-client.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecWsClientService\n  ]\n})\nexport class DecWsClientModule { }\n","import { DecApiService } from './../api/decora-api.service';\nimport { DecConfigurationService } from './../configuration/configuration.service';\n\nexport const DecAppInitializer = (decConfig: DecConfigurationService, decApi: DecApiService) => {\n\n  return () => {\n\n    return new Promise((resolve, reject) => {\n\n      decConfig.loadConfig().then((configuration) => {\n\n        decApi.handShake().then((account) => {\n\n          resolve({\n            configuration,\n            account,\n          });\n\n        }, (err) => {\n\n          resolve({\n            configuration,\n            account: undefined,\n          });\n\n        });\n\n      });\n\n    });\n\n  };\n\n};\n"]}