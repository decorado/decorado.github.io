{"version":3,"sources":["ng://@decora/browser-lib-ui/lib/services/api/decora-api.service.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete/autocomplete.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete/autocomplete.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-account/autocomplete-account.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-account/autocomplete-account.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-company/autocomplete-company.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-company/autocomplete-company.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-country/autocomplete-country.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-country/autocomplete-country.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-department/autocomplete-department.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-department/autocomplete-department.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-role/autocomplete-role.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-role/autocomplete-role.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-project/autocomplete-project.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-project/autocomplete-project.module.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-quote/autocomplete-quote.component.ts","ng://@decora/browser-lib-ui/lib/components/autocomplete-quote/autocomplete-quote.module.ts","ng://@decora/browser-lib-ui/lib/components/breadcrumb/breadcrumb.component.ts","ng://@decora/browser-lib-ui/lib/components/breadcrumb/breadcrumb.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-dialog/dec-dialog.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-spinner/dec-spinner.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-spinner/dec-spinner.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-dialog/dec-dialog.service.ts","ng://@decora/browser-lib-ui/lib/components/dec-dialog/dec-dialog.module.ts","ng://@decora/browser-lib-ui/lib/components/gallery/carousel-config.ts","ng://@decora/browser-lib-ui/lib/components/gallery/dec-gallery.component.ts","ng://@decora/browser-lib-ui/lib/directives/image/image.directive.constants.ts","ng://@decora/browser-lib-ui/lib/directives/image/image.directive.ts","ng://@decora/browser-lib-ui/lib/directives/image/image.module.ts","ng://@decora/browser-lib-ui/lib/components/gallery/dec-gallery.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-label/dec-label.component.ts","ng://@decora/browser-lib-ui/lib/directives/color/contrast-font-with-bg/dec-contrast-font-with-bg.directive.ts","ng://@decora/browser-lib-ui/lib/directives/color/contrast-font-with-bg/dec-contrast-font-with-bg.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-label/dec-label.module.ts","null","ng://@decora/browser-lib-ui/lib/components/list/list.models.ts","ng://@decora/browser-lib-ui/lib/components/list/list-tabs-filter/list-tabs-filter.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-advanced-filter/list-advanced-filter.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-filter/list-filter.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-active-filter-resume/list-active-filter-resume.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-active-filter-resume/list-active-filter-resume.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-filter/list-filter.module.ts","ng://@decora/browser-lib-ui/lib/directives/permission/dec-permission.directive.ts","ng://@decora/browser-lib-ui/lib/directives/permission/dec-permission.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-tabs-filter/list-tabs-filter.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-grid/list-grid.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-table-column/list-table-column.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-table/list-table.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-table/list-table.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-footer/list-footer.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-advanced-filter/list-advanced-filter.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list-actions/list-actions.component.ts","ng://@decora/browser-lib-ui/lib/components/list/list-actions/list-actions.module.ts","ng://@decora/browser-lib-ui/lib/components/list/list.module.ts","ng://@decora/browser-lib-ui/lib/components/page-forbiden/page-forbiden.component.ts","ng://@decora/browser-lib-ui/lib/components/page-forbiden/page-forbiden.module.ts","ng://@decora/browser-lib-ui/lib/components/page-not-found/page-not-found.component.ts","ng://@decora/browser-lib-ui/lib/components/page-not-found/page-not-found.module.ts","ng://@decora/browser-lib-ui/lib/components/product-spin/product-spin.component.ts","ng://@decora/browser-lib-ui/lib/components/product-spin/product-spin.module.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-toolbar-title/dec-sidenav-toolbar-title.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-toolbar/dec-sidenav-toolbar.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-item/dec-sidenav-menu-item.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-title/dec-sidenav-menu-title.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/sidenav.service.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-left/dec-sidenav-menu-left.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu-right/dec-sidenav-menu-right.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/sidenav.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-content/dec-sidenav-content.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/dec-sidenav-menu/dec-sidenav-menu.component.ts","ng://@decora/browser-lib-ui/lib/components/sidenav/sidenav.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-steps-list/dec-steps-list.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-steps-list/dec-steps-list.module.ts","ng://@decora/browser-lib-ui/lib/components/dec-string-array-input/dec-string-array-input.component.ts","ng://@decora/browser-lib-ui/lib/components/dec-string-array-input/dec-string-array-input.module.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tab/tab.component.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tab-menu/tab-menu.component.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tabs.component.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tab/tab.module.ts","ng://@decora/browser-lib-ui/lib/components/tabs/tabs.module.ts","ng://@decora/browser-lib-ui/lib/components/upload/upload.component.ts","ng://@decora/browser-lib-ui/lib/services/api/decora-api.module.ts","ng://@decora/browser-lib-ui/lib/components/upload/upload.module.ts","ng://@decora/browser-lib-ui/lib/guard/auth-guard.service.ts","ng://@decora/browser-lib-ui/lib/guard/guard.module.ts","ng://@decora/browser-lib-ui/lib/services/api/decora-api.model.ts","ng://@decora/browser-lib-ui/lib/services/snack-bar/dec-snack-bar.service.ts","ng://@decora/browser-lib-ui/lib/services/snack-bar/dec-snack-bar.module.ts","ng://@decora/browser-lib-ui/lib/services/permission-guard/dec-permission-guard.service.ts","ng://@decora/browser-lib-ui/lib/services/permission-guard/dec-permission-guard.module.ts","ng://@decora/browser-lib-ui/lib/services/ws-client/ws-client.service.ts","ng://@decora/browser-lib-ui/lib/services/ws-client/ws-client.module.ts"],"names":["DecApiService","http","config","_this","this","BehaviorSubject","undefined","loginData","endpoint","getResourceUrl","options","headers","newHeaderWithSessionToken","body","HttpParams","set","email","password","postMethod","pipe","tap","res","extratSessionToken","user$","next","throwError","status","notified","message","facebookToken","keepLogged","toString","redirectToLoginPage","sessionToken","goToLoginPage","getMethod","search","endopintUrl","params","transformDecFilterInParams","deleteMethod","payload","patchMethod","putMethod","id","put","post","error","bodyMessage","statusText","authHost","subscribeToUser","tryToLoadSignedInUser","Object","defineProperty","prototype","host","ngOnDestroy","unsubscribeToUser","upload","files","formData","createFilesFormData","HttpHeaders","requestMethod","filter","serializedFilter","page","limit","filterGroups","filterWithValueAsArray","getFilterWithValuesAsArray","filterObjectToQueryString","projectView","columns","textSearch","obj","JSON","stringify","filterGroupCopy","parse","map","filterGroup","filters","Array","isArray","value","url","withCredentials","callObservable","get","catchError","handleError","shareObservable","patch","delete","type","req","HttpRequest","request","FormData","forEach","file","index","formItemName","append","name","window","location","href","replace","split","authUrlWithRedirect","getParamsDivider","console","log","length","fetchCurrentLoggedUser","toPromise","then","err","session","path","useMockApi","mockApiHost","userSubscripion","subscribe","user","unsubscribe","call","share","Injectable","HttpClient","Optional","Inject","args","noop","AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","DecAutocompleteComponent","multi","formBuilder","service","EventEmitter","item","label","labelFn","labelAttr","ensureString","valueFn","valueAttr","createInput","_disabled","v","autocompleteInput","disable","enable","_options","innerOptions","ngAfterViewInit","detectRequiredData","subscribeToSearchAndSetOptionsObservable","subscribeToOptions","unsubscribeToOptions","innerValue","setInnerValue","onChangeCallback","registerOnChange","fn","registerOnTouched","onTouchedCallback","onValueChanged","event","writeValue","writtenValue","compareAsString","loadRemoteObjectByWrittenValue","onOptionSelected","$event","selectedOption","option","selectedOptionValue","extractValue","optionSelected","emit","filteredOptions","setFocus","termInput","nativeElement","focus","openPanel","autocompleteTrigger","closePanel","onBlur","blur","clear","reopen","setValue","resetInputControl","setTimeout","reset","Promise","resolve","reject","searchBasedFetchingType","customFetchFunction","raiseError","markAsPristine","markAsUntouched","v1","v2","isNaN","options$Subscription","options$","setInputValueBasedOnInnerValue","getOptionBasedOnValue","extractLabel","find","itemValue","control","disabled","required","valueChanges","startWith","debounceTime","distinctUntilChanged","switchMap","of","searchInLocalOptions","term","termString","filteredData","lowerCaseLabel","toLowerCase","lowerCaseTerm","Error","Component","selector","template","styles","providers","FormBuilder","ViewChild","MatAutocompleteTrigger","Input","Output","DecAutocompleteModule","NgModule","imports","CommonModule","MatAutocompleteModule","MatInputModule","MatButtonModule","MatIconModule","FormsModule","ReactiveFormsModule","declarations","exports","AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR","DecAutocompleteAccountComponent","decoraApi","property","types","push","onAutocompleteBlur","DecAutocompleteAccountModule","AUTOCOMPLETE_COMPANY_CONTROL_VALUE_ACCESSOR","DecAutocompleteCompanyComponent","company","key","DecAutocompleteCompanyModule","AUTOCOMPLETE_COUNTRY_CONTROL_VALUE_ACCESSOR","DecAutocompleteCountryComponent","code","countries$","FAKE_DATA","DecAutocompleteCountryModule","BASE_ENDPOINT","AUTOCOMPLETE_DEPARTMENT_CONTROL_VALUE_ACCESSOR","DecAutocompleteDepartmentComponent","_companyId","setEndpointBasedOncompanyId","companyId","DecAutocompleteDepartmentModule","DecAutocompleteRoleComponent","roles","role","roleType","indexOf","DecAutocompleteRoleModule","BASE_AUTOCOMPLETE_PROJECT_ENDPOINT","AUTOCOMPLETE_PROJECT_CONTROL_VALUE_ACCESSOR","DecAutocompleteProjectComponent","setEndpointBasedOnCompanyId","projects","DecAutocompleteProjectModule","AUTOCOMPLETE_QUOTE_CONTROL_VALUE_ACCESSOR","DecAutocompleteQuoteComponent","setEndpointBasedOnProjectId","response","quotes","productVariantId","_projectId","projectId","DecAutocompleteQuoteModule","DecBreadcrumbComponent","router","translator","ngOnInit","translateFeature","translatePaths","detectAndParseButtonsConfig","parseBackButton","parseForwardButton","backButtonPath","forwardButton","i18nBreadcrumb","breadcrumb","instant","join","i18nFeature","feature","goBack","navigate","history","back","goForward","forward","Router","TranslateService","DecBreadcrumbModule","FlexLayoutModule","RouterModule","TranslateModule","DecDialogComponent","factor","dialogRef","componentFactory","resolveComponentFactory","childComponentType","componentRef","childContainer","createComponent","childComponentInstance","instance","child","complete","appendContextToInstance","context","loaded","afterOpen","factoryTheComponent","keys","ComponentFactoryResolver","MatDialogRef","read","ViewContainerRef","DecSpinnerComponent","DecSpinnerModule","DecDialogService","dialog","open","childComponent","dialogInstance","width","height","heigth","panelClass","componentInstance","actions","title","MatDialog","DecDialogModule","MatDialogModule","MatToolbarModule","MatMenuModule","entryComponents","CarouselConfig","grid","xs","sm","md","lg","all","slide","speed","interval","point","visible","custom","DecGalleryComponent","sysFile","activeImage","target","className","imageHighlight","setExternalLink","imgExternalLink","fileUrl","_images","onInitDataFn","setPrevNextCheckers","isFirst","items","images","onMoveFn","isLast","first","last","ErrorImage","DecImageDirective","viewContainerRef","detectContainerElement","innerImage","loadImage","containerElement","element","containerElementType","tagName","finalImageUrl","imagePath","extractImageUrlFromSysfile","getFinalUrl","tryToLoadImage","thumborize","getThumborUrl","getS3Url","S3Host","ThumborServerHost","getImageSize","decImageSize","getAspect","getTrim","fitIn","trim","downloadingImage","Image","onload","createImage","onerror","src","setImageelementSrc","appendImageToBg","style","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","classList","remove","setAttribute","Directive","DecImageModule","DecGalleryModule","NguCarouselModule","DecLabelComponent","hexToRgbNew","hex","result","exec","r","parseInt","g","b","standardize_color","bgColor","ctx","document","createElement","getContext","fillStyle","DecContrastFontWithBgDirective","el","backgroundColor","doDecContrastFontWithBg","ngDoCheck","lumaBreakPoint","rgbColor","luma","color","lightColor","darkColor","ElementRef","DecContrastFontWithBgModule","DecLabelModule","__assign","assign","t","s","i","n","arguments","p","hasOwnProperty","__read","o","m","Symbol","iterator","e","ar","done","__spread","concat","DecListTabsFilter","data","count","default","hide","listMode","permissions","uid","DecListTabsFilterComponent","route","watchTabInUrlQuery","recount","selectedTabUid","filterTab","_filters","_countEndpoint","stopWatchingTabInUrlQuery","getCountOf","countReport","selectTab","tab","setTabInUrlQuery","reloadCountReport","countEndpoint","customFetchMethod","selectedTab","detectDefaultTab","hasDefault","defaultTab","componentTabName","queryParams","snapshot","relativeTo","replaceUrl","wathUrlSubscription","onSearch","tabChange","ActivatedRoute","DecListAdvancedFilterComponent","onClear","submit","ContentChild","TemplateRef","DecListFilterComponent","appendCurrentForm","filterForm","newDecFilterGroup_1","innerDecFilterGroups","editionGroupIndex","reacalculateAndEmitCurrentDecFilterGroups","tabsFilterComponent","insideWrapper","clickableContainerClass","insideOption","insideDatePicker","insideOverlayContainer","closeFilters","clearFilterForm","watchTabsFilter","watchClick","watchUrlFilter","configureAdvancedFilter","stopWatchingClick","stopWatchingTabsFilter","stopWatchingUrlFilter","toggleSearchInput","showSearchInput","inputSearch","showAdvancedFilter","toggleAdvancedFilter","stopPropagation","filterGroupsWithoutTabs","removeDecFilterGroup","groupIndex","group","editDecFilterGroup","toEditDecFilterGroup","reloadFormWithGivenDecFilterGroupe","onClickInfo","appendToCurrentDecFilterGroups","propertyName","propertyValue","filterGroupFilter","emitCurrentDecFilterGroups","hasPersistence","refreshFilterInUrlQuery","openFilters","advancedFilterComponent","form","tabsFilterSubscription","filterEvent","tabsFilter","isItFirstLoad","mountCurrentDecFilterGroups","currentFilter","currentFilterWithoutTabs","slice","_a","apply","filterGroupCopyWithoutTabs","rej","preSearch","addEventListener","actByClickPosition","removeEventListener","componentFilterName","watchUrlFilterSubscription","setInterval","base64Filter","currentBase64Filter","getJsonFromBase64Filter","clearInterval","filterBase64","getBase64FilterFromDecFilterGroups","setFilterInUrlQuery","btoa","encodeURIComponent","filterObject","base64PadLen","decodeURIComponent","atob","DecListActiveFilterResumeComponent","edit","getValuetype","DecListActiveFilterResumeModule","MatChipsModule","DecListFilterModule","MatCardModule","DecPermissionDirective","templateRef","viewContainer","hasPermission","createEmbeddedView","hasView","isAllowedAccess","rolesAllowed","currentRoles","userRole","alowedRole","DecPermissionModule","DecListTabsFilterModule","DecListGridComponent","_rows","onItemClick","list","rowClick","DecListTableColumnComponent","_colSpan","number","DecListTableComponent","onSort","sortConfig","sorts","prop","order","dir","columnsSortConfig","sort","row","rows","$$index","DatatableComponent","ContentChildren","DecListComponent","Subject","table","insideOverlay","insideFullscreanDialogContainer","isLastPage","scrollHeight","clientHeight","scrollTop","showMore","loading","scrollEventEmiter","_loading","_endpoint","_name","setFiltersComponentsBasePathAndNames","report","setRows","_filter","watchFilterData","ensureUniqueName","detectListModeBasedOnGridAndTablePresence","watchFilter","doFirstLoad","detectListMode","watchTabsChange","watchTableSort","registerChildWatchers","watchScroll","watchScrollEventEmitter","unsubscribeToReactiveReport","stopWatchingScroll","stopWatchingFilter","stopWatchingTabsChange","stopWatchingTableSort","stopWatchingScrollEventEmitter","removeItem","_item","itemIndex","splice","restart","loadReport","tableAndGridAreSet","toggleListMode","tableComponent","recalculate","getListMode","isTabsFilterDefined","doFirstLoadByTabsFilter","doFirstLoadLocally","refresh","clearAndReloadReport","filterData","cbk","detectLastPage","updateContentChildren","scrollEventEmiterSubscription","actByScrollPosition","reactiveReport","observable","fetchMethod","payloadWithSearchableProperties","getPayloadWithSearchTransformedIntoSearchableProperties","subscribeToReactiveReport","payloadCopy","searchableProperties","filterGroupThatContainsBasicSearch","getFilterGroupThatContainsTheBasicSearch","removeFilterGroup","appendFilterGroupsBasedOnSearchableProperties","filterGroupsModel","basicSearch","basicSearchIndex","newFilterGroup","filterGroupThatContainsBasicSearchIndex","reactiveReportSubscription","postSearch","numberOfrows","emptList","singlePageList","watchGridRowClick","watchTableRowClick","filterSubscription","scrollableContainer","getElementsByClassName","scrollableContainerClass","emitScrollEvent","tabsChangeSubscription","tableSortSubscription","DecListTableModule","NgxDatatableModule","DecListFooterComponent","DecListAdvancedFilterModule","DecListActionsComponent","DecListActionsModule","DecListModule","MatSnackBarModule","DecPageForbidenComponent","events","NavigationEnd","previousUrl","referrer","DecPageForbidenModule","DecPageNotFoundComponent","DecPageNotFoundModule","FALLBACK_IMAGE","LOADING_IMAGE","DecProductSpinComponent","renderer","totalImagesLoaded","scenesLen","placeholderScene","scenes","loadingImages","frameShown","looping","started","toFixed","_spin","spin","loadScenes","resetScenesData","onDragStart","preventDefault","onMousedown","mouseDown","lastMouseEvent","onMousemove","calculatePosition","Math","abs","positionDiff","goRight","goLeft","listenGlobal","onOpen","resetStartPositionBasedOnCompany","startInCenter","getUrlsFromSysFiles","shots","containerWidth","clientWidth","clientX","sysFiles","renderFile","Renderer","HostListener","DecProductSpinModule","MatTooltipModule","DecSidenavToolbarTitleComponent","DecSidenavToolbarComponent","initialized","environment","ribbon","notProduction","DecSidenavMenuItemComponent","subitems","_subitems","toArray","toggleSubmenu","showSubmenu","openLink","routerLink","isNaked","startsWith","isHttp","isHttps","descendants","DecSidenavMenuTitleComponent","STORAGE_DOMAIN","DecSidenavService","setSidenavVisibility","visibility","getSidenavConfig","setSidenavConfig","getSidenavVisibility","conf","confString","localStorage","setItem","getItem","newConfig","DecSidenavMenuLeftComponent","decSidenavService","subscribeAndExposeSidenavEvents","leftMenuVisible","leftMenuMode","openedChange","modeChange","DecSidenavMenuRightComponent","rightMenuVisible","rightMenuMode","DecSidenavComponent","_leftMenu","setInitialLeftMenuVisibilityModes","_rightMenu","setInitialRightMenuVisibilityModes","progressBarVisible","detectAndShowChildComponents","subscribeToToolbarEvents","openBothMenus","openLeftMenu","openRightMenu","leftMenu","rightMenu","closeBothMenus","closeLeftMenu","closeRightMenu","toggleBothMenus","toggleLeftMenu","toggleRightMenu","setBothMenusMode","mode","setLeftMenuMode","setRightMenuMode","toggleProgressBar","showProgressBar","hideProgressBar","leftSidenavOpenedChange","openedStatus","rightSidenavOpenedChange","toolbar","leftMenuTriggerVisible","rightMenuTriggerVisible","leftSidenav","toggle","rightSidenav","DecSidenavContentComponent","DecSidenavMenuComponent","DecSidenavModule","MatSidenavModule","MatListModule","MatProgressBarModule","HttpClientModule","DecStepsListComponent","DecStepsListModule","CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR","DecStringArrayInputComponent","innerArray","getArrayAsString","stringToArray","arrayToString","stringOfArray","match","arrayOfstring","DecStringArrayInputModule","DecTabComponent","ensureTabName","DecTabMenuComponent","DecTabsComponent","names","tabs","tabName","activeTab","activatedTabs","_activeTabObject","_activeTabIndex","activeTabChange","_activeTab","persistTab","ensureUniqueTabNames","currentTab","startSelectedTab","shoulTabBeDisplayed","isSelected","isActivated","destroyOnBlur","onChangeTab","activeTabObject","parseTotal","total","hidden","persist","queryParamsSubscription","DecTabModule","MatTabsModule","DecTabsModule","DEC_UPLOAD_CONTROL_VALUE_ACCESSOR","DecUploadComponent","filesChanged","x","uploadFile","openFileSelection","inputFile","click","getProgressbarMode","progress","getProgressValueBasedOnMode","progress_1","fileIndex","fileName","progresses","detectUploadEnd","HttpEventType","UploadProgress","percentDone","round","parseFloat","HttpResponse","emitUploadedFiles","clearInputFile","clearProgresses","uploadProgress","uploaded","DECORA_API_SERVICE_CONFIG","InjectionToken","InitDecApiService","serviceConfig","DecApiModule","forRoot","ngModule","useValue","useFactory","deps","DecUploadModule","DecAuthGuard","canLoad","isAuthenticated","canActivate","state","canActivateChild","DecGuardModule","UserAuthData","country","DecSnackBarService","snackBarService","translate","duration","msg","snackClass","getClass","providedIn","MatSnackBar","DecSnackBarModule","DecPermissionGuard","notAllowed","hasAccess","userPermissions","currentPermissions","DecPermissionGuardModule","DecWsClientService","connect","connection","connectToWs","openConnection","channel","WebSocket","messages","onclose","onmessage","a","currentMessages","getValue","unshift","DecWsClientModule"],"mappings":"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","sourcesContent":["import { Injectable, Inject, Optional, OnDestroy } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpParams, HttpRequest } from '@angular/common/http';\nimport { Observable, throwError, BehaviorSubject, Subscription } from 'rxjs';\nimport { catchError, share, tap } from 'rxjs/operators';\nimport { UserAuthData, LoginData, FacebookLoginData, ServiceConfig, DecFilter, SerializedDecFilter } from './decora-api.model';\n\nexport type CallOptions = {\n  headers?: HttpHeaders;\n  withCredentials?: boolean;\n  params?: {\n    [prop: string]: any;\n  };\n} & {\n  [prop: string]: any;\n};\n\nexport type HttpRequestTypes = 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\n@Injectable()\nexport class DecApiService implements OnDestroy {\n\n  user: UserAuthData;\n\n  user$: BehaviorSubject<UserAuthData> = new BehaviorSubject<UserAuthData>(undefined);\n\n  private sessionToken: string;\n\n  private userSubscripion: Subscription;\n\n  get host() {\n    return this.config.host;\n  }\n\n  constructor(\n    private http: HttpClient,\n    @Optional() @Inject('DECORA_API_SERVICE_CONFIG') private config: ServiceConfig\n  ) {\n    this.subscribeToUser();\n    this.tryToLoadSignedInUser();\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeToUser();\n  }\n\n  // ******************* //\n  // PUBLIC AUTH METHODS //\n  // ******************* //\n  auth = (loginData: LoginData) => {\n    if (loginData) {\n      const endpoint = this.getResourceUrl('auth/signin');\n      const options = { headers: this.newHeaderWithSessionToken('application/x-www-form-urlencoded') };\n      const body = new HttpParams()\n        .set('username', loginData.email)\n        .set('password', loginData.password);\n      return this.postMethod<UserAuthData>(endpoint, body, options)\n        .pipe(\n          tap((res) => {\n            this.extratSessionToken(res),\n              this.user$.next(res);\n            return res;\n          })\n        );\n    } else {\n      return throwError({ status, notified: true, message: 'DECORA-API AUTH ERROR:: No credentials provided' });\n    }\n  }\n\n  authFacebook = (loginData: FacebookLoginData) => {\n    if (loginData) {\n      const endpoint = this.getResourceUrl('auth/facebook/signin');\n      const options = { headers: this.newHeaderWithSessionToken('application/x-www-form-urlencoded') };\n      const body = new HttpParams()\n        .set('facebookToken', loginData.facebookToken)\n        .set('keepLogged', loginData.keepLogged.toString());\n      return this.postMethod<UserAuthData>(endpoint, body, options)\n        .pipe(\n          tap((res) => {\n            this.extratSessionToken(res),\n              this.user$.next(res);\n            return res;\n          })\n        );\n    } else {\n      return throwError({ status, notified: true, message: 'DECORA-API AUTH FACEBOOK ERROR:: No credentials provided' });\n    }\n  }\n\n  logout = (redirectToLoginPage = true) => {\n    const endpoint = this.getResourceUrl('auth/signout');\n    const options = { headers: this.newHeaderWithSessionToken('application/x-www-form-urlencoded') };\n    return this.postMethod(endpoint, {}, options)\n      .pipe(\n        tap((res) => {\n          this.sessionToken = undefined;\n          this.user$.next(res);\n          if (redirectToLoginPage) {\n            this.goToLoginPage();\n          }\n          return res;\n        }));\n  }\n\n  fetchCurrentLoggedUser = () => {\n    const endpoint = this.getResourceUrl('auth/account');\n    const options = { headers: this.newHeaderWithSessionToken() };\n    return this.getMethod<UserAuthData>(endpoint, {}, options)\n      .pipe(\n        tap((res) => {\n          this.extratSessionToken(res),\n            this.user$.next(res);\n          return res;\n        })\n      );\n  }\n\n  // ******************* //\n  // PUBLIC HTTP METHODS //\n  // ******************* //\n  get = <T>(endpoint, search?: DecFilter, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    const params = this.transformDecFilterInParams(search);\n    return this.getMethod<T>(endopintUrl, params, options);\n  }\n\n  delete = <T>(endpoint, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.deleteMethod<T>(endopintUrl, options);\n  }\n\n  patch = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.patchMethod<T>(endopintUrl, payload, options);\n  }\n\n  post = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.postMethod<T>(endopintUrl, payload, options);\n  }\n\n  put = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    return this.putMethod<T>(endopintUrl, payload, options);\n  }\n\n  upsert = <T>(endpoint, payload: any = {}, options?: CallOptions) => {\n    if (payload.id >= 0) {\n      return this.put(endpoint, payload, options);\n    } else {\n      return this.post(endpoint, payload, options);\n    }\n  }\n\n  upload(endpoint: string, files: File[], options: CallOptions = {}) {\n    const endopintUrl = this.getResourceUrl(endpoint);\n    const formData = this.createFilesFormData(files);\n    options.reportProgress = true;\n    options.headers = options.headers || new HttpHeaders();\n    return this.requestMethod('POST', endopintUrl, formData, options);\n  }\n\n\n  // ************ //\n  // Public Helper Methods //\n  // ************ //\n  private transformDecFilterInParams(filter: DecFilter): SerializedDecFilter {\n\n    const serializedFilter: SerializedDecFilter = {};\n\n    if (filter) {\n\n      if (filter.page) {\n        serializedFilter.page = filter.page;\n      }\n\n      if (filter.limit) {\n        serializedFilter.limit = filter.limit;\n      }\n\n      if (filter.filterGroups) {\n        const filterWithValueAsArray = this.getFilterWithValuesAsArray(filter.filterGroups);\n        serializedFilter.filter = this.filterObjectToQueryString(filterWithValueAsArray);\n      }\n\n      if (filter.projectView) {\n        serializedFilter.projectView = this.filterObjectToQueryString(filter.projectView);\n      }\n\n      if (filter.columns) {\n        serializedFilter.columns = filter.columns;\n      }\n\n      if (filter.textSearch) {\n        serializedFilter.textSearch = filter.textSearch;\n      }\n\n    }\n\n    return serializedFilter;\n\n  }\n\n  private filterObjectToQueryString(obj) {\n    if (obj) {\n      return JSON.stringify(obj);\n    } else {\n      return obj;\n    }\n  }\n\n  private getFilterWithValuesAsArray(filterGroups) {\n\n    const filterGroupCopy = JSON.parse(JSON.stringify(filterGroups)); // make a copy of the filter so we do not change the original filter\n\n    if (filterGroupCopy) {\n\n      return filterGroupCopy.map(filterGroup => {\n\n        filterGroup.filters = filterGroup.filters.map(filter => {\n\n          if (!Array.isArray(filter.value)) {\n            filter.value = [filter.value];\n          }\n\n          return filter;\n\n        });\n\n        return filterGroup;\n\n      });\n\n    } else {\n\n      return filterGroups;\n\n    }\n  }\n\n\n  // ************ //\n  // Http Methods //\n  // ************ //\n  private getMethod<T>(url: string, search = {}, options: CallOptions = {}): Observable<any> {\n    options.params = search;\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.get<T>(url, options)\n      .pipe(\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private patchMethod<T>(url, body = {}, options: CallOptions = {}): Observable<any> {\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.patch<T>(url, body, options)\n      .pipe(\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private postMethod<T>(url, body?, options: CallOptions = {}): Observable<any> {\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.post<T>(url, body, options)\n      .pipe(\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private putMethod<T>(url, body = {}, options: CallOptions = {}): Observable<any> {\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.put<T>(url, body, options)\n      .pipe(\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private deleteMethod<T>(url: string, options: CallOptions = {}): Observable<any> {\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken('application/json', options.headers);\n    const callObservable = this.http.delete<T>(url, options)\n      .pipe(\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private requestMethod<T>(type: HttpRequestTypes, url: string, body: any = {}, options: CallOptions = {}): Observable<any> {\n    options.withCredentials = true;\n    options.headers = this.newHeaderWithSessionToken(undefined, options.headers);\n    const req = new HttpRequest(type, url, body, options);\n    const callObservable = this.http.request<T>(req)\n      .pipe(\n        catchError(this.handleError)\n      );\n    return this.shareObservable(callObservable);\n  }\n\n  private handleError = (error: any) => {\n    const message = error.message;\n    const bodyMessage = (error && error.error) ? error.error.message : '';\n    const status = error.status;\n    const statusText = error.statusText;\n    if ((error.status === 401) && this.config.authHost) {\n      this.goToLoginPage();\n      return throwError({ status, statusText, message, bodyMessage });\n    } else {\n      return throwError({ status, statusText, message, bodyMessage });\n    }\n  }\n\n  // ******* //\n  // Helpers //\n  // ******* //\n\n  private createFilesFormData(files: File[]) {\n    const formData: FormData = new FormData();\n    files.forEach((file, index) => {\n      const formItemName = index > 0 ? `file-${index}` : 'file';\n      formData.append(formItemName, file, file.name);\n    });\n    return formData;\n  }\n\n  private goToLoginPage() {\n    const nakedAppDomain = window.location.href\n      .replace('https://', '')\n      .replace('http://', '')\n      .replace(window.location.search, '');\n\n    const nakedAuthDomain = this.config.authHost.split('?')[0]\n      .replace('https://', '')\n      .replace('http://', '')\n      .replace('//', '');\n\n    if (nakedAppDomain !== nakedAuthDomain) {\n      const authUrlWithRedirect = `${this.config.authHost}${this.getParamsDivider()}redirectUrl=${window.location.href}`;\n      console.log(`DecApiService:: Not authenticated. Redirecting to login page at: ${authUrlWithRedirect}`);\n      window.location.href = authUrlWithRedirect;\n    }\n  }\n\n  private getParamsDivider() {\n    return this.config.authHost.split('?').length > 1 ? '&' : '?';\n  }\n\n  private tryToLoadSignedInUser() {\n    this.fetchCurrentLoggedUser()\n      .toPromise()\n      .then(res => {\n        console.log('DecoraApiService:: Started as logged');\n      }, err => {\n        if (err.status === 401) {\n          console.log('DecoraApiService:: Started as not logged');\n        } else {\n          console.error('DecoraApiService:: Initialization Error. Could retrieve user account', err);\n        }\n      });\n  }\n\n  private newHeaderWithSessionToken(type?: string, headers?: HttpHeaders) {\n    headers = headers || new HttpHeaders();\n    const customizedContentType = headers.get('Content-Type');\n    if (!customizedContentType && type) {\n      headers = headers.set('Content-Type', type);\n    }\n    if (this.sessionToken) {\n      headers = headers.set('X-Auth-Token', this.sessionToken);\n    }\n    return headers;\n  }\n\n  private extratSessionToken(res) {\n    this.sessionToken = res && res.session ? res.session.id : undefined;\n    return res;\n  }\n\n  private getResourceUrl(path) {\n\n    const basePath = this.config.useMockApi ? this.config.mockApiHost : this.config.host;\n\n    path = path.replace(/^\\/|\\/$/g, '');\n\n    return `${basePath}/${path}`;\n\n  }\n\n  private subscribeToUser() {\n    this.userSubscripion = this.user$.subscribe(user => {\n      this.user = user;\n    });\n  }\n\n  private unsubscribeToUser() {\n    this.userSubscripion.unsubscribe();\n  }\n\n  /*\n  * Share Observable\n  *\n  * This method is used to share the actual data values and not just the observable instance\n  *\n  * To reuse a single, common stream and avoid making another subscription to the server providing that data.\n  *\n  */\n  private shareObservable(call: Observable<any>) {\n    return call.pipe(share());\n  }\n}\n","import { Component, AfterViewInit, Input, forwardRef, ViewChild, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormControl, NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Observable, of, Subscription } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap, startWith, tap } from 'rxjs/operators';\nimport { LabelFunction, ValueFunction, SelectionEvent, CustomFetchFunction } from './autocomplete.models';\nimport { MatAutocompleteTrigger } from '@angular/material';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete',\n  template: `<div>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    #termInput\n    [matAutocomplete]=\"autocomplete\"\n    [formControl]=\"autocompleteInput\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [placeholder]=\"placeholder\"\n    (blur)=\"onBlur($event)\">\n\n    <button mat-icon-button matSuffix (click)=\"clear(true)\" *ngIf=\"!disabled && !required && autocompleteInput.value\">\n      <mat-icon>close</mat-icon>\n    </button>\n\n    <button mat-icon-button matSuffix (click)=\"reset()\" *ngIf=\"!disabled && value !== writtenValue\">\n      <mat-icon>replay</mat-icon>\n    </button>\n\n  </mat-form-field>\n\n  <mat-autocomplete #autocomplete=\"matAutocomplete\"\n  [displayWith]=\"extractLabel\"\n  (optionSelected)=\"onOptionSelected($event)\"\n  name=\"autocompleteValue\">\n    <mat-option *ngFor=\"let item of (options$ | async)\" [value]=\"item\">\n      {{ extractLabel(item) }}\n    </mat-option>\n  </mat-autocomplete>\n</div>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteComponent implements ControlValueAccessor, AfterViewInit, OnDestroy {\n\n  @ViewChild(MatAutocompleteTrigger)  autocompleteTrigger: MatAutocompleteTrigger;\n\n  autocompleteInput: FormControl;\n\n  options$: Observable<any[]>;\n\n  writtenValue: any;\n\n  // Params\n  @Input() customFetchFunction: CustomFetchFunction;\n\n  @Input() endpoint;\n\n  @Input()\n  set disabled(v: boolean) {\n    this._disabled = v;\n    if (this.autocompleteInput) {\n      if (v) {\n        this.autocompleteInput.disable();\n      } else {\n        this.autocompleteInput.enable();\n      }\n    }\n  }\n  get disabled(): boolean {\n    return this._disabled;\n  }\n\n  @Input() labelFn: LabelFunction;\n\n  @Input() labelAttr: string;\n\n  @Input() name = 'autocompleteInput';\n\n  @Input()\n  set options(v: any[]) {\n    this._options = v;\n    this.innerOptions = v;\n  }\n  get options(): any[] {\n    return this._options;\n  }\n\n  @Input() placeholder = '';\n\n  @Input() required: boolean;\n\n  @Input() valueFn: ValueFunction;\n\n  @Input() valueAttr: string;\n\n  // Events\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<SelectionEvent> = new EventEmitter<SelectionEvent>();\n\n  // View elements\n  @ViewChild('termInput') termInput;\n\n  // private data;\n  private options$Subscription: Subscription;\n\n  private _disabled: boolean;\n\n  private _options: any[];\n\n  innerOptions: any[] = [];\n\n  private filteredOptions: any[] = [];\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private service: DecApiService\n  ) {\n    this.createInput();\n  }\n\n  ngAfterViewInit() {\n    this.detectRequiredData()\n    .then(res => {\n      this.subscribeToSearchAndSetOptionsObservable();\n      this.subscribeToOptions();\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeToOptions();\n  }\n\n  /*\n  ** ngModel VALUE\n  */\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.setInnerValue(v);\n      this.onChangeCallback(v);\n    }\n  }\n  get value(): any {\n    return this.innerValue;\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(v: any) {\n    this.writtenValue = v;\n    v = v ? v : undefined; // avoid null values\n    const hasDifference = !this.compareAsString(v, this.value);\n    if (hasDifference) {\n      this.loadRemoteObjectByWrittenValue(v)\n      .then((options) => {\n        this.setInnerValue(v);\n      });\n    }\n  }\n\n  onOptionSelected($event) {\n    const selectedOption = $event.option.value;\n    const selectedOptionValue = this.extractValue(selectedOption);\n    if (selectedOptionValue !== this.value) {\n      this.value = selectedOptionValue;\n      this.optionSelected.emit({\n        value: this.value,\n        option: selectedOption,\n        options: this.innerOptions,\n        filteredOptions: this.filteredOptions,\n      });\n    }\n  }\n\n  setFocus() {\n    this.termInput.nativeElement.focus();\n  }\n\n  openPanel() {\n    this.autocompleteTrigger.openPanel();\n  }\n\n  closePanel() {\n    this.autocompleteTrigger.closePanel();\n  }\n\n  onBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  clear(reopen = false) {\n    this.value = undefined;\n    this.autocompleteInput.setValue('');\n    if (this.writtenValue === this.value) {\n      this.resetInputControl();\n    }\n    if (reopen) {\n      setTimeout(() => {\n        this.openPanel();\n      }, 1);\n    }\n  }\n\n  reset() {\n    this.value = this.writtenValue;\n    this.setInnerValue(this.writtenValue);\n    this.resetInputControl();\n  }\n\n  extractLabel: LabelFunction = (item: any): string => {\n    let label = item; // use the object itself if no label function or attribute is provided\n    if (item) {\n      if (this.labelFn) { // Use custom label function if provided\n        label = this.labelFn(item);\n      } else if (this.labelAttr) { // Use object label attribute if provided\n        label = item[this.labelAttr] || undefined;\n\n      }\n    }\n    label = this.ensureString(label);\n    return label;\n  }\n\n  private loadRemoteObjectByWrittenValue(writtenValue: any): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      if (writtenValue) {\n        this.searchBasedFetchingType(writtenValue)\n        .subscribe((res) => {\n          resolve(writtenValue);\n        });\n      } else {\n        resolve(writtenValue);\n      }\n    });\n  }\n\n  private detectRequiredData(): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let error: string;\n      if (!this.endpoint && !this.options && !this.customFetchFunction) {\n        error = 'No endpoint | options | customFetchFunction set. You must provide one of them to be able to use the Autocomplete';\n      }\n      if (error) {\n        this.raiseError(error);\n        reject(error);\n      } else {\n        resolve();\n      }\n    });\n  }\n\n  private resetInputControl() {\n    this.autocompleteInput.markAsPristine();\n    this.autocompleteInput.markAsUntouched();\n  }\n\n  private extractValue: ValueFunction = (item: any): any => {\n    let value = item; // use the object itself if no value function or attribute is provided\n    if (item) {\n      if (this.valueFn) { // Use custom value function if provided\n        value = this.valueFn(item);\n      } else if (this.valueAttr) { // Use object value attribute if provided\n        value = item[this.valueAttr] || undefined;\n      }\n    }\n    return value;\n  }\n\n  private compareAsString(v1, v2) {\n    const string1 = this.ensureString(v1);\n    const string2 = this.ensureString(v2);\n    return string1 === string2;\n  }\n\n  private ensureString(v) {\n    if (typeof v !== 'string') {\n      if (isNaN(v)) {\n        v = JSON.stringify(v);\n      } else {\n        v = `${v}`;\n      }\n    }\n    return v;\n  }\n\n  private subscribeToOptions() {\n    this.options$Subscription = this.options$.subscribe(options => {\n      this.filteredOptions = options;\n    });\n  }\n\n  private setInnerValue(v: any) {\n    this.innerValue = v;\n    this.setInputValueBasedOnInnerValue(v);\n  }\n\n  private setInputValueBasedOnInnerValue(v: any) {\n    const option = this.getOptionBasedOnValue(v);\n    const label = this.extractLabel(option);\n    this.autocompleteInput.setValue(option);\n  }\n\n  private getOptionBasedOnValue(v: any) {\n    return this.innerOptions.find(item => {\n      const itemValue = this.extractValue(item);\n      return this.compareAsString(itemValue, v);\n    });\n  }\n\n  private createInput() {\n    this.autocompleteInput = this.formBuilder.control({value: undefined, disabled: this.disabled, required: this.required});\n  }\n\n  private subscribeToSearchAndSetOptionsObservable() {\n    this.options$ = this.autocompleteInput.valueChanges\n    .pipe(\n      startWith(''),\n      debounceTime(300),\n      distinctUntilChanged(),\n      switchMap((textSearch: string) => {\n        const isStringTerm = typeof textSearch === 'string';\n        if (isStringTerm) {\n          return this.searchBasedFetchingType(textSearch);\n        } else {\n          return of(this.innerOptions);\n        }\n      })\n    );\n  }\n\n  private searchBasedFetchingType(textSearch): Observable<any[]> {\n    if (this.options) {\n      return this.searchInLocalOptions(textSearch);\n    } else if (this.customFetchFunction) {\n      return this.customFetchFunction(textSearch)\n        .pipe(\n          tap(options => {\n            this.innerOptions = options;\n          })\n        );\n    } else {\n      const body = textSearch ? { textSearch } : undefined;\n      return this.service.get<any[]>(this.endpoint, body)\n        .pipe(\n          tap((options: any[]) => {\n            this.innerOptions = options;\n          })\n        );\n    }\n  }\n\n  private unsubscribeToOptions() {\n    this.options$Subscription.unsubscribe();\n  }\n\n  private searchInLocalOptions(term: string) {\n    const termString = `${term}`;\n\n    let filteredData = this.innerOptions;\n\n    if (termString) {\n      filteredData = this.innerOptions\n      .filter(item => {\n        const label: string = this.extractLabel(item);\n        const lowerCaseLabel = label.toLowerCase();\n        const lowerCaseTerm = termString.toLowerCase();\n        return lowerCaseLabel.search(lowerCaseTerm) >= 0;\n      });\n    }\n\n    return of(filteredData);\n  }\n\n  private raiseError(error: string) {\n    throw new Error(`DecAutocompleteComponent Error:: The autocomplete with name \"${this.name}\" had the follow problem: ${error}`);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { DecAutocompleteComponent } from './autocomplete.component';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { MatAutocompleteModule, MatInputModule, MatButtonModule, MatIconModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatAutocompleteModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [DecAutocompleteComponent],\n  exports: [DecAutocompleteComponent]\n})\nexport class DecAutocompleteModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Observable } from 'rxjs';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteAccountComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-account',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[customFetchFunction]=\"customFetchFunction\"\n[(ngModel)]=\"value\"\n[labelAttr]=\"labelAttr\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteAccountComponent implements ControlValueAccessor {\n\n  endpoint = 'accounts/options';\n\n  labelAttr = 'value';\n\n  valueAttr = 'key';\n\n  @Input() types: string[];\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Account autocomplete';\n\n  @Input() placeholder = 'Account autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(\n    private decoraApi: DecApiService\n  ) {}\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  customFetchFunction = (textSearch): Observable<any> => {\n\n    const filterGroups = [\n      {\n        filters: [\n          { property: 'name', value: textSearch }\n        ]\n      }\n    ];\n\n    if (this.types) {\n\n      filterGroups[0].filters.push({ property: 'role.$id', value: this.types });\n\n    }\n\n\n    return this.decoraApi.get(this.endpoint, { filterGroups });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteAccountComponent } from './autocomplete-account.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n  ],\n  declarations: [DecAutocompleteAccountComponent],\n  exports: [DecAutocompleteAccountComponent]\n})\nexport class DecAutocompleteAccountModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const AUTOCOMPLETE_COMPANY_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteCompanyComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-company',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[endpoint]=\"endpoint\"\n[(ngModel)]=\"value\"\n[labelFn]=\"labelFn\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_COMPANY_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteCompanyComponent implements ControlValueAccessor {\n\n  endpoint = 'companies/options';\n\n  valueAttr = 'key';\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Company autocomplete';\n\n  @Input() placeholder = 'Company autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() {}\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(company) {\n    return `${company.value} #${company.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteCompanyComponent } from './autocomplete-company.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n  ],\n  declarations: [DecAutocompleteCompanyComponent],\n  exports: [DecAutocompleteCompanyComponent]\n})\nexport class DecAutocompleteCompanyModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Observable, of } from 'rxjs';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const AUTOCOMPLETE_COUNTRY_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteCountryComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-country',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[options]=\"(countries$ | async)\"\n[(ngModel)]=\"value\"\n[labelFn]=\"labelFn\"\n[valueFn]=\"valueFn\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_COUNTRY_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteCountryComponent implements ControlValueAccessor {\n\n  countries$: Observable<any>;\n\n  @Input() lang: 'en' | 'pt-br' = 'en';\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Country autocomplete';\n\n  @Input() placeholder = 'Country autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() {\n    this.countries$ = of(FAKE_DATA);\n  }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  labelFn = (item) => {\n    return item ? item.name : item;\n  }\n\n  valueFn = (item) => {\n    return item ? item.code : item;\n  }\n\n}\n\nconst FAKE_DATA = [{ 'code': 'AD', 'name': 'Andorra' }, { 'code': 'AE', 'name': 'United Arab Emirates' }, { 'code': 'AF', 'name': 'Afghanistan' }, { 'code': 'AG', 'name': 'Antigua and Barbuda' }, { 'code': 'AI', 'name': 'Anguilla' }, { 'code': 'AL', 'name': 'Albania' }, { 'code': 'AM', 'name': 'Armenia' }, { 'code': 'AN', 'name': 'Netherlands Antilles' }, { 'code': 'AO', 'name': 'Angola' }, { 'code': 'AQ', 'name': 'Antarctica' }, { 'code': 'AR', 'name': 'Argentina' }, { 'code': 'AS', 'name': 'American Samoa' }, { 'code': 'AT', 'name': 'Austria' }, { 'code': 'AU', 'name': 'Australia' }, { 'code': 'AW', 'name': 'Aruba' }, { 'code': 'AX', 'name': 'Ãland Islands' }, { 'code': 'AZ', 'name': 'Azerbaijan' }, { 'code': 'BA', 'name': 'Bosnia and Herzegovina' }, { 'code': 'BB', 'name': 'Barbados' }, { 'code': 'BD', 'name': 'Bangladesh' }, { 'code': 'BE', 'name': 'Belgium' }, { 'code': 'BF', 'name': 'Burkina Faso' }, { 'code': 'BG', 'name': 'Bulgaria' }, { 'code': 'BH', 'name': 'Bahrain' }, { 'code': 'BI', 'name': 'Burundi' }, { 'code': 'BJ', 'name': 'Benin' }, { 'code': 'BL', 'name': 'Saint BarthÃ©lemy' }, { 'code': 'BM', 'name': 'Bermuda' }, { 'code': 'BN', 'name': 'Brunei' }, { 'code': 'BO', 'name': 'Bolivia' }, { 'code': 'BQ', 'name': 'Bonaire, Sint Eustatius and Saba' }, { 'code': 'BR', 'name': 'Brazil' }, { 'code': 'BS', 'name': 'Bahamas' }, { 'code': 'BT', 'name': 'Bhutan' }, { 'code': 'BV', 'name': 'Bouvet Island' }, { 'code': 'BW', 'name': 'Botswana' }, { 'code': 'BY', 'name': 'Belarus' }, { 'code': 'BZ', 'name': 'Belize' }, { 'code': 'CA', 'name': 'Canada' }, { 'code': 'CC', 'name': 'Cocos Islands' }, { 'code': 'CD', 'name': 'The Democratic Republic Of Congo' }, { 'code': 'CF', 'name': 'Central African Republic' }, { 'code': 'CG', 'name': 'Congo' }, { 'code': 'CH', 'name': 'Switzerland' }, { 'code': 'CI', 'name': 'CÃ´te d\\'Ivoire' }, { 'code': 'CK', 'name': 'Cook Islands' }, { 'code': 'CL', 'name': 'Chile' }, { 'code': 'CM', 'name': 'Cameroon' }, { 'code': 'CN', 'name': 'China' }, { 'code': 'CO', 'name': 'Colombia' }, { 'code': 'CR', 'name': 'Costa Rica' }, { 'code': 'CU', 'name': 'Cuba' }, { 'code': 'CV', 'name': 'Cape Verde' }, { 'code': 'CW', 'name': 'CuraÃ§ao' }, { 'code': 'CX', 'name': 'Christmas Island' }, { 'code': 'CY', 'name': 'Cyprus' }, { 'code': 'CZ', 'name': 'Czech Republic' }, { 'code': 'DE', 'name': 'Germany' }, { 'code': 'DJ', 'name': 'Djibouti' }, { 'code': 'DK', 'name': 'Denmark' }, { 'code': 'DM', 'name': 'Dominica' }, { 'code': 'DO', 'name': 'Dominican Republic' }, { 'code': 'DZ', 'name': 'Algeria' }, { 'code': 'EC', 'name': 'Ecuador' }, { 'code': 'EE', 'name': 'Estonia' }, { 'code': 'EG', 'name': 'Egypt' }, { 'code': 'EH', 'name': 'Western Sahara' }, { 'code': 'ER', 'name': 'Eritrea' }, { 'code': 'ES', 'name': 'Spain' }, { 'code': 'ET', 'name': 'Ethiopia' }, { 'code': 'FI', 'name': 'Finland' }, { 'code': 'FJ', 'name': 'Fiji' }, { 'code': 'FK', 'name': 'Falkland Islands' }, { 'code': 'FM', 'name': 'Micronesia' }, { 'code': 'FO', 'name': 'Faroe Islands' }, { 'code': 'FR', 'name': 'France' }, { 'code': 'GA', 'name': 'Gabon' }, { 'code': 'GB', 'name': 'United Kingdom' }, { 'code': 'GD', 'name': 'Grenada' }, { 'code': 'GE', 'name': 'Georgia' }, { 'code': 'GF', 'name': 'French Guiana' }, { 'code': 'GG', 'name': 'Guernsey' }, { 'code': 'GH', 'name': 'Ghana' }, { 'code': 'GI', 'name': 'Gibraltar' }, { 'code': 'GL', 'name': 'Greenland' }, { 'code': 'GM', 'name': 'Gambia' }, { 'code': 'GN', 'name': 'Guinea' }, { 'code': 'GP', 'name': 'Guadeloupe' }, { 'code': 'GQ', 'name': 'Equatorial Guinea' }, { 'code': 'GR', 'name': 'Greece' }, { 'code': 'GS', 'name': 'South Georgia And The South Sandwich Islands' }, { 'code': 'GT', 'name': 'Guatemala' }, { 'code': 'GU', 'name': 'Guam' }, { 'code': 'GW', 'name': 'Guinea-Bissau' }, { 'code': 'GY', 'name': 'Guyana' }, { 'code': 'HK', 'name': 'Hong Kong' }, { 'code': 'HM', 'name': 'Heard Island And McDonald Islands' }, { 'code': 'HN', 'name': 'Honduras' }, { 'code': 'HR', 'name': 'Croatia' }, { 'code': 'HT', 'name': 'Haiti' }, { 'code': 'HU', 'name': 'Hungary' }, { 'code': 'ID', 'name': 'Indonesia' }, { 'code': 'IE', 'name': 'Ireland' }, { 'code': 'IL', 'name': 'Israel' }, { 'code': 'IM', 'name': 'Isle Of Man' }, { 'code': 'IN', 'name': 'India' }, { 'code': 'IO', 'name': 'British Indian Ocean Territory' }, { 'code': 'IQ', 'name': 'Iraq' }, { 'code': 'IR', 'name': 'Iran' }, { 'code': 'IS', 'name': 'Iceland' }, { 'code': 'IT', 'name': 'Italy' }, { 'code': 'JE', 'name': 'Jersey' }, { 'code': 'JM', 'name': 'Jamaica' }, { 'code': 'JO', 'name': 'Jordan' }, { 'code': 'JP', 'name': 'Japan' }, { 'code': 'KE', 'name': 'Kenya' }, { 'code': 'KG', 'name': 'Kyrgyzstan' }, { 'code': 'KH', 'name': 'Cambodia' }, { 'code': 'KI', 'name': 'Kiribati' }, { 'code': 'KM', 'name': 'Comoros' }, { 'code': 'KN', 'name': 'Saint Kitts And Nevis' }, { 'code': 'KP', 'name': 'North Korea' }, { 'code': 'KR', 'name': 'South Korea' }, { 'code': 'KW', 'name': 'Kuwait' }, { 'code': 'KY', 'name': 'Cayman Islands' }, { 'code': 'KZ', 'name': 'Kazakhstan' }, { 'code': 'LA', 'name': 'Laos' }, { 'code': 'LB', 'name': 'Lebanon' }, { 'code': 'LC', 'name': 'Saint Lucia' }, { 'code': 'LI', 'name': 'Liechtenstein' }, { 'code': 'LK', 'name': 'Sri Lanka' }, { 'code': 'LR', 'name': 'Liberia' }, { 'code': 'LS', 'name': 'Lesotho' }, { 'code': 'LT', 'name': 'Lithuania' }, { 'code': 'LU', 'name': 'Luxembourg' }, { 'code': 'LV', 'name': 'Latvia' }, { 'code': 'LY', 'name': 'Libya' }, { 'code': 'MA', 'name': 'Morocco' }, { 'code': 'MC', 'name': 'Monaco' }, { 'code': 'MD', 'name': 'Moldova' }, { 'code': 'ME', 'name': 'Montenegro' }, { 'code': 'MF', 'name': 'Saint Martin' }, { 'code': 'MG', 'name': 'Madagascar' }, { 'code': 'MH', 'name': 'Marshall Islands' }, { 'code': 'MK', 'name': 'Macedonia' }, { 'code': 'ML', 'name': 'Mali' }, { 'code': 'MM', 'name': 'Myanmar' }, { 'code': 'MN', 'name': 'Mongolia' }, { 'code': 'MO', 'name': 'Macao' }, { 'code': 'MP', 'name': 'Northern Mariana Islands' }, { 'code': 'MQ', 'name': 'Martinique' }, { 'code': 'MR', 'name': 'Mauritania' }, { 'code': 'MS', 'name': 'Montserrat' }, { 'code': 'MT', 'name': 'Malta' }, { 'code': 'MU', 'name': 'Mauritius' }, { 'code': 'MV', 'name': 'Maldives' }, { 'code': 'MW', 'name': 'Malawi' }, { 'code': 'MX', 'name': 'Mexico' }, { 'code': 'MY', 'name': 'Malaysia' }, { 'code': 'MZ', 'name': 'Mozambique' }, { 'code': 'NA', 'name': 'Namibia' }, { 'code': 'NC', 'name': 'New Caledonia' }, { 'code': 'NE', 'name': 'Niger' }, { 'code': 'NF', 'name': 'Norfolk Island' }, { 'code': 'NG', 'name': 'Nigeria' }, { 'code': 'NI', 'name': 'Nicaragua' }, { 'code': 'NL', 'name': 'Netherlands' }, { 'code': 'NO', 'name': 'Norway' }, { 'code': 'NP', 'name': 'Nepal' }, { 'code': 'NR', 'name': 'Nauru' }, { 'code': 'NU', 'name': 'Niue' }, { 'code': 'NZ', 'name': 'New Zealand' }, { 'code': 'OM', 'name': 'Oman' }, { 'code': 'PA', 'name': 'Panama' }, { 'code': 'PE', 'name': 'Peru' }, { 'code': 'PF', 'name': 'French Polynesia' }, { 'code': 'PG', 'name': 'Papua New Guinea' }, { 'code': 'PH', 'name': 'Philippines' }, { 'code': 'PK', 'name': 'Pakistan' }, { 'code': 'PL', 'name': 'Poland' }, { 'code': 'PM', 'name': 'Saint Pierre And Miquelon' }, { 'code': 'PN', 'name': 'Pitcairn' }, { 'code': 'PR', 'name': 'Puerto Rico' }, { 'code': 'PS', 'name': 'Palestine' }, { 'code': 'PT', 'name': 'Portugal' }, { 'code': 'PW', 'name': 'Palau' }, { 'code': 'PY', 'name': 'Paraguay' }, { 'code': 'QA', 'name': 'Qatar' }, { 'code': 'RE', 'name': 'Reunion' }, { 'code': 'RO', 'name': 'Romania' }, { 'code': 'RS', 'name': 'Serbia' }, { 'code': 'RU', 'name': 'Russia' }, { 'code': 'RW', 'name': 'Rwanda' }, { 'code': 'SA', 'name': 'Saudi Arabia' }, { 'code': 'SB', 'name': 'Solomon Islands' }, { 'code': 'SC', 'name': 'Seychelles' }, { 'code': 'SD', 'name': 'Sudan' }, { 'code': 'SE', 'name': 'Sweden' }, { 'code': 'SG', 'name': 'Singapore' }, { 'code': 'SH', 'name': 'Saint Helena' }, { 'code': 'SI', 'name': 'Slovenia' }, { 'code': 'SJ', 'name': 'Svalbard And Jan Mayen' }, { 'code': 'SK', 'name': 'Slovakia' }, { 'code': 'SL', 'name': 'Sierra Leone' }, { 'code': 'SM', 'name': 'San Marino' }, { 'code': 'SN', 'name': 'Senegal' }, { 'code': 'SO', 'name': 'Somalia' }, { 'code': 'SR', 'name': 'Suriname' }, { 'code': 'SS', 'name': 'South Sudan' }, { 'code': 'ST', 'name': 'Sao Tome And Principe' }, { 'code': 'SV', 'name': 'El Salvador' }, { 'code': 'SX', 'name': 'Sint Maarten (Dutch part)' }, { 'code': 'SY', 'name': 'Syria' }, { 'code': 'SZ', 'name': 'Swaziland' }, { 'code': 'TC', 'name': 'Turks And Caicos Islands' }, { 'code': 'TD', 'name': 'Chad' }, { 'code': 'TF', 'name': 'French Southern Territories' }, { 'code': 'TG', 'name': 'Togo' }, { 'code': 'TH', 'name': 'Thailand' }, { 'code': 'TJ', 'name': 'Tajikistan' }, { 'code': 'TK', 'name': 'Tokelau' }, { 'code': 'TL', 'name': 'Timor-Leste' }, { 'code': 'TM', 'name': 'Turkmenistan' }, { 'code': 'TN', 'name': 'Tunisia' }, { 'code': 'TO', 'name': 'Tonga' }, { 'code': 'TR', 'name': 'Turkey' }, { 'code': 'TT', 'name': 'Trinidad and Tobago' }, { 'code': 'TV', 'name': 'Tuvalu' }, { 'code': 'TW', 'name': 'Taiwan' }, { 'code': 'TZ', 'name': 'Tanzania' }, { 'code': 'UA', 'name': 'Ukraine' }, { 'code': 'UG', 'name': 'Uganda' }, { 'code': 'UM', 'name': 'United States Minor Outlying Islands' }, { 'code': 'UY', 'name': 'Uruguay' }, { 'code': 'UZ', 'name': 'Uzbekistan' }, { 'code': 'VA', 'name': 'Vatican' }, { 'code': 'VC', 'name': 'Saint Vincent And The Grenadines' }, { 'code': 'VE', 'name': 'Venezuela' }, { 'code': 'VG', 'name': 'British Virgin Islands' }, { 'code': 'VI', 'name': 'U.S. Virgin Islands' }, { 'code': 'VN', 'name': 'Vietnam' }, { 'code': 'VU', 'name': 'Vanuatu' }, { 'code': 'WF', 'name': 'Wallis And Futuna' }, { 'code': 'WS', 'name': 'Samoa' }, { 'code': 'YE', 'name': 'Yemen' }, { 'code': 'YT', 'name': 'Mayotte' }, { 'code': 'ZA', 'name': 'South Africa' }, { 'code': 'ZM', 'name': 'Zambia' }, { 'code': 'ZW', 'name': 'Zimbabwe' }];\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteCountryComponent } from './autocomplete-country.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n  ],\n  declarations: [DecAutocompleteCountryComponent],\n  exports: [DecAutocompleteCountryComponent]\n})\nexport class DecAutocompleteCountryModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nexport const BASE_ENDPOINT = 'companies/${companyId}/departments/options';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const AUTOCOMPLETE_DEPARTMENT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteDepartmentComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-department',\n  template: `<div *ngIf=\"endpoint else fakeDisabled\">\n  <dec-autocomplete\n  [disabled]=\"!companyId || disabled\"\n  [endpoint]=\"endpoint\"\n  [labelAttr]=\"labelAttr\"\n  [name]=\"name\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_DEPARTMENT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteDepartmentComponent implements ControlValueAccessor {\n\n  endpoint: string;\n\n  labelAttr = 'value';\n\n  valueAttr = 'key';\n\n  @Input()\n  set companyId(v: string) {\n    this._companyId = v;\n    this.value = undefined;\n    this.setEndpointBasedOncompanyId();\n  }\n\n  get companyId() {\n    return this._companyId;\n  }\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Department autocomplete';\n\n  @Input() placeholder = 'Department autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  private _companyId: string;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  setEndpointBasedOncompanyId() {\n    this.endpoint = !this.companyId ? undefined : BASE_ENDPOINT.replace('${companyId}', this.companyId);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteDepartmentComponent } from './autocomplete-department.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [DecAutocompleteDepartmentComponent],\n  exports: [DecAutocompleteDepartmentComponent]\n})\nexport class DecAutocompleteDepartmentModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nconst AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteRoleComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-role',\n  template: `<dec-autocomplete\n[disabled]=\"disabled\"\n[required]=\"required\"\n[name]=\"name\"\n[placeholder]=\"placeholder\"\n(optionSelected)=\"optionSelected.emit($event)\"\n[customFetchFunction]=\"customFetchFunction\"\n[(ngModel)]=\"value\"\n[labelAttr]=\"labelAttr\"\n[valueAttr]=\"valueAttr\"\n(blur)=\"blur.emit($event)\"></dec-autocomplete>\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_ROLES_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteRoleComponent implements ControlValueAccessor {\n\n  endpoint = 'roles/options';\n\n  labelAttr = 'value';\n\n  valueAttr = 'key';\n\n  @Input() types: string[];\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Role autocomplete';\n\n  @Input() placeholder = 'Role autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(\n    private decoraApi: DecApiService\n  ) {}\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  customFetchFunction = (textSearch): Observable<any> => {\n    const search = textSearch ? { textSearch } : undefined;\n    return this.decoraApi.get(this.endpoint, search)\n    .pipe(\n      map(roles => {\n        return roles.filter(role => {\n          const roleType = (role && role.key) ? role.key.split('.')[0] : undefined;\n          return !this.types ? true : this.types.indexOf(roleType) >= 0;\n        });\n      })\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteRoleComponent } from './autocomplete-role.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule\n  ],\n  declarations: [DecAutocompleteRoleComponent],\n  exports: [DecAutocompleteRoleComponent]\n})\nexport class DecAutocompleteRoleModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { map } from 'rxjs/operators';\n\nexport const BASE_AUTOCOMPLETE_PROJECT_ENDPOINT = '/legacy/project/search/keyValue';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const AUTOCOMPLETE_PROJECT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteProjectComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-project',\n  template: `<div *ngIf=\"(endpoint && companyId) else fakeDisabled\">\n  <dec-autocomplete\n  #autocomplete\n  [endpoint]=\"endpoint\"\n  [labelFn]=\"labelFn\"\n  [name]=\"name\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  [disabled]=\"disabled\"\n  [customFetchFunction]=\"customFetchFunction\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_PROJECT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteProjectComponent implements ControlValueAccessor {\n\n  endpoint;\n\n  valueAttr = 'key';\n\n  @Input()\n  set companyId(v: string) {\n    if (this._companyId !== v) {\n      this._companyId = v;\n      this.value = undefined;\n      this.endpoint = undefined;\n      setTimeout(() => { // ensures a digest cicle before reseting the endpoint\n        this.setEndpointBasedOnCompanyId();\n      }, 0);\n    }\n  }\n\n  get companyId() {\n    return this._companyId;\n  }\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Project autocomplete';\n\n  @Input() placeholder = 'Project autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  private _companyId: string;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private decoraApi: DecApiService) { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  labelFn(company) {\n    return `${company.value} #${company.key}`;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  setEndpointBasedOnCompanyId() {\n    if (this.companyId) {\n      this.endpoint = BASE_AUTOCOMPLETE_PROJECT_ENDPOINT + '?companyId=' + this.companyId;\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  customFetchFunction = (textSearch): Observable<any> => {\n    const params: any = {};\n    params.textSearch = textSearch;\n    this.setEndpointBasedOnCompanyId();\n    return this.decoraApi.get(this.endpoint, params)\n    .pipe(\n      map(projects => {\n        return projects;\n      })\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteProjectComponent } from './autocomplete-project.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [\n    DecAutocompleteProjectComponent\n  ],\n  exports: [\n    DecAutocompleteProjectComponent\n  ]\n})\nexport class DecAutocompleteProjectModule { }\n","import { Component, Input, forwardRef, Output, EventEmitter } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { map } from 'rxjs/operators';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const AUTOCOMPLETE_QUOTE_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecAutocompleteQuoteComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-autocomplete-quote',\n  template: `<div *ngIf=\"endpoint else fakeDisabled\">\n  <dec-autocomplete\n  [disabled]=\"!projectId || disabled\"\n  [endpoint]=\"endpoint\"\n  [labelAttr]=\"labelAttr\"\n  [name]=\"name\"\n  [placeholder]=\"placeholder\"\n  [required]=\"required\"\n  [valueAttr]=\"valueAttr\"\n  [(ngModel)]=\"value\"\n  [customFetchFunction]=\"customFetchFunction\"\n  (optionSelected)=\"optionSelected.emit($event)\"\n  (blur)=\"blur.emit($event)\"></dec-autocomplete>\n</div>\n\n<ng-template #fakeDisabled>\n  <mat-form-field>\n    <input matInput\n    [attr.aria-label]=\"name\"\n    [name]=\"name\"\n    [required]=\"required\"\n    [disabled]=\"true\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n</ng-template>\n\n`,\n  styles: [],\n  providers: [AUTOCOMPLETE_QUOTE_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecAutocompleteQuoteComponent implements ControlValueAccessor {\n\n  BASE_ENDPOINT = '/legacy/project/${projectId}/quote';\n\n  endpoint: string;\n\n  labelAttr = 'value';\n\n  valueAttr = 'key';\n\n  @Input()\n  set projectId(v: string) {\n    this._projectId = v;\n    this.value = undefined;\n    this.setEndpointBasedOnProjectId();\n  }\n\n  get projectId() {\n    return this._projectId;\n  }\n\n  @Input() disabled: boolean;\n\n  @Input() required: boolean;\n\n  @Input() name = 'Quote autocomplete';\n\n  @Input() placeholder = 'Quote autocomplete';\n\n  @Output() blur: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() optionSelected: EventEmitter<any> = new EventEmitter<any>();\n\n  private _projectId: string;\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private decoraApi: DecApiService) { }\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): any {\n    return this.innerValue;\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(value: any) {\n    if (`${value}` !== `${this.value}`) { // convert to string to avoid problems comparing values\n      if (value && value !== undefined && value !== null) {\n        this.value = value;\n      }\n    }\n  }\n\n  onAutocompleteBlur($event) {\n    this.onTouchedCallback();\n    this.blur.emit(this.value);\n  }\n\n  setEndpointBasedOnProjectId() {\n    this.endpoint = !this.projectId ? undefined : this.BASE_ENDPOINT.replace('${projectId}', this.projectId);\n  }\n\n  customFetchFunction = (textSearch): Observable<any> => {\n    const params: any = {};\n    params.textSearch = textSearch;\n    this.setEndpointBasedOnProjectId();\n    return this.decoraApi.get(this.endpoint, params)\n    .pipe(\n      map(response => {\n        response = response.map(quotes => {\n          return {\n            key: quotes.id,\n            value: quotes.productVariantId\n          };\n            });\n        return response;\n      })\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { DecAutocompleteModule } from './../autocomplete/autocomplete.module';\nimport { DecAutocompleteQuoteComponent } from './autocomplete-quote.component';\nimport { MatInputModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    DecAutocompleteModule,\n    MatInputModule\n  ],\n  declarations: [\n    DecAutocompleteQuoteComponent\n  ],\n  exports: [\n    DecAutocompleteQuoteComponent\n  ]\n})\nexport class DecAutocompleteQuoteModule { }\n","import { Component, Input, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'dec-breadcrumb',\n  template: `<div fxLayout=\"row\" class=\"dec-breadcrumb-wrapper\">\n\n  <div fxFlex>\n    <div fxLayout=\"column\">\n      <div class=\"title\">\n        <h1>{{feature}}</h1>\n      </div>\n      <div class=\"breadcrumb\">\n        {{breadcrumb}}\n      </div>\n    </div>\n  </div>\n\n  <div fxFlex fxFlexAlign=\"center\" fxLayoutAlign=\"end\">\n    <div fxLayout=\"row\">\n      <div fxFlex>\n        <!-- CONTENT  -->\n        <ng-content></ng-content>\n        <!-- BACK BUTTON -->\n        <button type=\"button\" mat-raised-button color=\"default\" *ngIf=\"backButtonPath\" (click)=\"goBack()\">{{ backLabel }}</button>\n        <!-- FORWARD BUTTON -->\n        <button type=\"button\" mat-raised-button color=\"default\" *ngIf=\"forwardButton\" (click)=\"goForward()\">{{ forwardLabel }}</button>\n      </div>\n    </div>\n  </div>\n\n</div>\n`,\n  styles: [`.dec-breadcrumb-wrapper{margin-bottom:32px}.dec-breadcrumb-wrapper h1{font-size:24px;font-weight:400;margin-top:4px;margin-bottom:4px}.dec-breadcrumb-wrapper .breadcrumb{color:#a8a8a8}`],\n})\nexport class DecBreadcrumbComponent implements OnInit {\n\n  @Input() backButtonPath: string;\n  @Input() breadcrumb: string;\n  @Input() feature: string;\n  @Input() forwardButton: string;\n  @Input() i18nFeature: string;\n  @Input() i18nBreadcrumb: string[];\n  @Input() backLabel = 'Back';\n  @Input() forwardLabel = 'Forward';\n\n  constructor(private router: Router, private translator: TranslateService) {\n  }\n\n  ngOnInit() {\n    this.translateFeature();\n    this.translatePaths();\n    this.detectAndParseButtonsConfig();\n  }\n\n  private detectAndParseButtonsConfig() {\n    this.parseBackButton();\n    this.parseForwardButton();\n  }\n\n  private parseBackButton() {\n    if (this.backButtonPath !== undefined && this.backButtonPath !== 'false') {\n      this.backButtonPath = this.backButtonPath ? this.backButtonPath : '/';\n    }\n  }\n\n  private parseForwardButton() {\n    if (this.forwardButton !== undefined && this.forwardButton !== 'false') {\n      this.forwardButton = this.forwardButton ? this.forwardButton : '/';\n    }\n  }\n\n  private translateFeature() {\n    if (this.i18nBreadcrumb) {\n      this.breadcrumb = this.i18nBreadcrumb.map(path => this.translator.instant(path)).join(' / ');\n    }\n  }\n\n  private translatePaths() {\n    if (this.i18nFeature) {\n      this.feature = this.translator.instant(this.i18nFeature);\n    }\n  }\n\n  // ****************** //\n  // Navigation Methods //\n  // ****************** //\n\n  public goBack() {\n    if (this.backButtonPath) {\n      this.router.navigate([this.backButtonPath]);\n    } else {\n      window.history.back();\n    }\n  }\n\n  public goForward() {\n    if (this.forwardButton) {\n      this.router.navigate([this.forwardButton]);\n    } else {\n      window.history.forward();\n    }\n  }\n}\n","// Angular modules\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatButtonModule } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { DecBreadcrumbComponent } from './breadcrumb.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatButtonModule,\n    RouterModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecBreadcrumbComponent\n  ],\n  exports: [\n    DecBreadcrumbComponent\n  ]\n})\nexport class DecBreadcrumbModule { }\n","import { Component, ViewChild, OnInit, ComponentFactoryResolver, ComponentFactory, ComponentRef, ViewContainerRef, Output, EventEmitter } from '@angular/core';\nimport { ComponentType } from '@angular/cdk/portal';\nimport { DialogAction } from './dec-dialog.models';\nimport { MatDialogRef } from '@angular/material';\n\n@Component({\n  selector: 'dec-dialog',\n  template: `<mat-toolbar color=\"primary\">\n\n  <div fxLayout=\"row\" fxFlexFill fxLayoutAlign=\"start center\">\n    <div>\n      <button type=\"button\" mat-icon-button class=\"uppercase\" mat-dialog-close>\n        <mat-icon>arrow_back</mat-icon>\n      </button>\n    </div>\n    <div>\n      <h1>&nbsp; {{ title }}</h1>\n    </div>\n    <div fxFlex>\n      <div fxLayout=\"row\" fxLayoutAlign=\"end center\">\n        <div *ngIf=\"actions\">\n          <mat-menu #decDialogActionsMenu=\"matMenu\">\n            <button *ngFor=\"let action of actions\" mat-menu-item (click)=\"action.callback(context)\">\n              <span *ngIf=\"action.label\">{{ action.label }}</span>\n              <span *ngIf=\"action.i18nLabel\">{{ action.i18nLabel | translate }}</span>\n            </button>\n          </mat-menu>\n\n          <button mat-icon-button [matMenuTriggerFor]=\"decDialogActionsMenu\">\n            <mat-icon>more_vert</mat-icon>\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</mat-toolbar>\n\n<div class=\"dec-dialog-child-wrapper\">\n  <template #childContainer></template>\n</div>\n\n<dec-spinner *ngIf=\"!loaded\"></dec-spinner>\n`,\n  styles: [`.dec-dialog-child-wrapper{padding:32px}`]\n})\nexport class DecDialogComponent implements OnInit {\n\n  // CURRENT\n  childComponentType: ComponentType<any>;\n\n  childComponentInstance: any;\n\n  actions: DialogAction[] = [];\n\n  title: string;\n\n  context: any = {};\n\n  loaded: boolean;\n\n  @ViewChild('childContainer', { read: ViewContainerRef }) childContainer: ViewContainerRef;\n\n  @Output() child = new EventEmitter<any>();\n\n  constructor(\n    private factor: ComponentFactoryResolver,\n    private dialogRef: MatDialogRef<DecDialogComponent>\n  ) {}\n\n  ngOnInit() {\n\n    this.dialogRef.afterOpen()\n    .toPromise()\n    .then(this.factoryTheComponent);\n\n  }\n\n  private factoryTheComponent = () => {\n\n    const componentFactory: ComponentFactory<any> = this.factor.resolveComponentFactory(this.childComponentType);\n\n    const componentRef: ComponentRef<any> = this.childContainer.createComponent(componentFactory);\n\n    this.childComponentInstance = componentRef.instance;\n\n    this.child.emit(this.childComponentInstance);\n\n    this.child.complete(); // unsubsribe subscribers\n\n    this.appendContextToInstance(componentRef.instance, this.context);\n\n    this.loaded = true;\n\n  }\n\n  private appendContextToInstance(instance: any, context: any) {\n\n    if (instance && context) {\n\n      Object.keys(context).forEach((key) => {\n\n        instance[key] = this.context[key];\n\n      });\n\n    }\n\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-spinner',\n  template: `<div class=\"decora-loading-spinner-wrapper\">\n  <div class=\"decora-loading-spinner transparentBg\">\n    <div class=\"center\">\n      <div class=\"spinner-wrapper\">\n        <div class=\"spinner\">\n          <div class=\"inner\">\n            <div class=\"gap\"></div>\n            <div class=\"left\">\n              <div class=\"half-circle\"></div>\n            </div>\n            <div class=\"right\">\n              <div class=\"half-circle\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n`,\n  styles: [`.decora-loading-spinner-wrapper{position:relative;display:block;width:100%}`]\n})\nexport class DecSpinnerComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSpinnerComponent } from './dec-spinner.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [DecSpinnerComponent],\n  exports: [DecSpinnerComponent]\n})\nexport class DecSpinnerModule { }\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogRef } from '@angular/material';\nimport { ComponentType } from '@angular/cdk/portal';\nimport { DecDialogComponent } from './dec-dialog.component';\nimport { OpenConfiguration } from './dec-dialog.models';\n\n@Injectable()\nexport class DecDialogService {\n\n  constructor(\n    private dialog: MatDialog\n  ) { }\n\n\n  open(childComponent: ComponentType<any>, config: OpenConfiguration) {\n\n    const dialogInstance: MatDialogRef<any> = this.dialog.open(\n      DecDialogComponent,\n      {\n        width: config.width || '100vw',\n        height: config.heigth || '100vh',\n        panelClass: 'full-screen-dialog'\n      }\n    );\n\n    dialogInstance.componentInstance.childComponentType = childComponent;\n\n    dialogInstance.componentInstance.actions = config.actions;\n\n    dialogInstance.componentInstance.title = config.title;\n\n    dialogInstance.componentInstance.context = config.context;\n\n    return dialogInstance;\n\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatDialogModule, MatToolbarModule, MatIconModule, MatButtonModule, MatMenuModule } from '@angular/material';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecSpinnerModule } from './../dec-spinner/dec-spinner.module';\n\nimport { DecDialogComponent } from './dec-dialog.component';\nimport { DecDialogService } from './dec-dialog.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatDialogModule,\n    MatToolbarModule,\n    MatIconModule,\n    MatMenuModule,\n    MatButtonModule,\n    FlexLayoutModule,\n    DecSpinnerModule,\n    TranslateModule,\n  ],\n  declarations: [DecDialogComponent],\n  entryComponents: [DecDialogComponent],\n  providers: [DecDialogService],\n})\nexport class DecDialogModule { }\n","// https://github.com/sheikalthaf/ngu-carousel#input-interface\n\nexport const CarouselConfig = {\n  grid: { xs: 1, sm: 2, md: 3, lg: 4, all: 0 },\n  slide: 1,\n  speed: 400,\n  interval: 4000,\n  point: {\n    visible: false\n  },\n  custom: 'banner'\n};\n","import { Component, Input } from '@angular/core';\nimport { CarouselConfig } from './carousel-config';\nimport { NguCarouselStore } from '@ngu/carousel/src/ngu-carousel/ngu-carousel.interface';\n\n@Component({\n  selector: 'dec-gallery',\n  template: `<div class=\"dec-gallery-wrapper\">\n\n  <div class=\"image-highlighted\" [decImage]=\"imageHighlight\" [decImageSize]=\"{width:600}\"></div>\n\n  <div class=\"text-right\" *ngIf=\"imgExternalLink\">\n\n    <a href=\"{{ imgExternalLink }}\" target=\"_blank\">{{ 'label.image-link' | translate }}</a>\n\n  </div>\n\n  <ngu-carousel class=\"carousel-wrapper\" [inputs]=\"carouselConfig\" (initData)=\"onInitDataFn($event)\" (onMove)=\"onMoveFn($event)\">\n\n    <ngu-item NguCarouselItem *ngFor=\"let image of images\" [class.active]=\"image == imageHighlight\">\n\n      <img [decImage]=\"image\" [decImageSize]=\"{width:300, height:300}\" (click)=\"onSelectImage($event,image)\">\n\n    </ngu-item>\n\n    <mat-icon NguCarouselPrev class=\"left-previous\" [ngClass]=\"{'disabled': isFirst}\">chevron_left</mat-icon>\n\n    <mat-icon NguCarouselNext class=\"right-next\" [ngClass]=\"{'disabled': isLast}\">chevron_right</mat-icon>\n\n  </ngu-carousel>\n\n</div>\n`,\n  styles: [`.dec-gallery-wrapper{max-width:624px;overflow:hidden}.dec-gallery-wrapper .image-highlighted{border:2px solid #f5f5f5;width:620px;height:620px}.dec-gallery-wrapper a{font-size:10px;text-decoration:none;color:#929292;cursor:pointer}.dec-gallery-wrapper .carousel-wrapper{margin-top:8px;padding:0 24px;height:128px}.dec-gallery-wrapper .carousel-wrapper ngu-item{display:flex;justify-content:center;align-items:center;height:124px;padding:2px;margin-right:2px}.dec-gallery-wrapper .carousel-wrapper ngu-item.active,.dec-gallery-wrapper .carousel-wrapper ngu-item:hover{padding:0;border:2px solid #232e38}.dec-gallery-wrapper .carousel-wrapper ngu-item img{max-width:124px;cursor:pointer}.dec-gallery-wrapper .carousel-wrapper .left-previous,.dec-gallery-wrapper .carousel-wrapper .right-next{display:block!important;position:absolute;top:calc(50% - 12px);cursor:pointer;text-shadow:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dec-gallery-wrapper .carousel-wrapper .left-previous:hover,.dec-gallery-wrapper .carousel-wrapper .right-next:hover{text-shadow:0 0 6px rgba(0,0,0,.2)}.dec-gallery-wrapper .carousel-wrapper .left-previous.disabled,.dec-gallery-wrapper .carousel-wrapper .right-next.disabled{opacity:.4}.dec-gallery-wrapper .carousel-wrapper .left-previous.disabled:hover,.dec-gallery-wrapper .carousel-wrapper .right-next.disabled:hover{text-shadow:none}.dec-gallery-wrapper .carousel-wrapper .left-previous{left:0}.dec-gallery-wrapper .carousel-wrapper .right-next{right:0}`]\n})\nexport class DecGalleryComponent {\n\n  imageHighlight: any;\n\n  activeImage: Element;\n\n  imgExternalLink: string;\n\n  isFirst: boolean;\n\n  isLast: boolean;\n\n  carouselConfig = CarouselConfig;\n\n  @Input()\n  set images(value: any[]) {\n\n    value = value || new Array<any>();\n\n    if (value && (JSON.stringify(value) !== JSON.stringify(this._images))) {\n\n      this.imageHighlight = value[0];\n\n      this._images = value;\n\n      this.setExternalLink();\n\n    }\n\n  }\n\n  get images(): any[] {\n\n    return this._images;\n\n  }\n\n  private _images: any[] = [];\n\n  constructor() { }\n\n  onSelectImage = ($event, sysFile) => {\n\n    if (this.activeImage && this.activeImage !== $event.target) {\n\n      this.activeImage.className = '';\n\n    }\n\n    $event.target.className = 'active';\n\n    this.activeImage = $event.target;\n\n    this.imageHighlight = sysFile;\n\n    this.setExternalLink();\n\n  }\n\n  setExternalLink = () => {\n\n    if (this.imageHighlight) {\n\n      this.imgExternalLink = this.imageHighlight.fileUrl;\n\n    }\n\n  }\n\n  onInitDataFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.items >= this.images.length);\n\n  }\n\n  onMoveFn(event: NguCarouselStore) {\n\n    this.setPrevNextCheckers(event.isFirst, event.isLast);\n\n  }\n\n  setPrevNextCheckers(first: boolean, last: boolean) {\n\n    setTimeout(() => {\n\n      this.isFirst = first;\n\n      this.isLast = last;\n\n    }, 0);\n\n  }\n\n}\n","export const ThumborServerHost = 'https://cache-thumbs.decoracontent.com/unsafe';\n\nexport const S3Host = 'http://s3.amazonaws.com/decora-platform-1-nv';\n\nexport const TransparentImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAAmJLR0QA/4ePzL8AAA\nAJcEhZcwAACxMAAAsTAQCanBgAAAALSURBVAjXY2BgAAAAAwABINWUxwAAAABJRU5ErkJggg==`;\n\nexport const ErrorImage = `data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAsVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\nAAAAAAAAAk2wLSAAAAOnRSTlMAA4UUBQgMEPSKK+jaGxcf950yck86Ni+mgb9XJiOyRPDs3qKWZ0rKrXx3+85jQT24XePX08VtapGaEC5RNwAAB15JREFUeNrtm2dz2zAMhklr2bIl75F41XG84pll1/z/P6yXVjYEkiK\npkd71rs+nniMdIeIFCEAq+c9//pMV2wv83mG5nB56fuDa5C9Cg+nmVGaYH6eXaUDJ9xMOJyyZyTAk30lwrjIds82YfA/uBVbX2HDxSOGM5ywNk36xeuh9sLS8H4szYbRiSZTLLJFaqyDdS2T/9jxshVHwU9uxxsf9XGLK\nY1hA0L8wjo/FyJar1G8LMn2w82rviSF2HZeo8Do7hqj2cz3+A852Z8skWWywM0rZxegi8a0OpttpL9+QGC2SDb8c3/tWqgfp1hiwPZAsLOIPkT6ol3Hz2xncUGLAJYuW7biAnklarrFozurDIOaHNU0n/zXcus8RRaXYY\n6SyAJLfbJzvEGlksqB5v+vk5E3k4IYJMQXU08x/ojngzWvq+HsgRfAM0UhMaEH0kWKosBsmGcm9J5AXUhTg04Bouef/CgEK80LNMTa2SYpkYpoS+/fDhxbbR93LhJb6uuqt1nOLLuobt8xmGznAJ0rq+5/NiPkXzebPfV\n1zQN8LFNXpYRaA1ieT8Wlp1KWPhMdb2lZX6VsmZztWuvfjZqg+BVUcnTfllB2l37Q6rEH52aGamJbzbOSEmlom0UX9pJ1kKpQSp7cY6xIp7wxxCuQKYAo00TNVboEvbqgsGRyZiikBFE7uK7Iloi1u6YGpWGoKpNvuysR\n90x/WdadIA8DNVnIZ0g3Xyib7kMMFoIIzEahGG2ATMl7hJnusNcC44qBREqmKWQJVTV3cZzdjatwzFRcrThB4fD5pRxcKJ8dtDBBGlg4bCWp0HlgafpyxjkMot6Qe2EHC2SSpMVynM6Eui8QZwVjR1XHRe3gw9tSDlLFj\nKdiiQc1eHged6GdXNZ16hGcBkRhQk/mAi+9B9JS8aA+cGr37X14bzBSc+5+ibpUgtmLnIFfjxsmgxqZE7ls8W1KcJfYLVuMrvd81YGZUZXWvJ8vRDlo5QY1voEbLc8PRsjJjGlCzGP3Wk+ThGY7MA6SpT1z98WlkPDA3g\nESnzQJpUNaMMLYawx7hgeHcI5hgpTcALzYgMd5kw5DfV3mgxjJWo80nWVMD9pEn41KXuYVELTrIHufGxpDyJ10i0pKGiroIJAawBsjevWJxH7AJSzMD6mLSs6R5EBY6gqsfWZyVz59ocqQxH4o22dgAYAcLtbAaB0iNOx\nMDbPFE9uE6bACwBns7nBodfcmMk6uY9Vo6A7AabRA8JxLy08AAIjZIXY0BohphkCeIxNiAnmBAQ2kAXmjMqXGMRGJkQNd8B4BdCAvVdCIx34EepIYY2rp7iXuIigsiMRFhS4wCW2/AGAXUOVEkz/ow9MU84OgNgFIOFtK\nrkcjO47qYCS29AR7hCE5YJKP7Tnef1JnQk9ikNyCI7viADexzarTuJnR+qM4CRxkYogG4sS6zSYgXAkoOLxLpIERfD8gYRn/coFGSg9W4XdhYJLI2uCYpUuZ6A5rIkQt6NwEn4dmSgho5A+aS8usSdVF6AxoUboFpluQl\n98coJhISpwzbra6KNVOga7STsY4NT5kmKKgExbdkrWFfb8BJGGmcQqjKZjg3OopppCXrjF70BjDYWm/ztd6s7cI9dIHVuKeE5wV8KarwzcCA9/idjmcTjMepcZowCBjIu2NLbwArETUBp8aWNA925POBV5UBkAs0+B9YN\nnUCDKEklW1MTWMAmCkyhIV4Nf4ENUa2VRUzIr0BrCJqi1a+ZqvQSO3xUH9B8Va/JE3JNkYGsKcWv+vRiQQzKaeCR0VT1MAFSXPChgMGKPnswi7Q/iMstARhrXH4+ITQMoQbx0JQp3b4NBj2AyvwO/MtS5j09zk1hr1kFb\nnCRIll5jG4782yio8SaAIF1nxRwHLw7MI0a8sEBor3BeCeBstDG4qFkrK0Bd65kfuK5aI8tLEagRWRcuTebV5YHnCsjna4rpNC3/F7c4sBudVIjlW0AVL6nIvaLD9XaJcqcKDr3pzW6J8tubLcwFdU9kr/MUsIJy60mfm\nAOf8GehuDF8zTe5JdPJQiKl9E/zb87WHRp/xr0bbR9wONkBSLVb6FBlWXEuhjj+Jw3kHgakroy6uioBPjT3Po3dR5ges/3w9xA2c17nVUYeuXWJpPU46KrwHyfhrrExPO6NTMDf1pWE4DcMcpfyzYcBJuiCkDeD2TNx94\nO/Bolqhh2ynJQ/8H8mcWC9jVKeTD9EHKWwdwa3VEshHsYo9B0lLBnZUG3fvGDUnPK3o/RNKynKF2NgutBgOqy1RnQ++dAeWsPrRQXzMb2qYCmtZQE+dmTyIPXFM8ogZmt8u4JCN5GD1xlfairl59+MEQtXreTN4WirxKV1\n7Vua1NlXFcKMmNN2Eip/bSDx2bfmE73vhwXkvq17VX2P8zysLniBSG/5l+eZ8UynjA0tCsk8JxX59Mm9JXh3wP4UVvw9s5IN+JN72Wk9uweccifwG3v2/W+Aef71se+ZtQx6r7ve7x2PPrlkP+8+/yCzGi7aFzpPUtAAAAAElFTkSuQmCC`;\n","import { Directive, Input, ViewContainerRef } from '@angular/core';\nimport { ImageSize, SystemFileKey } from './image.directive.models';\nimport { TransparentImage, ThumborServerHost, ErrorImage, S3Host } from './image.directive.constants';\n\n@Directive({\n  selector: '[decImage]'\n})\nexport class DecImageDirective {\n\n  containerElement: HTMLElement;\n\n  errorOnLoad = false;\n\n  @Input()\n  set decImage(v: SystemFileKey | string) {\n    if (v !== this.innerImage) {\n      this.innerImage = v;\n      this.loadImage();\n    }\n  }\n\n  @Input() decImageSize: ImageSize;\n\n  // Defines if white margins should be cropped\n  @Input() trim: boolean;\n\n  // Defines if the image should be cropped or fit the size respectin the aspect ratio\n  @Input() fitIn: boolean;\n\n  // Ged redimensioned image from thumbor image resize service\n  @Input() thumborize = true;\n\n  private containerElementType: 'IMG' | 'NOT-IMG';\n\n  private innerImage: SystemFileKey | string = TransparentImage;\n\n  private imagePath: string;\n\n  private finalImageUrl: string;\n\n  constructor(public viewContainerRef: ViewContainerRef) {\n    this.detectContainerElement();\n  }\n\n  private detectContainerElement() {\n    this.containerElement = this.viewContainerRef.element.nativeElement;\n    this.containerElementType = this.containerElement.tagName === 'IMG' ? 'IMG' : 'NOT-IMG';\n  }\n\n  private loadImage() {\n\n    if (typeof this.innerImage === 'string') {\n\n      this.finalImageUrl = this.innerImage;\n\n    } else {\n\n      this.imagePath = this.extractImageUrlFromSysfile();\n\n      if (this.imagePath) {\n\n        this.finalImageUrl = this.getFinalUrl();\n\n      } else {\n\n        this.finalImageUrl = ErrorImage;\n\n      }\n\n    }\n\n    this.tryToLoadImage();\n\n  }\n\n  private extractImageUrlFromSysfile() {\n    try {\n      return this.innerImage['fileBasePath'] || undefined;\n    } catch (error) {\n      return undefined;\n    }\n  }\n\n  private getFinalUrl() {\n\n    if (this.thumborize) {\n\n      return this.getThumborUrl();\n\n    } else {\n\n      return this.getS3Url();\n\n    }\n\n  }\n\n  private getS3Url() {\n    return `${S3Host}/${this.imagePath}`;\n  }\n\n  private getThumborUrl() {\n    const size = this.getImageSize(this.decImageSize);\n    const aspect = this.getAspect();\n    const trim = this.getTrim();\n    return `${ThumborServerHost}/${size}${aspect}${trim}/${this.imagePath}`;\n  }\n\n  private getImageSize(decImageSize: ImageSize = {}): string {\n    return `${decImageSize.width || 0}x${decImageSize.height || 0}`;\n  }\n\n  private getAspect() {\n    return this.fitIn ? '/fit-in'  : '';\n  }\n\n  private getTrim() {\n    return this.trim ? '/trim' : '';\n  }\n\n  private tryToLoadImage() {\n    const downloadingImage = new Image();\n    downloadingImage.onload = () => {\n      this.createImage();\n    };\n\n    downloadingImage.onerror = () => {\n      this.finalImageUrl = ErrorImage;\n      this.createImage();\n    };\n\n    downloadingImage.src = this.finalImageUrl;\n  }\n\n  private createImage() {\n    if (this.containerElementType === 'IMG') {\n      this.setImageelementSrc();\n    } else {\n      this.appendImageToBg();\n    }\n  }\n\n  private appendImageToBg() {\n    this.containerElement.style.backgroundImage = 'url(' + this.finalImageUrl + ')';\n    this.containerElement.style.backgroundPosition = 'center';\n    this.containerElement.style.backgroundRepeat = 'no-repeat';\n    this.containerElement.style.backgroundSize = '100%';\n    this.containerElement.classList.remove('dec-image-bg-loading');\n  }\n\n  private setImageelementSrc() {\n    this.containerElement.setAttribute('src', this.finalImageUrl);\n  }\n\n}\n\n","import { NgModule } from '@angular/core';\nimport { DecImageDirective } from './image.directive';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [DecImageDirective],\n  exports: [DecImageDirective]\n})\nexport class DecImageModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecGalleryComponent } from './dec-gallery.component';\nimport { DecImageModule } from './../../directives/image/image.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NguCarouselModule } from '@ngu/carousel';\nimport { MatIconModule } from '@angular/material';\nimport 'hammerjs';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    DecImageModule,\n    TranslateModule,\n    MatIconModule,\n    NguCarouselModule\n  ],\n  declarations: [\n    DecGalleryComponent\n  ],\n  exports: [\n    DecGalleryComponent\n  ]\n})\nexport class DecGalleryModule { }\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-label',\n  template: `<div [ngStyle]=\"{'background-color': colorHex}\" decContrastFontWithBg>\n  <ng-content></ng-content>\n</div>\n`,\n  styles: [`div{margin:4px;display:inline-block;padding:7px 12px;border-radius:24px;align-items:center;cursor:default}`]\n})\nexport class DecLabelComponent {\n\n  @Input() colorHex = '#D3D3D3';\n\n}\n","import { Directive, ElementRef, Input, DoCheck } from '@angular/core';\n\n/**\n * Cotrast configuration\n *\n * Used to define some custom configuration as colors and breakpoint\n */\nexport interface DecContrastFontWithBgDirectiveConfig {\n  lumaBreakPoint: string;\n  lightColor: string;\n  darkColor: string;\n}\n\nconst DEFAULT_LUMA_BREAKPOINT = 200;\n\n/*\n* Contrast Font With Background Directive\n*\n* Contrasts the text color with the background-color to avoid white color in ligh background and black color in darken ones.\n* It can be used as attribute in any element with or without passing custom configuration\n* Example without custom configuration: <div decContrastFontWithBg\"></div>\n* Example with custom configuration: <div [decContrastFontWithBg]=\"{darkColor: 'red'}\"></div>\n*\n* Configuration params:\n* lumaBreakPoint: the point where we should change the font color. This is the ligth feeling breakpoint.\n* lightColor: the text color used in dark backgrounds\n* darkColor: the text color used in ligth backgrounds\n*/\n\nexport function hexToRgbNew(hex) {\n\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}\n\nexport function standardize_color(bgColor) {\n\n  const canvas = document.createElement('canvas');\n\n  const ctx = canvas.getContext('2d');\n\n  ctx.fillStyle = bgColor;\n\n  return ctx.fillStyle;\n}\n\n\n@Directive({\n  selector: '[decContrastFontWithBg]'\n})\nexport class DecContrastFontWithBgDirective implements DoCheck {\n\n  private config;\n\n  private bgColor;\n\n  @Input() set decContrastFontWithBg(config: DecContrastFontWithBgDirectiveConfig) {\n\n    this.config = config;\n\n    this.doDecContrastFontWithBg();\n\n  }\n\n  constructor(private el: ElementRef) {\n\n    this.bgColor = this.el.nativeElement.style.backgroundColor;\n\n  }\n\n  ngDoCheck() {\n\n    const bgColor = this.el.nativeElement.style.backgroundColor;\n\n    if (bgColor !== this.bgColor) {\n\n      this.bgColor = bgColor;\n\n      this.doDecContrastFontWithBg();\n\n    }\n\n  }\n\n  private doDecContrastFontWithBg() {\n\n    const lumaBreakPoint = (this.config && this.config.lumaBreakPoint) ? this.config.lumaBreakPoint : DEFAULT_LUMA_BREAKPOINT;\n\n    const hexaBgColor = standardize_color(this.bgColor);\n\n    const rgbColor = hexToRgbNew(hexaBgColor);\n\n    const luma = 0.2126 * rgbColor.r + 0.7152 * rgbColor.g + 0.0722 * rgbColor.b; // per ITU-R BT.709\n\n    if (luma < lumaBreakPoint) {\n\n      this.el.nativeElement.style.color = (this.config && this.config.lightColor) ? this.config.lightColor : 'rgba(255,255,255,1)';\n\n    } else {\n\n      this.el.nativeElement.style.color = (this.config && this.config.darkColor) ? this.config.darkColor : '#232e38';\n\n    }\n\n  }\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecContrastFontWithBgDirective } from './dec-contrast-font-with-bg.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    DecContrastFontWithBgDirective,\n  ],\n  exports: [\n    DecContrastFontWithBgDirective,\n  ]\n})\nexport class DecContrastFontWithBgModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecLabelComponent } from './dec-label.component';\nimport { DecContrastFontWithBgModule } from './../../directives/color/contrast-font-with-bg/dec-contrast-font-with-bg.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n    DecContrastFontWithBgModule,\n  ],\n  declarations: [\n    DecLabelComponent\n  ],\n  exports: [\n    DecLabelComponent\n  ]\n})\nexport class DecLabelModule { }\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Observable } from 'rxjs';\nimport { FilterGroup, FilterGroups } from './../../services/api/decora-api.model';\n\n/*\n  * DecListPreSearch\n  *\n  * Used as middleware to manipulate the filter before fetchng the data\n  */\nexport type DecListPreSearch = (filterGroups: FilterGroups) => FilterGroups;\n\n\n/*\n  * DecListFetchMethod\n  *\n  * Used to fetch data from remote API\n  */\nexport type DecListFetchMethod = (endpoint: string, filter: any) => Observable<DecListFetchMethodResponse>;\n\n/*\n  * ListType\n  *\n  * List types\n  */\nexport type DecListType = 'table' | 'grid';\n\n/*\n  * DecListFetchMethodResponse\n  *\n  * Response received by fetch DecListFetchMethod\n  */\nexport interface DecListFetchMethodResponse {\n  result: {\n    rows: any[];\n    count: number;\n  };\n}\n\n/*\n  * DecListTabsFilter\n  *\n  * Structure of tabs filters\n  */\nexport class DecListTabsFilter {\n  count?: Function | string;\n  default?: boolean;\n  filters: FilterGroup;\n  hide?: boolean;\n  label: string;\n  listMode?: DecListType;\n  permissions?: string[];\n  uid?: string;\n\n  constructor(data: any = {}) {\n\n    this.count = data.count || undefined;\n    this.default = data.default || undefined;\n    this.filters = data.filters || undefined;\n    this.hide = data.hide || undefined;\n    this.label = data.label || undefined;\n    this.listMode = data.listMode || undefined;\n    this.permissions = data.permissions || undefined;\n    this.uid = data.uid || data.label;\n  }\n}\n","import { Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { DecListFetchMethod, DecListTabsFilter } from './../list.models';\n\n@Component({\n  selector: 'dec-list-tabs-filter',\n  template: `<div class=\"list-tabs-filter-wrapper\" *ngIf=\"visibleFilters as filters\">\n  <div fxLayout=\"row\" class=\"dec-tab-header\">\n    <ng-container *ngFor=\"let tabFilter of filters\">\n      <button type=\"button\"\n              *decPermission=\"tabFilter.permissions\"\n              mat-button\n              class=\"uppercase\"\n              (click)=\"selectTab(tabFilter.uid)\"\n              [class.selected]=\"selectedTabUid == (tabFilter.uid)\">\n        <span>{{ 'label.' + tabFilter.label | translate | uppercase }}</span>\n        <span *ngIf=\"tabFilter.count && countEndpoint && countReport\" class=\"badge badge-pill badge-small\">{{ getCountOf(tabFilter.count) }}</span>\n      </button>\n    </ng-container>\n  </div>\n</div>\n`,\n  styles: [`.list-tabs-filter-wrapper{margin-top:8px}.list-tabs-filter-wrapper .dec-tab-header.bottom{border-bottom:0}.list-tabs-filter-wrapper .dec-tab-header .badge{margin-left:8px}.list-tabs-filter-wrapper .dec-tab-header .badge.badge-pill{padding:8px;font-size:small;border-radius:24px}.list-tabs-filter-wrapper .dec-tab-header .badge.badge-pill.badge-small{font-size:x-small;padding:4px}`]\n})\nexport class DecListTabsFilterComponent implements OnDestroy {\n\n  selectedTabUid: string;\n\n  name: string; // list unique name to identify the tab in url\n\n  countReport: any;\n\n  service: any;\n\n  customFetchMethod: DecListFetchMethod;\n\n  @Input()\n  set filters(v: DecListTabsFilter[]) {\n\n    if (this._filters !== v) {\n\n      this._filters = v.map(filter => new DecListTabsFilter(filter));\n\n    }\n\n  }\n\n  get filters(): DecListTabsFilter[] {\n    return this._filters;\n  }\n\n  private defaultTab: string;\n\n  private _filters: DecListTabsFilter[] = [];\n\n  private wathUrlSubscription: Subscription;\n\n  private _countEndpoint: string;\n\n\n  /*\n   * countEndpoint\n   *\n   *\n   */\n  @Input()\n  set countEndpoint(v: string) {\n\n    if (this._countEndpoint !== v) {\n\n      this._countEndpoint = (v[0] && v[0] === '/') ? v.replace('/', '') : v;\n\n    }\n\n  }\n\n  get countEndpoint(): string {\n\n    return this._countEndpoint;\n\n  }\n\n  @Output('search') search: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output('tabChange') tabChange: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor(private route: ActivatedRoute,\n              private router: Router) { }\n\n  ngOnDestroy() {\n    this.stopWatchingTabInUrlQuery();\n  }\n\n  doFirstLoad = () => {\n    setTimeout(() => { // wait for the url to change before doing the first load\n      this.watchTabInUrlQuery();\n    }, 0);\n  }\n\n  getCountOf(count: string | Function) {\n    if (typeof count === 'string') {\n      return this.countReport && this.countReport[count] >= 0 ? this.countReport[count] : '?';\n    } else {\n      return this.countReport && count(this.countReport) >= 0 ? count(this.countReport) : '?';\n    }\n  }\n\n  selectTab(tab) {\n    this.setTabInUrlQuery(tab);\n  }\n\n  reloadCountReport(payload) {\n\n    if (this.countEndpoint) {\n      const fetchMethod = this.customFetchMethod || this.service.get;\n      fetchMethod(this.countEndpoint, payload)\n      .toPromise()\n      .then(res => {\n        this.countReport = res;\n      });\n    }\n  }\n\n  selectedTab() {\n\n    return this.filters ? this.filters.find(filter => filter.uid === this.selectedTabUid) : undefined;\n\n  }\n\n  get visibleFilters() {\n    const visible = this.filters ? this.filters.filter((filter) => !filter.hide) : [];\n    return (visible && visible.length > 1) ? visible : undefined;\n  }\n\n  private detectDefaultTab() {\n\n    const hasDefault: any = this.filters.find((item) => {\n      return item.default;\n    });\n\n    if (hasDefault) {\n\n      this.defaultTab = hasDefault.uid;\n\n    } else {\n\n      this.defaultTab = this.filters[0].uid;\n\n    }\n\n  }\n\n  private onSearch = (uid, recount = false) => {\n\n    this.selectedTabUid = uid;\n\n    if (this.filters) {\n\n      const filterTab = this.filters.find(filter => filter.uid === uid);\n\n      if (filterTab) {\n\n        this.search.emit({\n          filters: filterTab.filters,\n          recount: recount\n        });\n\n      }\n\n    }\n\n\n  }\n\n  private componentTabName() {\n    return this.name + '-tab';\n  }\n\n  private setTabInUrlQuery(tab) {\n    const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n    queryParams[this.componentTabName()] = tab;\n    this.router.navigate(['.'], { relativeTo: this.route, queryParams: queryParams, replaceUrl: true });\n  }\n\n  private watchTabInUrlQuery() {\n\n    this.detectDefaultTab();\n\n    this.wathUrlSubscription = this.route.queryParams\n    .subscribe((params) => {\n\n      const tab = params[this.componentTabName()] || this.defaultTab;\n\n      if (tab !== this.selectedTabUid) {\n\n        this.onSearch(tab);\n\n        this.tabChange.emit(tab);\n\n      }\n\n    });\n\n  }\n\n  private stopWatchingTabInUrlQuery() {\n    if (this.wathUrlSubscription) {\n      this.wathUrlSubscription.unsubscribe();\n    }\n  }\n\n}\n","import { Component, OnInit, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-advanced-filter',\n  template: `<div fxLayout=\"column\" fxLayoutGap=\"16px\">\n\n  <div fxFlex>\n\n    <ng-container\n      [ngTemplateOutlet]=\"templateRef\"\n      [ngTemplateOutletContext]=\"{form: form}\"\n    ></ng-container>\n\n  </div>\n\n  <div fxFlex>\n\n    <div fxLayout=\"row\" fxLayoutAlign=\"end end\" fxLayoutGap=\"8px\">\n\n      <button type=\"button\" mat-raised-button color=\"primary\" (click)=\"submit()\">{{ 'label.search' | translate | uppercase }}</button>\n\n      <button type=\"button\" mat-button (click)=\"reset()\">{{ 'label.reset' | translate | uppercase }}</button>\n\n    </div>\n\n  </div>\n\n</div>\n\n\n\n\n`,\n  styles: [``]\n})\nexport class DecListAdvancedFilterComponent implements OnInit {\n\n  form: any = {};\n\n  @ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  onSearch = () => {};\n\n  onClear = () => {};\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  reset() {\n    this.onClear();\n  }\n\n  submit() {\n    this.onSearch();\n  }\n\n}\n","import { Component, ContentChild, EventEmitter, Input, OnInit, OnDestroy, Output, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { DecListTabsFilterComponent } from './../list-tabs-filter/list-tabs-filter.component';\nimport { DecListAdvancedFilterComponent } from './../list-advanced-filter/list-advanced-filter.component';\nimport { Subscription } from 'rxjs';\nimport { DecListPreSearch } from './../list.models';\nimport { FilterGroups } from './../../../services/api/decora-api.model';\n@Component({\n  selector: 'dec-list-filter',\n  template: `<div class=\"list-filter-wrapper\">\n  <div fxLayout=\"row wrap\" fxLayoutAlign=\"space-between center\">\n    <!--\n      Counter\n    -->\n    <div fxFlex=\"30\">\n      <ng-container *ngIf=\"count >= 0 && !loading\">\n        <span *ngIf=\"count === 0\" class=\"dec-body-strong\">{{ \"label.record-not-found\" | translate }}</span>\n        <span *ngIf=\"count === 1\" class=\"dec-body-strong\">{{ \"label.one-record-found\" | translate }}</span>\n        <span *ngIf=\"count > 1\" class=\"dec-body-strong\"> {{ \"label.records-found\" | translate:{count:count} }}</span>\n      </ng-container>\n    </div>\n\n    <div fxFlex=\"70\" class=\"text-right\">\n\n      <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"end center\" class=\"search-container\">\n        <div>\n\n          <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\" class=\"input-search-container\" [class.active]=\"showSearchInput\">\n            <!-- gap -->\n            <div></div>\n            <a class=\"btn-toogle-search\">\n              <mat-icon (click)=\"toggleSearchInput()\">search</mat-icon>\n            </a>\n            <form fxFlex role=\"form\" (submit)=\"onSearch()\">\n              <div fxLayout=\"row\" fxLayoutGap=\"16px\" fxLayoutAlign=\"start center\" class=\"input-search\">\n                <span class=\"bar-h\"></span>\n                <input fxFlex #inputSearch name=\"search\" [(ngModel)]=\"filterForm.search\">\n                <div *ngIf=\"advancedFilterComponent\" class=\"click\" (click)=\"toggleAdvancedFilter($event)\">\n                  <span class=\"dec-small btn-open-advanced-search\">{{\"label.advanced-options\" | translate}}</span>\n                </div>\n                <!--gap-->\n                <div></div>\n              </div>\n            </form>\n          </div>\n\n        </div>\n\n        <!--Refresh search-->\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\">\n          <a class=\"btn-info margin-icon\" (click)=\"onSearch()\">\n            <mat-icon>refresh</mat-icon>\n          </a>\n        </div>\n        <!--Clear filters-->\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\" *ngIf=\"filterGroupsWithoutTabs?.length\">\n          <a class=\"btn-info\" (click)=\"onClear()\">\n            <mat-icon>clear</mat-icon>\n          </a>\n        </div>\n\n        <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"start center\" *ngIf=\"showInfoButton\">\n          <a class=\"btn-info\" (click)=\"onClickInfo()\">\n            <mat-icon>info_outline</mat-icon>\n          </a>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n\n\n  <div *ngIf=\"showAdvancedFilter\">\n\n    <mat-card class=\"advanced-search-container\" [ngClass]=\"{'remove-button-enabled': filterGroupsWithoutTabs?.length}\">\n\n      <div fxLayout=\"row\" fxLayoutAlign=\"end center\">\n\n        <a (click)=\"closeFilters()\" class=\"btn-close-advanced-search\">\n\n          <i class=\"material-icons\">close</i>\n\n        </a>\n\n      </div>\n\n      <div>\n\n        <ng-content select=\"dec-list-advanced-filter\"></ng-content>\n\n      </div>\n\n    </mat-card>\n\n  </div>\n\n  <dec-list-active-filter-resume\n    *ngIf=\"filterGroupsWithoutTabs?.length\"\n    [filterGroups]=\"filterGroupsWithoutTabs\"\n    (remove)=\"removeDecFilterGroup($event)\"\n    (edit)=\"editDecFilterGroup($event)\"></dec-list-active-filter-resume>\n\n  <ng-content select=\"dec-list-tabs-filter\"></ng-content>\n</div>\n`,\n  styles: [`.list-filter-wrapper{margin:0 0 16px;position:relative}.list-filter-wrapper .mat-icon{color:#999}.list-filter-wrapper .search-term-input{width:500px;margin-right:8px}.list-filter-wrapper .inline-form{display:inline-block}.list-filter-wrapper .advanced-search-container{position:absolute;top:74px;z-index:1;right:30px;width:552px}.list-filter-wrapper .advanced-search-container.remove-button-enabled{right:62px;width:551px}.list-filter-wrapper .advanced-search-container .btn-close-advanced-search{cursor:pointer}.search-container .input-search-container{transition:all .3s ease;overflow:hidden;width:40px;height:50px}.search-container .input-search-container.active{background:#f8f8fa;color:#999;width:600px}.search-container .input-search-container.active .btn-open-advanced-search{display:inline}.search-container .input-search-container .input-search{width:100%}.search-container .input-search-container .input-search input{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;width:100%;vertical-align:bottom}.search-container .input-search-container .btn-open-advanced-search{display:none}.search-container .btn-clear-search{padding-right:15px;cursor:pointer;color:#999;width:90px}.search-container .btn-info,.search-container .btn-toogle-search{font-size:21px;cursor:pointer;height:21px;color:#999}.search-container .bar-h{border-right:2px solid #d0d0d0;height:21px;margin:auto 0;display:inline-block}`]\n})\nexport class DecListFilterComponent implements OnInit, OnDestroy {\n\n  count: number;\n  showSearchInput: boolean;\n  showAdvancedFilter: boolean;\n  filterForm: any = {\n    search: undefined\n  };\n  filterGroups: FilterGroups;\n  filterGroupsWithoutTabs: FilterGroups;\n  currentStatusFiltered: string;\n  tabsFilter: any;\n  editionGroupIndex: number;\n  name: string;\n  loading: boolean;\n  isItFirstLoad = true;\n\n  /*\n   * clickableContainerClass\n   *\n   * Where the click watcher should be listening\n   */\n  private clickableContainerClass = 'list-filter-wrapper';\n\n  private innerDecFilterGroups: any[];\n\n  private currentBase64Filter: string;\n\n  private tabsFilterSubscription: Subscription;\n\n  private watchUrlFilterSubscription: Subscription;\n\n  @Input() preSearch: DecListPreSearch;\n\n  @Input() showInfoButton;\n\n  @Input() hasPersistence = true;\n\n  @Output('search') search: EventEmitter<any> = new EventEmitter<any>();\n\n  @ViewChild('inputSearch') inputSearch;\n\n  @ContentChild(DecListTabsFilterComponent) tabsFilterComponent: DecListTabsFilterComponent;\n\n  @ContentChild(DecListAdvancedFilterComponent) advancedFilterComponent: DecListAdvancedFilterComponent;\n\n  constructor(private route: ActivatedRoute,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.watchTabsFilter();\n    this.watchClick();\n    this.watchUrlFilter();\n    this.configureAdvancedFilter();\n  }\n\n  ngOnDestroy() {\n    this.stopWatchingClick();\n    this.stopWatchingTabsFilter();\n    this.stopWatchingUrlFilter();\n  }\n\n  toggleSearchInput() {\n    this.showSearchInput = !this.showSearchInput;\n    if (!this.showSearchInput) {\n      this.showAdvancedFilter = false;\n    } else {\n      setTimeout(() => {\n        this.inputSearch.nativeElement.focus();\n      }, 180);\n    }\n  }\n\n  toggleAdvancedFilter($event) {\n\n    $event.stopPropagation();\n\n    this.showAdvancedFilter = !this.showAdvancedFilter;\n\n  }\n\n  onSearch = (appendCurrentForm = true) => {\n\n    if (this.filterForm && appendCurrentForm) {\n\n      const newDecFilterGroup = {\n\n        filters: []\n\n      };\n\n      Object.keys(this.filterForm).forEach(key => {\n\n        if (this.filterForm[key]) {\n\n          const filter = {property: key, value: this.filterForm[key]};\n\n          newDecFilterGroup.filters.push(filter);\n\n        }\n\n\n      });\n\n      if (newDecFilterGroup.filters.length > 0) {\n\n        if (this.innerDecFilterGroups) {\n\n          if (this.editionGroupIndex >= 0) {\n\n            this.innerDecFilterGroups[this.editionGroupIndex] = newDecFilterGroup;\n\n          } else {\n\n            this.innerDecFilterGroups.push(newDecFilterGroup);\n\n          }\n\n        } else {\n\n          this.innerDecFilterGroups = [newDecFilterGroup];\n\n        }\n\n      }\n\n    }\n\n    this.reacalculateAndEmitCurrentDecFilterGroups(true);\n\n  }\n\n  onClear() {\n\n    this.closeFilters();\n\n    this.filterGroups = undefined;\n\n    this.filterGroupsWithoutTabs = undefined;\n\n    this.innerDecFilterGroups = undefined;\n\n    this.clearFilterForm();\n\n    this.onSearch();\n\n  }\n\n  removeDecFilterGroup(groupIndex) {\n\n    this.filterGroups = this.filterGroups.filter((group, index) => index !== groupIndex);\n\n    this.filterGroupsWithoutTabs = this.filterGroupsWithoutTabs.filter((group, index) => index !== groupIndex);\n\n    this.innerDecFilterGroups = this.innerDecFilterGroups.filter((group, index) => index !== groupIndex);\n\n    this.onSearch(true);\n\n  }\n\n  editDecFilterGroup(groupIndex) {\n\n    this.editionGroupIndex = groupIndex;\n\n    const toEditDecFilterGroup = this.filterGroupsWithoutTabs[groupIndex];\n\n    if (toEditDecFilterGroup && toEditDecFilterGroup.filters.length > 0) {\n\n      this.reloadFormWithGivenDecFilterGroupe(toEditDecFilterGroup.filters);\n\n    }\n\n  }\n\n  reloadCountReport = (payload) => {\n\n    if (this.tabsFilterComponent) {\n\n      this.tabsFilterComponent.reloadCountReport(payload);\n\n    }\n\n  }\n\n  clearFilterForm = () => {\n\n    if (this.filterForm) {\n\n      Object.keys(this.filterForm).forEach(key => {\n\n        this.filterForm[key] = undefined;\n\n      });\n\n    }\n\n\n  }\n\n  onClickInfo() {\n    console.log('on click info. Not implemented');\n  }\n\n  /*\n   * appendToCurrentFilters\n   *\n   * Append a filter to the current filter groups\n   */\n  appendToCurrentDecFilterGroups(propertyName, propertyValue) {\n\n    const filter = {\n      'property': propertyName,\n      'value': propertyValue,\n    };\n\n    if (this.filterGroupsWithoutTabs) {\n\n      this.filterGroupsWithoutTabs.forEach((filterGroup) => {\n\n        const filterExistsInThisGroup = filterGroup.filters.find(filterGroupFilter => filterGroupFilter.property === filter.property);\n\n        if (!filterExistsInThisGroup) {\n\n          filterGroup.filters.push(filter);\n\n        }\n\n      });\n\n    } else {\n\n      this.filterGroupsWithoutTabs = [{filters: [filter]}];\n\n    }\n\n    this.innerDecFilterGroups = this.filterGroupsWithoutTabs;\n\n    this.reacalculateAndEmitCurrentDecFilterGroups();\n\n  }\n\n  closeFilters() {\n\n    this.editionGroupIndex = undefined;\n\n    this.showAdvancedFilter = false;\n\n    this.showSearchInput = false;\n\n  }\n\n  private reacalculateAndEmitCurrentDecFilterGroups(recount = false) {\n\n    this.emitCurrentDecFilterGroups(recount)\n    .then(() => {\n\n      if (!this.hasPersistence) {\n\n        return;\n\n      }\n\n      this.refreshFilterInUrlQuery()\n      .then(() => {\n\n        this.closeFilters();\n\n        this.clearFilterForm();\n\n      });\n\n\n    });\n\n  }\n\n  private reloadFormWithGivenDecFilterGroupe(filters) {\n\n    this.clearFilterForm();\n\n    filters.forEach(filter => {\n\n      if (filter.value) {\n\n        this.filterForm[filter.property] = filter.value;\n\n      }\n\n    });\n\n    this.openFilters();\n\n  }\n\n  private openFilters() {\n\n    this.showAdvancedFilter = true;\n\n    this.showSearchInput = true;\n\n  }\n\n  private configureAdvancedFilter() {\n\n    if (this.advancedFilterComponent) {\n\n      this.advancedFilterComponent.form = this.filterForm;\n\n      this.advancedFilterComponent.onSearch = this.onSearch;\n\n      this.advancedFilterComponent.onClear = this.clearFilterForm;\n\n    }\n\n  }\n\n  private watchTabsFilter() {\n    if (this.tabsFilterComponent) {\n      this.tabsFilterSubscription = this.tabsFilterComponent.search.subscribe(filterEvent => {\n        this.tabsFilter = filterEvent.filters;\n        this.emitCurrentDecFilterGroups(this.isItFirstLoad || filterEvent.recount);\n        this.isItFirstLoad = false;\n      });\n    }\n  }\n\n  private stopWatchingTabsFilter() {\n    if (this.tabsFilterSubscription) {\n      this.tabsFilterSubscription.unsubscribe();\n    }\n  }\n\n  private mountCurrentDecFilterGroups() {\n\n    const currentFilter = [];\n\n    const currentFilterWithoutTabs = [];\n\n    if (this.innerDecFilterGroups && this.innerDecFilterGroups.length) {\n\n      this.innerDecFilterGroups.forEach((filterGroup: {filters: any[]}) => {\n\n        const filterGroupCopy = {\n          filters: filterGroup.filters.slice()\n        };\n\n        if (this.tabsFilter) {\n          filterGroupCopy.filters.push(...this.tabsFilter);\n        }\n\n        currentFilter.push(filterGroupCopy);\n\n        const filterGroupCopyWithoutTabs = {\n          filters: filterGroup.filters.slice()\n        };\n\n        currentFilterWithoutTabs.push(filterGroupCopyWithoutTabs);\n\n      });\n\n    } else if (this.tabsFilter) {\n\n      currentFilter.push({filters: this.tabsFilter});\n\n    }\n\n    this.filterGroups = currentFilter.length ? currentFilter : undefined;\n\n    this.filterGroupsWithoutTabs = currentFilterWithoutTabs.length ? currentFilterWithoutTabs : undefined;\n  }\n\n  /*\n   * emitCurrentDecFilterGroups\n   *\n   */\n  private emitCurrentDecFilterGroups(recount = false) {\n\n    return new Promise((res, rej) => {\n\n      this.mountCurrentDecFilterGroups();\n\n      if (this.preSearch) {\n\n        this.filterGroups = this.preSearch(this.filterGroups);\n\n      }\n\n      this.search.emit({\n        filterGroups: this.filterGroups,\n        recount: recount\n      });\n\n      res();\n\n    });\n\n\n  }\n\n  /*\n   * actByClickPosition\n   *\n   * This method detect\n   */\n  private actByClickPosition = ($event) => {\n\n    if (event && event['path']) {\n\n      const clickedInsideFilter = $event['path'].find(path => {\n\n        const className = `${path['className']}` || '';\n\n        const insideWrapper = className.indexOf(this.clickableContainerClass) >= 0;\n\n        const insideOption = className.indexOf('mat-option') >= 0;\n\n        const insideDatePicker = className.indexOf('mat-datepicker-content') >= 0;\n\n        const insideOverlayContainer = className.indexOf('cdk-overlay-container') >= 0;\n\n        return insideWrapper || insideOption || insideDatePicker || insideOverlayContainer;\n\n      });\n\n      if (!clickedInsideFilter) { // avoid closing filter from any open dialog\n\n        this.closeFilters();\n\n        this.clearFilterForm();\n\n      }\n\n    }\n\n  }\n\n  /*\n   * watchClick\n   *\n   */\n  private watchClick() {\n    document.addEventListener('click', this.actByClickPosition, true);\n  }\n\n  /*\n   * stopWatchingClick\n   *\n   */\n  private stopWatchingClick() {\n    document.removeEventListener('click', this.actByClickPosition, true);\n  }\n\n  /*\n   * componentTabName\n   *\n   */\n  private componentFilterName() {\n    return this.name + '-filter';\n  }\n\n  /*\n   * watchUrlFilter\n   *\n   */\n  private watchUrlFilter() {\n\n    if (!this.hasPersistence) {\n\n      return;\n\n    }\n\n    this.watchUrlFilterSubscription = this.route.queryParams\n    .subscribe((params) => {\n\n      const interval = window.setInterval(() => {\n\n        if (this.name) {\n\n          const base64Filter = params[this.componentFilterName()];\n\n          if (base64Filter) {\n\n            if (base64Filter !== this.currentBase64Filter) {\n\n              const filter = this.getJsonFromBase64Filter(base64Filter);\n\n              this.innerDecFilterGroups = filter;\n\n              this.mountCurrentDecFilterGroups();\n\n              this.onSearch();\n\n            }\n\n          }\n\n          window.clearInterval(interval);\n\n        }\n\n      }, 10);\n\n    });\n  }\n\n  /*\n   * stopWatchingUrlFilter\n   *\n   */\n  private stopWatchingUrlFilter() {\n\n    if (this.watchUrlFilterSubscription) {\n\n      this.watchUrlFilterSubscription.unsubscribe();\n\n    }\n\n  }\n\n  /*\n   * refreshFilterInUrlQuery\n   *\n   */\n  private refreshFilterInUrlQuery() {\n\n    return new Promise((res, rej) => {\n\n      const filterBase64 = this.getBase64FilterFromDecFilterGroups();\n\n      this.setFilterInUrlQuery(filterBase64).then(res, rej);\n\n    });\n\n\n  }\n\n  /*\n   * setFilterInUrlQuery\n   *\n   */\n  private setFilterInUrlQuery(filter) {\n\n    this.currentBase64Filter = filter;\n\n    const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n\n    queryParams[this.componentFilterName()] = filter;\n\n    return this.router.navigate(['.'], { relativeTo: this.route, queryParams: queryParams, replaceUrl: true });\n\n  }\n\n  /*\n   * stopWatchingUrlFilter\n   *\n   */\n  private getBase64FilterFromDecFilterGroups() {\n    if (this.filterGroupsWithoutTabs && this.filterGroupsWithoutTabs.length) {\n      const base64Filter = btoa(encodeURIComponent(JSON.stringify(this.filterGroupsWithoutTabs)));\n      const baseFilterWithoutEqualSign = base64Filter.replace(/=/g, '');\n      return baseFilterWithoutEqualSign; // removes = befor eset the filter\n    } else {\n      return undefined;\n    }\n  }\n\n  /*\n   * stopWatchingUrlFilter\n   *\n   * See https://stackoverflow.com/questions/9020409/is-it-ok-to-remove-the-equal-signs-from-a-base64-string\n   */\n  private getJsonFromBase64Filter(base64Filter) {\n    const base64PadLen = (base64Filter.length % 4) > 0 ? 4 - (base64Filter.length % 4) : 0;\n\n    for (let i = 0; i < base64PadLen; i++) {\n      base64Filter += '='; // add = before readd the filter\n    }\n\n    let filterObject;\n\n    try {\n      filterObject = JSON.parse(decodeURIComponent(atob(base64Filter)));\n    } catch (error) {\n      const msg = 'ListFilterComponent:: Failed to parse the filter. The value is not valid and the filter was removed. Filter value: ';\n      console.error(msg, base64Filter);\n    }\n\n    return base64Filter ? filterObject : undefined;\n  }\n\n}\n","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-active-filter-resume',\n  template: `<div *ngIf=\"filterGroups?.length\" class=\"dec-list-active-filter-resume-wrapper\">\n\n  <mat-chip-list>\n\n    <ng-container *ngFor=\"let group of filterGroups; let groupIndex = index;\">\n      <mat-chip *ngIf=\"group?.filters\" (click)=\"editDecFilterGroup($event, groupIndex)\">\n\n        <span *ngFor=\"let filter of group?.filters; let lastFilter = last;\" class=\"item-wrapper\">\n\n          <span [ngSwitch]=\"filter.property !== 'search'\">\n\n            <span *ngSwitchCase=\"true\">{{ 'label.' + filter.property | translate }}</span>\n\n            <span *ngSwitchDefault>{{ 'label.Keyword' | translate }}</span>\n\n          </span>\n\n          <span>:&nbsp;</span>\n\n          <span [ngSwitch]=\"getValuetype(filter.value)\" class=\"value-wrapper\">\n\n            <span *ngSwitchCase=\"'date'\">{{ filter.value | date }}</span>\n\n            <span *ngSwitchDefault>{{ filter.value }}</span>\n\n          </span >\n\n          <span *ngIf=\"!lastFilter\">,</span>\n\n          &nbsp;\n\n        </span>\n\n        <i class=\"material-icons\" (click)=\"removeDecFilterGroup($event, groupIndex)\">remove_circle</i>\n\n      </mat-chip>\n\n    </ng-container>\n\n  </mat-chip-list>\n\n</div>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-outline{bottom:1.34375em}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}@media screen and (-ms-high-contrast:active){.mat-ripple{display:none}}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.dec-list-active-filter-resume-wrapper{margin:16px 0 8px}.dec-list-active-filter-resume-wrapper .item-wrapper{max-width:15em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dec-list-active-filter-resume-wrapper .item-wrapper,.dec-list-active-filter-resume-wrapper .material-icons{color:#969696}.dec-list-active-filter-resume-wrapper .filter-content{margin-right:8px}.dec-list-active-filter-resume-wrapper .mat-chip{cursor:pointer}.dec-list-active-filter-resume-wrapper .value-wrapper{color:#ef3f54}`]\n})\nexport class DecListActiveFilterResumeComponent implements OnInit {\n\n  @Input() filterGroups = [];\n\n  @Output() remove: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() edit: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  editDecFilterGroup($event, filterGroup) {\n    $event.stopPropagation();\n    this.edit.emit(filterGroup);\n  }\n  removeDecFilterGroup($event, filterGroup) {\n    $event.stopPropagation();\n    this.remove.emit(filterGroup);\n  }\n\n  getValuetype(value) {\n\n    const firstValue = Array.isArray(value) ? value[0] : value;\n\n    let type;\n\n    switch (true) {\n      case `${firstValue}`.indexOf('000Z') >= 0:\n        type = 'date';\n        break;\n      default:\n        type = 'default';\n        break;\n    }\n\n    return type;\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatChipsModule, MatIconModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecListActiveFilterResumeComponent } from './list-active-filter-resume.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatChipsModule,\n    MatIconModule,\n    TranslateModule\n  ],\n  declarations: [DecListActiveFilterResumeComponent],\n  exports: [DecListActiveFilterResumeComponent],\n})\nexport class DecListActiveFilterResumeModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecListFilterComponent } from './list-filter.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { FormsModule } from '@angular/forms';\nimport { MatButtonModule, MatCardModule, MatChipsModule, MatIconModule, MatInputModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecListActiveFilterResumeModule } from './../list-active-filter-resume/list-active-filter-resume.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    FormsModule,\n    DecListActiveFilterResumeModule,\n    MatButtonModule,\n    MatCardModule,\n    MatChipsModule,\n    MatIconModule,\n    MatInputModule,\n    TranslateModule,\n  ],\n  declarations: [DecListFilterComponent],\n  exports: [DecListFilterComponent],\n})\nexport class DecListFilterModule { }\n","import { Directive, Input, TemplateRef, ViewContainerRef } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\n\n@Directive({\n  selector: '[decPermission]'\n})\nexport class DecPermissionDirective {\n\n  private hasView = false;\n\n  constructor(private service: DecApiService,\n              private templateRef: TemplateRef<any>,\n              private viewContainer: ViewContainerRef) {\n  }\n\n  @Input()\n  set decPermission(p: string[]) {\n    if (!p) {\n      this.viewContainer.createEmbeddedView(this.templateRef);\n      this.hasView = true;\n    } else {\n      this.hasPermission(p);\n    }\n  }\n\n  hasPermission(p) {\n    this.service.user$.subscribe(\n      user => {\n        if (user && this.isAllowedAccess(p, user.permissions)) {\n          if (!this.hasView) {\n            this.viewContainer.createEmbeddedView(this.templateRef);\n            this.hasView = true;\n          }\n        } else {\n          this.viewContainer.clear();\n          this.hasView = false;\n        }\n      }\n    );\n  }\n\n  private isAllowedAccess(rolesAllowed: string[] = [], currentRoles: string[] = []) {\n    try {\n      const matchingRole = currentRoles.find((userRole) => {\n        return rolesAllowed.find((alowedRole) => {\n          return alowedRole === userRole;\n        }) ? true : false;\n      });\n      return matchingRole ? true : false;\n    } catch (error) {\n      return false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { DecPermissionDirective } from './dec-permission.directive';\n\n@NgModule({\n  imports: [],\n  declarations: [\n    DecPermissionDirective\n  ],\n  exports: [\n    DecPermissionDirective\n  ]\n})\nexport class DecPermissionModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material';\nimport { DecListTabsFilterComponent } from './list-tabs-filter.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecPermissionModule } from './../../../directives/permission/dec-permission.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    TranslateModule,\n    DecPermissionModule\n  ],\n  declarations: [DecListTabsFilterComponent],\n  exports: [DecListTabsFilterComponent],\n})\nexport class DecListTabsFilterModule { }\n","import { Component, OnInit, ContentChild, TemplateRef, Output, EventEmitter, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-grid',\n  template: `<div fxLayout=\"row wrap\" [fxLayoutGap]=\"itemGap\" >\n  <div *ngFor=\"let row of rows; let i = index;\" (click)=\"onItemClick($event, row, rows, i)\" [fxFlex]=\"itemWidth\">\n    <div [ngStyle]=\"{margin: itemGap}\">\n      <ng-container\n        [ngTemplateOutlet]=\"templateRef\"\n        [ngTemplateOutletContext]=\"{row: row || {}, list: rows || [], index: i}\"\n      ></ng-container>\n    </div>\n  </div>\n</div>\n`,\n  styles: [``]\n})\nexport class DecListGridComponent implements OnInit {\n\n  @ContentChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  @Input() itemWidth = '280px';\n\n  @Input() itemGap = '8px';\n\n  @Output() rowClick: EventEmitter<any> = new EventEmitter<any>();\n\n  private _rows = [];\n\n  constructor() { }\n\n  set rows(v: any) {\n    if (this._rows !== v) {\n      this._rows = v;\n    }\n  }\n\n  get rows() {\n    return this._rows;\n  }\n\n  ngOnInit() {\n  }\n\n  onItemClick(event, item, list, index) {\n\n    this.rowClick.emit({event, item, list, index});\n\n  }\n\n}\n","import { Component, Input, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-table-column',\n  template: `<ng-content></ng-content>\n`,\n  styles: [``]\n})\nexport class DecListTableColumnComponent {\n\n  @ContentChild(TemplateRef) template: TemplateRef<any>;\n\n  @Input() prop;\n\n  @Input() title = '';\n\n  @Input() set colSpan(v) {\n    const number = +v;\n    this._colSpan = isNaN(number) ? 1 : number;\n  }\n\n  get colSpan(): number {\n    return this._colSpan;\n  }\n\n  private _colSpan = 1;\n}\n","import { Component, ContentChildren, QueryList, ViewChild, EventEmitter, Output, Input } from '@angular/core';\nimport { DecListTableColumnComponent } from './../list-table-column/list-table-column.component';\nimport { DatatableComponent } from '@swimlane/ngx-datatable';\n\n@Component({\n  selector: 'dec-list-table',\n  template: `<ngx-datatable #tableComponent\n  columnMode=\"flex\"\n  headerHeight=\"24px\"\n  rowHeight=\"auto\"\n  [externalSorting]=\"true\"\n  [messages]=\"{emptyMessage:''}\"\n  [rows]=\"rows\"\n  (sort)=\"onSort($event)\"\n  (activate)=\"onItemClick($event)\">\n\n  <ngx-datatable-column *ngFor=\"let column of columns;\"\n                         name=\"{{column.title | translate}}\"\n                         [flexGrow]=\"column.colSpan\"\n                         [prop]=\"column.prop\"\n                         [sortable]=\"column.prop ? true : false\">\n\n    <ng-template *ngIf=\"column.template ? true : false\"\n      let-row=\"row\"\n      let-index=\"rowIndex\"\n      ngx-datatable-cell-template>\n\n      <ng-container\n        [ngTemplateOutlet]=\"column.template\"\n        [ngTemplateOutletContext]=\"{row: row || {}, list: rows || [], index: index}\"\n      ></ng-container>\n\n    </ng-template>\n\n  </ngx-datatable-column>\n\n</ngx-datatable>\n`,\n  styles: [`::ng-deep .ngx-datatable .overflow-visible{overflow:visible!important}::ng-deep datatable-scroller{width:100%!important}::ng-deep .ngx-datatable.no-overflow{overflow:auto}::ng-deep .ngx-datatable.no-padding .datatable-body-row .datatable-body-cell .datatable-body-cell-label{padding:0}::ng-deep .ngx-datatable .datatable-header{padding:11px 16px}::ng-deep .ngx-datatable .datatable-header .datatable-header-cell-label{font-size:12px;font-weight:500}::ng-deep .ngx-datatable .datatable-body-row .datatable-body-cell{font-size:13px;font-weight:400;overflow:hidden;min-height:100%;display:table;-webkit-user-select:initial;-moz-user-select:initial;-ms-user-select:initial;-o-user-select:initial;user-select:initial}::ng-deep .ngx-datatable .datatable-body-row .datatable-body-cell .datatable-body-cell-label{padding:16px;display:table-cell;vertical-align:middle;word-break:break-all}::ng-deep .ngx-datatable .datatable-body-row .datatable-body-cell.cell-top .datatable-body-cell-label{vertical-align:top}::ng-deep .ngx-datatable .datatable-row-detail{padding:10px}::ng-deep .ngx-datatable .sort-btn{width:0;height:0}::ng-deep .ngx-datatable .icon-down{border-left:5px solid transparent;border-right:5px solid transparent}::ng-deep .ngx-datatable .icon-up{border-left:5px solid transparent;border-right:5px solid transparent}`]\n})\nexport class DecListTableComponent {\n\n  @Input()\n  set rows(v) {\n    if (this._rows !== v) {\n      this._rows = v;\n    }\n  }\n\n  get rows() {\n    return this._rows;\n  }\n\n  @ViewChild(DatatableComponent) tableComponent: DatatableComponent;\n\n  columnsSortConfig: any;\n\n  private _rows: Array<any> = [];\n\n  @ContentChildren(DecListTableColumnComponent) columns: QueryList<DecListTableColumnComponent>;\n\n  @Output() sort: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() rowClick: EventEmitter<any> = new EventEmitter<any>();\n\n  constructor() { }\n\n  onSort(event) {\n\n    const sortConfig = [{\n      property: event.sorts[0].prop,\n      order: {type: event.sorts[0].dir}\n    }];\n\n    if (sortConfig !== this.columnsSortConfig) {\n\n      this.columnsSortConfig = sortConfig;\n\n      this.sort.emit(this.columnsSortConfig);\n\n    }\n\n  }\n\n  onItemClick($event) {\n\n    const event = $event;\n\n    const item = $event.row;\n\n    const list = this.rows;\n\n    const index = $event.row.$$index;\n\n    this.rowClick.emit({event, item, list, index});\n\n  }\n}\n","import {AfterViewInit, Component, ContentChild, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {DecListGridComponent} from './list-grid/list-grid.component';\nimport {DecListTableComponent} from './list-table/list-table.component';\nimport { DecListFilterComponent} from './list-filter/list-filter.component';\nimport { Observable, BehaviorSubject, Subscription, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, tap, switchMap } from 'rxjs/operators';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { DecListFetchMethod } from './list.models';\nimport { FilterData, DecFilter, FilterGroups, FilterGroup } from './../../services/api/decora-api.model';\n\n@Component({\n  selector: 'dec-list',\n  template: `<div class=\"list-component-wrapper\">\n\n  <div *ngIf=\"filter\">\n    <ng-content select=\"dec-list-filter\"></ng-content>\n  </div>\n\n  <div *ngIf=\"report\">\n\n    <div fxLayout=\"column\" fxLayoutGap=\"16px\">\n\n      <div fxFlex class=\"text-right\" *ngIf=\"tableAndGridAreSet()\">\n        <button type=\"button\" mat-icon-button (click)=\"toggleListMode()\">\n          <mat-icon title=\"Switch to table mode\" aria-label=\"Switch to table mode\" color=\"primary\" contrastFontWithBg *ngIf=\"listMode === 'grid'\">view_headline</mat-icon>\n          <mat-icon title=\"Switch to grid mode\" aria-label=\"Switch to grid mode\" color=\"primary\" contrastFontWithBg *ngIf=\"listMode === 'table'\">view_module</mat-icon>\n        </button>\n      </div>\n\n      <div fxFlex>\n        <div *ngIf=\"listMode == 'grid' then gridTemplate else listTemplate\"></div>\n      </div>\n\n      <!-- FOOTER CONTENT -->\n      <div fxFlex>\n        <div *ngIf=\"showFooter && !loading then footerTemplate\"></div>\n      </div>\n\n      <!-- LOADING SPINNER -->\n      <div fxFlex *ngIf=\"loading\" class=\"text-center loading-spinner-wrapper\">\n        <dec-spinner></dec-spinner>\n      </div>\n\n      <!-- LOAD MORE BUTTON -->\n      <div fxFlex *ngIf=\"!isLastPage && !loading && !disableShowMoreButton\" class=\"text-center\">\n        <button type=\"button\" mat-raised-button (click)=\"showMore()\">{{'label.show-more' | translate}}</button>\n      </div>\n\n    </div>\n\n  </div>\n\n</div>\n\n<!-- GRID TEMPLATE -->\n<ng-template #gridTemplate>\n  <ng-content select=\"dec-list-grid\"></ng-content>\n</ng-template>\n\n<!-- TABLE TEMPLATE -->\n<ng-template #listTemplate>\n  <ng-content select=\"dec-list-table\"></ng-content>\n</ng-template>\n\n<!-- FOOTER TEMPLATE -->\n<ng-template #footerTemplate>\n\n  <ng-content select=\"dec-list-footer\"></ng-content>\n\n  <p class=\"list-footer\">\n    {{ 'label.amount-loaded-of-total' |\n      translate:{\n        loaded: report?.result?.rows?.length,\n        total: report?.result?.count\n      }\n    }}\n  </p>\n\n</ng-template>\n`,\n  styles: [`.list-footer{font-size:14px;text-align:center}.list-component-wrapper{min-height:72px}.text-right{text-align:right}.loading-spinner-wrapper{padding:32px}`]\n})\nexport class DecListComponent implements OnInit, OnDestroy, AfterViewInit {\n\n  /*\n   * loading\n   *\n   *\n   */\n  set loading(v) {\n\n    this._loading = v;\n\n    if (this.filter) {\n\n      this.filter.loading = v;\n\n    }\n\n  }\n\n  get loading() {\n    return this._loading;\n  }\n\n  /*\n   * filterGroups\n   *\n   *\n   */\n  get filterGroups(): FilterGroups {\n    return this.filter ? this.filter.filterGroups : [];\n  }\n\n  /*\n   * report\n   *\n   *\n   */\n  report;\n\n  /*\n   * isLastPage\n   *\n   *\n   */\n  isLastPage: boolean;\n\n  /*\n   * filterData\n   *\n   *\n   */\n  private filterData: Subject<FilterData> = new Subject<FilterData>();\n\n  /*\n   * _loading;\n   *\n   *\n   */\n  private _loading = true;\n\n  /*\n   * clearAndReloadReport\n   *\n   *\n   */\n  private clearAndReloadReport;\n\n  /*\n   * filterSubscription\n   *\n   *\n   */\n  private filterSubscription: Subscription;\n\n  /*\n   * reactiveReport\n   *\n   *\n   */\n  private reactiveReport: Observable<any>;\n\n  /*\n   * reactiveReportSubscription\n   *\n   *\n   */\n  private reactiveReportSubscription: Subscription;\n\n  /*\n   * scrollableContainer\n   *\n   *\n   */\n  private scrollableContainer: Element;\n\n  /*\n   * scrollEventEmiter\n   *\n   *\n   */\n  private scrollEventEmiter = new EventEmitter<any>();\n\n  /*\n   * scrollEventEmiterSubscription\n   *\n   *\n   */\n  private scrollEventEmiterSubscription: Subscription;\n\n  /*\n   * tabsChangeSubscription\n   *\n   *\n   */\n  private tabsChangeSubscription: Subscription;\n\n  /*\n   * tableSortSubscription\n   *\n   *\n   */\n  private tableSortSubscription: Subscription;\n\n  /*\n   * payload\n   *\n   *\n   */\n  private payload: DecFilter;\n\n  /*\n   * _endpoint internall\n   *\n   *\n   */\n  private _endpoint: string;\n\n  /*\n   * customFetchMethod\n   *\n   * method used to fetch data from back-end\n   */\n  @Input() customFetchMethod: DecListFetchMethod;\n\n  /*\n   * columnsSortConfig\n   *\n   * used to get a sorted list from backend\n   * can be pased via attribute to sort the first load\n   */\n  @Input() columnsSortConfig;\n\n  /*\n   * disableShowMoreButton\n   *\n   * used to hide the show more button\n   */\n  @Input() disableShowMoreButton: boolean;\n\n  /*\n   * endpoint\n   *\n   *\n   */\n  @Input()\n  set endpoint(v: string) {\n\n    if (this._endpoint !== v) {\n\n      this._endpoint = (v[0] && v[0] === '/') ? v.replace('/', '') : v;\n\n    }\n\n  }\n\n  get endpoint(): string {\n\n    return this._endpoint;\n\n  }\n\n  /*\n   * name\n   *\n   *\n   */\n  private _name: string;\n\n  @Input()\n  set name(v: string) {\n    if (this._name !== v) {\n      this._name = v;\n      this.setFiltersComponentsBasePathAndNames();\n    }\n  }\n\n  get name() {\n    return this._name;\n  }\n\n  /*\n   * rows\n   *\n   *\n   */\n  @Input('rows')\n\n  set rows(rows) {\n    this.setRows(rows);\n  }\n\n  get rows() {\n    return this.report ? this.report.result.rows : undefined;\n  }\n\n  /*\n   * limit\n   *\n   *\n   */\n  @Input() limit = 10;\n\n  /*\n   * scrollableContainerClass\n   *\n   * Where the scroll watcher should be listening\n   */\n  @Input() scrollableContainerClass = 'mat-sidenav-content';\n\n  /*\n   * searchableProperties\n   *\n   * Properties to be searched when using basic search\n   */\n  @Input() searchableProperties: string[];\n\n  /*\n   * showFooter\n   *\n   *\n   */\n  @Input() showFooter = true;\n\n  /*\n   * postSearch\n   *\n   * This middleware is used to trigger events after every search\n   */\n  @Output() postSearch = new EventEmitter<any>();\n\n  /*\n   * rowClick\n   *\n   * Emits an event when a row or card is clicked\n   */\n  @Output() rowClick: EventEmitter<any> = new EventEmitter<any>();\n\n  /*\n   * grid\n   *\n   *\n   */\n  @ContentChild(DecListGridComponent) grid: DecListGridComponent;\n\n  /*\n   * table\n   *\n   *\n   */\n  @ContentChild(DecListTableComponent) table: DecListTableComponent;\n\n  /*\n   * filter\n   *\n   *\n   */\n  private _filter: DecListFilterComponent;\n\n  @ContentChild(DecListFilterComponent)\n  set filter(v: DecListFilterComponent) {\n    if (this._filter !== v) {\n      this._filter = v;\n      this.setFiltersComponentsBasePathAndNames();\n    }\n  }\n\n  get filter() {\n    return this._filter;\n  }\n\n  /*\n   * listMode\n   *\n   *\n   */\n  @Input() listMode;\n\n  /*\n   * getListMode\n   *\n   *\n   */\n  @Input() getListMode = () => {\n\n    let listMode = this.listMode;\n\n    if (this.filter && this.filter.tabsFilterComponent) {\n\n      const selectedTab = this.filter.tabsFilterComponent.selectedTab();\n\n      if (selectedTab && selectedTab.listMode) {\n\n        listMode = selectedTab.listMode;\n\n      } else {\n\n        listMode = this.table ? 'table' : 'grid';\n\n      }\n\n    }\n\n    return listMode;\n\n  }\n\n  /*\n   * ngOnInit\n   *\n   *\n   */\n  constructor(\n    private service: DecApiService\n  ) { }\n\n  /*\n   * ngOnInit\n   *\n   * Starts a fresh component and prepare it to run\n   *\n   * - Start the Reactive Report\n   * - Subscribe to the Reactive Report\n   * - Start watching window Scroll\n   * - Ensure unique name\n   */\n  ngOnInit() {\n    this.watchFilterData();\n    this.ensureUniqueName();\n    this.detectListModeBasedOnGridAndTablePresence();\n  }\n\n  /*\n  * ngAfterViewInit\n  *\n  * Wait for the subcomponents to start before run the component\n  *\n  * - Start watching Filter\n  * - Do the first load\n  */\n ngAfterViewInit() {\n   this.watchFilter();\n   this.doFirstLoad();\n   this.detectListMode();\n   this.watchTabsChange();\n   this.watchTableSort();\n   this.registerChildWatchers();\n   this.watchScroll();\n   this.watchScrollEventEmitter();\n  }\n\n  /*\n   * ngOnDestroy\n   *\n   * Destroy watcher to free meemory and remove unnecessary triggers\n   *\n   * - Unsubscribe from the Reactive Report\n   * - Stop watching window Scroll\n   * - Stop watching Filter\n   */\n  ngOnDestroy() {\n    this.unsubscribeToReactiveReport();\n    this.stopWatchingScroll();\n    this.stopWatchingFilter();\n    this.stopWatchingTabsChange();\n    this.stopWatchingTableSort();\n    this.stopWatchingScrollEventEmitter();\n  }\n\n  /*\n   * reloadCountReport\n   *\n   */\n  reloadCountReport() {\n\n    if (this.filter) {\n\n      this.filter.reloadCountReport(this.payload);\n\n    }\n\n  }\n\n  /*\n   * removeItem\n   *\n   * Removes an item from the list\n   */\n  removeItem(id) {\n\n    const item = this.rows.find(_item => _item.id === id);\n\n    if (item) {\n\n      const itemIndex = this.rows.indexOf(item);\n\n      if (itemIndex >= 0) {\n\n        this.rows.splice(itemIndex, 1);\n\n      }\n\n    }\n\n    if (this.endpoint) {\n      this.reloadCountReport();\n    }\n\n  }\n\n  /*\n   * restart\n   *\n   * Clear the list and reload the first page\n   */\n  restart() {\n\n    this.loadReport(true);\n\n  }\n\n  /*\n   * showMore\n   *\n   */\n  showMore() {\n\n    return this.loadReport();\n\n  }\n\n  /*\n   * tableAndGridAreSet\n   *\n   * Return true if there are both GRID and TABLE definition inside the list\n   */\n  tableAndGridAreSet() {\n    return this.grid && this.table;\n  }\n\n  /*\n   * toggleListMode\n   *\n   * Changes between GRID and TABLE visualizatoin modes\n   */\n  toggleListMode() {\n\n    this.listMode = this.listMode === 'grid' ? 'table' : 'grid';\n\n    if (this.listMode === 'table') {\n\n      setTimeout(() => {\n\n        this.table.tableComponent.recalculate();\n\n      }, 1);\n\n    }\n\n  }\n\n  /*\n   * actByScrollPosition\n   *\n   * This method detect if there is scrooling action on window to fetch and show more rows when the scrolling down.\n   */\n  private actByScrollPosition = ($event) => {\n\n    if ($event['path']) {\n\n      const elementWithCdkOverlayClass = $event['path'].find(path => {\n\n        const className = path['className'] || '';\n\n        const insideOverlay = className.indexOf('cdk-overlay') >= 0;\n\n        const insideFullscreanDialogContainer = className.indexOf('fullscrean-dialog-container') >= 0;\n\n        return insideOverlay || insideFullscreanDialogContainer;\n\n      });\n\n      if (!elementWithCdkOverlayClass) { // avoid closing filter from any open dialog\n\n        if (!this.isLastPage) {\n\n          const target: any = $event['target'];\n\n          const limit = target.scrollHeight - target.clientHeight;\n\n          if (target.scrollTop >= (limit - 16)) {\n\n            this.showMore();\n\n          }\n\n        }\n      }\n\n    }\n\n  }\n\n  /*\n   * detectListMode\n   *\n   * Set the list mode based on filterTabs configuration or custom function overridden by getListMode input\n   */\n  private detectListMode() {\n\n    this.listMode = this.getListMode();\n\n  }\n\n  /*\n   * detectListModeBasedOnGridAndTablePresence()\n   *\n   * Set the list mode based on declaration of table and grid. This is necessary to bootastrap the component with only grid or only table\n   * This only work if no mode is provided by @Input otherwise the @Input value will be used\n   */\n  private detectListModeBasedOnGridAndTablePresence() {\n\n    this.listMode = this.listMode ? this.listMode : this.table ? 'table' : 'grid';\n\n  }\n\n  /*\n   * emitScrollEvent\n   *\n   *\n   */\n  private emitScrollEvent = ($event) => {\n\n    if (!this.loading) {\n\n      this.scrollEventEmiter.emit($event);\n\n    }\n\n  }\n\n  /*\n   * isTabsFilterDefined\n   *\n   * Return true if the Tabs Filter is defined inside the list\n   */\n  private isTabsFilterDefined() {\n    return this.filter && this.filter.tabsFilterComponent;\n  }\n\n  /*\n   * doFirstLoad\n   *\n   */\n  private doFirstLoad() {\n    if (this.isTabsFilterDefined()) {\n      this.doFirstLoadByTabsFilter();\n    } else {\n      this.doFirstLoadLocally(true);\n    }\n  }\n\n  /*\n   * doFirstLoadByTabsFilter\n   *\n   */\n  private doFirstLoadByTabsFilter() {\n    this.filter.tabsFilterComponent.doFirstLoad();\n  }\n\n  /*\n   * doFirstLoadLocally\n   *\n   */\n  private doFirstLoadLocally(refresh) {\n    this.loadReport(refresh);\n  }\n\n  /*\n   * ensureUniqueName\n   *\n   */\n  private ensureUniqueName() {\n    if (!this.name) {\n      const error = 'ListComponentError: The list component must have an unique name to be used in url filter.'\n      + ' Please, ensure that you have passed an unique namme to the component.';\n      throw new Error(error);\n    }\n  }\n\n  /*\n   * loadReport\n   *\n   */\n  private loadReport(clearAndReloadReport?: boolean): Promise<any> {\n\n\n    return new Promise((res, rej) => {\n\n      if (clearAndReloadReport && this.rows) {\n\n        this.setRows(this.rows);\n\n      }\n\n      this.clearAndReloadReport = clearAndReloadReport;\n\n      this.loading = true;\n\n      if (this.endpoint) {\n\n        const filterGroups = this.filter ? this.filter.filterGroups : undefined;\n\n        const payload: DecFilter = {};\n\n        payload.limit = this.limit;\n\n        let selectedTab;\n\n        if (this.filter && this.filter.tabsFilterComponent) {\n          selectedTab = this.filter.tabsFilterComponent.selectedTab();\n        }\n\n        if (filterGroups) {\n\n          payload.filterGroups = filterGroups;\n\n        }\n\n        if (this.columnsSortConfig) {\n\n          payload.columns = this.columnsSortConfig;\n\n        }\n\n        if (!clearAndReloadReport && this.report) {\n\n          payload.page = this.report.page + 1;\n\n          payload.limit = this.report.limit;\n\n        }\n\n        this.payload = payload;\n\n        this.filterData.next({ endpoint: this.endpoint, payload: payload, cbk: res, clear: clearAndReloadReport });\n\n      } else if (this.customFetchMethod) {\n\n        this.filterData.next();\n\n      } else if (!this.rows) {\n\n        setTimeout(() => {\n\n          if (!this.rows) {\n\n            rej('No endpoint, customFetchMethod or rows set');\n\n          }\n\n          this.loading = false;\n\n        }, 1);\n\n      }\n\n    });\n\n\n  }\n\n  /*\n   * setFiltersComponentsBasePathAndNames\n   *\n   */\n  private setFiltersComponentsBasePathAndNames() {\n\n    if (this.filter) {\n\n      this.filter.name = this.name;\n\n\n      if (this.filter.tabsFilterComponent) {\n\n        this.filter.tabsFilterComponent.name = this.name;\n\n        if (this.customFetchMethod) {\n\n          this.filter.tabsFilterComponent.customFetchMethod = this.customFetchMethod;\n\n        } else {\n\n          this.filter.tabsFilterComponent.service = this.service;\n\n        }\n\n\n\n      }\n\n    }\n\n  }\n\n  /*\n   * setRows\n   *\n   */\n  private setRows(rows = []) {\n\n    this.report = {\n\n      page: 1,\n\n      result: {\n\n        rows: rows,\n\n        count: rows.length\n\n      }\n    };\n\n    this.detectLastPage(rows, rows.length);\n\n    this.updateContentChildren();\n  }\n\n  /*\n   * watchScrollEventEmitter\n   *\n   *\n   */\n  private watchScrollEventEmitter() {\n\n    this.scrollEventEmiterSubscription = this.scrollEventEmiter\n    .pipe(\n      debounceTime(150),\n      distinctUntilChanged()\n    ).subscribe(this.actByScrollPosition);\n\n  }\n\n  /*\n   * stopWatchingScrollEventEmitter\n   *\n   *\n   */\n  private stopWatchingScrollEventEmitter() {\n\n    if (this.scrollEventEmiterSubscription) {\n\n      this.scrollEventEmiterSubscription.unsubscribe();\n\n    }\n\n  }\n\n  /*\n   * watchFilterData\n   *\n   */\n  private watchFilterData() {\n    this.reactiveReport = this.filterData\n    .pipe(\n      debounceTime(150), // avoid muiltiple request when the filter or tab change too fast\n      switchMap((filterData: FilterData) => {\n\n        const observable = new BehaviorSubject<any>(undefined);\n\n        const fetchMethod: DecListFetchMethod = this.customFetchMethod || this.service.get;\n\n        const endpoint = filterData ? filterData.endpoint : undefined;\n\n        const payloadWithSearchableProperties = this.getPayloadWithSearchTransformedIntoSearchableProperties();\n\n        if (filterData && filterData.clear) {\n          this.setRows([]);\n        }\n\n        fetchMethod(endpoint, payloadWithSearchableProperties)\n        .subscribe(res => {\n\n          observable.next(res);\n\n          if (filterData && filterData.cbk) {\n\n            setTimeout(() => { // wait for subscribers to refresh their rows\n\n              filterData.cbk(new Promise((resolve, rej) => {\n\n                resolve(res);\n\n              }));\n\n            }, 1);\n          }\n          return res;\n        });\n\n        return observable;\n      })\n\n    );\n    this.subscribeToReactiveReport();\n  }\n\n  private getPayloadWithSearchTransformedIntoSearchableProperties() {\n\n    const payloadCopy = {...this.payload};\n\n    if (payloadCopy.filterGroups && this.searchableProperties) {\n\n      payloadCopy.filterGroups = [...this.payload.filterGroups];\n\n      const filterGroupThatContainsBasicSearch = this.getFilterGroupThatContainsTheBasicSearch(payloadCopy.filterGroups);\n\n      if (filterGroupThatContainsBasicSearch) {\n\n        this.removeFilterGroup(payloadCopy.filterGroups, filterGroupThatContainsBasicSearch);\n\n        this.appendFilterGroupsBasedOnSearchableProperties(filterGroupThatContainsBasicSearch, payloadCopy);\n\n      }\n\n      return payloadCopy;\n\n\n    } else {\n\n      return this.payload;\n\n    }\n\n  }\n\n  private appendFilterGroupsBasedOnSearchableProperties(filterGroupsModel, payload) {\n\n    const basicSearch = filterGroupsModel.filters.find(filter => filter.property === 'search');\n\n    const basicSearchIndex = filterGroupsModel.filters.indexOf(basicSearch);\n\n    this.searchableProperties.forEach(property => {\n\n      const newFilterGroup: FilterGroup = {\n        filters: [...filterGroupsModel.filters]\n      };\n\n      newFilterGroup.filters[basicSearchIndex] = {\n        property: property,\n        value: basicSearch.value\n      };\n\n      payload.filterGroups.push(newFilterGroup);\n\n    });\n\n  }\n\n  private removeFilterGroup(filterGroups, filterGroupThatContainsBasicSearch) {\n\n    const filterGroupThatContainsBasicSearchIndex = filterGroups.indexOf(filterGroupThatContainsBasicSearch);\n\n    filterGroups.splice(filterGroupThatContainsBasicSearchIndex, 1);\n\n  }\n\n  private getFilterGroupThatContainsTheBasicSearch(filterGroups) {\n\n    return filterGroups.find(filterGroup => {\n\n      const basicSerchFilter = filterGroup.filters.find(filter => filter.property === 'search');\n\n      return basicSerchFilter ? true : false;\n\n    });\n\n  }\n\n  /*\n   * subscribeToReactiveReport\n   *\n   */\n  private subscribeToReactiveReport() {\n    this.reactiveReportSubscription = this.reactiveReport\n    .pipe(\n      tap(res => {\n        if (res) {\n          this.loading = false;\n        }\n      })\n    )\n    .subscribe(data => {\n      if (data && data.result && data.result.rows) {\n\n        if (!this.clearAndReloadReport) {\n          data.result.rows = this.report.result.rows.concat(data.result.rows);\n        }\n\n        this.report = data;\n\n        this.postSearch.emit(data);\n\n        this.updateContentChildren();\n\n        this.detectLastPage(data.result.rows, data.result.count);\n\n        }\n      });\n  }\n\n  private detectLastPage(rows, count) {\n\n    const numberOfrows = rows.length;\n\n    const emptList = numberOfrows === 0;\n\n    const singlePageList = numberOfrows === count;\n\n    this.isLastPage = emptList || singlePageList;\n\n  }\n\n  /*\n   * unsubscribeToReactiveReport\n   *\n   */\n  private unsubscribeToReactiveReport() {\n    if (this.reactiveReportSubscription) {\n      this.reactiveReportSubscription.unsubscribe();\n    }\n  }\n\n  /*\n   * updateContentChildren\n   *\n   */\n  private updateContentChildren() {\n\n    const rows = this.endpoint ? this.report.result.rows : this.rows;\n    if (this.grid) {\n      this.grid.rows = rows;\n    }\n    if (this.table) {\n      this.table.rows = rows;\n    }\n    if (this.filter) {\n      this.filter.count = this.report.result.count;\n    }\n  }\n\n  /*\n   * registerChildWatchers\n   *\n   * Watch for children outputs\n   */\n  private registerChildWatchers() {\n\n    if (this.grid) {\n      this.watchGridRowClick();\n    }\n\n    if (this.table) {\n      this.watchTableRowClick();\n    }\n\n  }\n\n  /*\n   * watchGridRowClick\n   *\n   */\n  private watchGridRowClick() {\n    this.grid.rowClick.subscribe(($event) => {\n      this.rowClick.emit($event);\n    });\n  }\n\n  /*\n   * watchTableRowClick\n   *\n   */\n  private watchTableRowClick() {\n    this.table.rowClick.subscribe(($event) => {\n      this.rowClick.emit($event);\n    });\n  }\n\n  /*\n   * watchFilter\n   *\n   */\n  private watchFilter() {\n    if (this.filter) {\n      this.filterSubscription = this.filter.search.subscribe(event => {\n        this.loadReport(true)\n          .then((res) => {\n            if (event.recount) {\n              this.reloadCountReport();\n            }\n          });\n      });\n    }\n  }\n\n  /*\n   * watchFilter\n   *\n   */\n  private stopWatchingFilter() {\n    if (this.filterSubscription) {\n      this.filterSubscription.unsubscribe();\n    }\n  }\n\n  /*\n   * watchScroll\n   *\n   */\n  private watchScroll() {\n    setTimeout(() => {\n      this.scrollableContainer = document.getElementsByClassName(this.scrollableContainerClass)[0];\n      if (this.scrollableContainer) {\n        this.scrollableContainer.addEventListener('scroll', this.emitScrollEvent, true);\n      }\n    }, 1);\n  }\n\n  /*\n   * stopWatchingScroll\n   *\n   */\n  private stopWatchingScroll() {\n    if (this.scrollableContainer) {\n      this.scrollableContainer.removeEventListener('scroll', this.emitScrollEvent, true);\n    }\n  }\n\n  /*\n   * subscribeToReactiveReport\n   *\n   */\n  private watchTabsChange() {\n    if (this.filter && this.filter.tabsFilterComponent) {\n      this.tabsChangeSubscription = this.filter.tabsFilterComponent.tabChange.subscribe(tab => {\n        this.detectListMode();\n      });\n    }\n  }\n\n  /*\n   * subscribeToTabsChange\n   *\n   */\n  private stopWatchingTabsChange() {\n    if (this.tabsChangeSubscription) {\n      this.tabsChangeSubscription.unsubscribe();\n    }\n  }\n\n  /*\n   * watchTableSort\n   *\n   */\n  private watchTableSort() {\n    if (this.table) {\n      this.tableSortSubscription = this.table.sort.subscribe(columnsSortConfig => {\n        if (this.columnsSortConfig !== columnsSortConfig) {\n          this.columnsSortConfig = columnsSortConfig;\n          this.loadReport(true);\n        }\n      });\n    }\n  }\n\n  /*\n   * stopWatchingTableSort\n   *\n   */\n  private stopWatchingTableSort() {\n    if (this.tableSortSubscription) {\n      this.tableSortSubscription.unsubscribe();\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { DecListTableComponent } from './list-table.component';\nimport { DecListTableColumnComponent } from './../list-table-column/list-table-column.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    NgxDatatableModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecListTableComponent,\n    DecListTableColumnComponent,\n  ],\n  exports: [\n    DecListTableComponent,\n    DecListTableColumnComponent,\n  ],\n})\nexport class DecListTableModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-footer',\n  template: `<ng-content></ng-content>\n`,\n  styles: [``]\n})\nexport class DecListFooterComponent {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecListAdvancedFilterComponent } from './list-advanced-filter.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    TranslateModule,\n    FlexLayoutModule,\n  ],\n  declarations: [DecListAdvancedFilterComponent],\n  exports: [DecListAdvancedFilterComponent],\n})\nexport class DecListAdvancedFilterModule { }\n","import { Component, OnInit, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-list-actions',\n  template: `<ng-content></ng-content>>\n`,\n  styles: [``]\n})\nexport class DecListActionsComponent implements OnInit {\n\n  @ContentChild(TemplateRef) template: TemplateRef<any>;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecListActionsComponent } from './list-actions.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [DecListActionsComponent],\n  exports: [DecListActionsComponent]\n})\nexport class DecListActionsModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { MatButtonModule, MatIconModule, MatSnackBarModule } from '@angular/material';\n\nimport { DecListFilterModule } from './list-filter/list-filter.module';\nimport { DecListTabsFilterModule } from './list-tabs-filter/list-tabs-filter.module';\n\nimport { DecListComponent } from './list.component';\nimport { DecListGridComponent } from './list-grid/list-grid.component';\nimport { DecListTableModule } from './list-table/list-table.module';\nimport { DecListFooterComponent } from './list-footer/list-footer.component';\nimport { DecListAdvancedFilterModule } from './list-advanced-filter/list-advanced-filter.module';\nimport { DecSpinnerModule } from './../dec-spinner/dec-spinner.module';\nimport { DecListActionsModule } from './list-actions/list-actions.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatButtonModule,\n    MatIconModule,\n    MatSnackBarModule,\n    NgxDatatableModule,\n    RouterModule,\n    TranslateModule,\n    DecListAdvancedFilterModule,\n    DecListFilterModule,\n    DecListTabsFilterModule,\n    DecListTableModule,\n    DecSpinnerModule,\n  ],\n  declarations: [\n    DecListComponent,\n    DecListGridComponent,\n    DecListFooterComponent,\n  ],\n  exports: [\n    DecListComponent,\n    DecListGridComponent,\n    DecListTableModule,\n    DecListFooterComponent,\n    DecListFilterModule,\n    DecListAdvancedFilterModule,\n    DecListTabsFilterModule,\n    DecListActionsModule,\n  ],\n})\nexport class DecListModule { }\n","import { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'dec-page-forbiden',\n  template: `<div class=\"page-forbiden-wrapper\">\n  <h1>{{'label.page-forbiden' | translate}}</h1>\n  <p>{{'label.page-forbiden-help' | translate}}</p>\n  <p><small>Ref: {{previousUrl}}</small></p>\n  <img src=\"http://s3-sa-east-1.amazonaws.com/static-files-prod/platform/decora3.png\">\n</div>\n`,\n  styles: [`.page-forbiden-wrapper{padding-top:100px;text-align:center}img{width:100px}`]\n})\nexport class DecPageForbidenComponent {\n\n  previousUrl: string;\n\n  constructor(private router: Router) {\n    this.router.events\n    .pipe(\n      filter(event => event instanceof NavigationEnd)\n    )\n    .subscribe((e: NavigationEnd) => {\n      this.previousUrl = document.referrer || e.url;\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecPageForbidenComponent } from './page-forbiden.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecPageForbidenComponent\n  ],\n  exports: [\n    DecPageForbidenComponent\n  ]\n})\nexport class DecPageForbidenModule { }\n","import { Component } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs/operators';\n\n@Component({\n  selector: 'dec-page-not-found',\n  template: `<div class=\"page-not-found-wrapper\">\n  <h1>{{'label.page-not-found' | translate}}</h1>\n  <p>{{'label.page-not-found-help' | translate}}</p>\n  <p>{{previousUrl}}</p>\n  <img src=\"http://s3-sa-east-1.amazonaws.com/static-files-prod/platform/decora3.png\">\n</div>\n`,\n  styles: [`.page-not-found-wrapper{padding-top:100px;text-align:center}img{width:100px}`]\n})\nexport class DecPageNotFoundComponent {\n\n  previousUrl: string;\n\n  constructor(private router: Router) {\n    router.events\n    .pipe(\n      filter(event => event instanceof NavigationEnd)\n    )\n    .subscribe((e: NavigationEnd) => {\n        this.previousUrl = e.url;\n    });\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecPageNotFoundComponent } from './page-not-found.component';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecPageNotFoundComponent\n  ],\n  exports: [\n    DecPageNotFoundComponent\n  ]\n})\nexport class DecPageNotFoundModule { }\n","import { Component, HostListener, Input, OnInit, Output, EventEmitter, Renderer  } from '@angular/core';\n\nconst FALLBACK_IMAGE = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAALSURBVAjXY2BgAAAAAwABINWUxwAAAABJRU5' +\n'ErkJggg==';\n\nconst LOADING_IMAGE = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCIg' +\n'Y2xhc3M9InVpbC1yaW5nIj48cGF0aCBmaWxsPSJub25lIiBjbGFzcz0iYmsiIGQ9Ik0wIDBoMTAwdjEwMEgweiIvPjxjaXJjbGUgY3g9Ijc1IiBjeT0iNzUiIHI9IjQ1IiBzdHJva2UtZGFzaGFycmF5PSIyMjYuMTk1IDU2LjU0OSI' +\n'gc3Ryb2tlPSIjMjMyZTM4IiBmaWxsPSJub25lIiBzdHJva2Utd2lkdGg9IjEwIj48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgdmFsdWVzPSIwIDc1IDc1OzE4MCA3NSA3NT' +\n'szNjAgNzUgNzU7IiBrZXlUaW1lcz0iMDswLjU7MSIgZHVyPSIxcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGJlZ2luPSIwcyIvPjwvY2lyY2xlPjwvc3ZnPg==';\n\n@Component({\n  selector: 'dec-product-spin',\n  template: `<div class=\"product-spinner-wrapper\" *ngIf=\"scenes\">\n  <div [ngSwitch]=\"loadingImages ? true : false\">\n\n    <div *ngSwitchCase=\"true\" class=\"overlay\">\n      <!-- Loading spinner -->\n      <div [ngStyle]=\"{'background-image':'url(' + loadingImage + ')'}\">{{loaderPercentage()}}%</div>\n    </div>\n\n    <div *ngSwitchCase=\"false\" class=\"overlay\">\n\n      <!-- Overlay over the image (hand icon) -->\n      <img class=\"frame\" *ngIf=\"!onlyModal\" src=\"//s3-sa-east-1.amazonaws.com/static-files-prod/platform/drag-horizontally.png\" alt=\"\" (click)=\"onlyModal ? '' : start($event)\">\n\n    </div>\n\n  </div>\n\n  <div [ngSwitch]=\"started ? true : false\">\n\n    <div *ngSwitchCase=\"true\" class=\"frame\">\n      <!-- Images -->\n      <img *ngFor=\"let scene of scenes; let i = index;\"\n        [src]=\"scene\"\n        draggable=\"false\"\n        class=\"no-drag image-only\"\n        (load)=\"markAsLoaded($event)\"\n        [ngClass]=\"frameShown === i && !loadingImages ? 'current-scene' : 'next-scene'\">\n\n    </div>\n\n    <div *ngSwitchCase=\"false\" class=\"frame\">\n\n      <!-- Placeholder image -->\n      <img\n        [src]=\"scenes[frameShown]\"\n        draggable=\"false\"\n        class=\"no-drag\"\n        (click)=\"onlyModal ? onOpen($event) : start($event)\"\n        [ngClass]=\"{'image-only': onlyModal}\">\n\n      <!-- Loading spinner -->\n      <button\n      *ngIf=\"showOpenDialogButton && !onlyModal\"\n      mat-icon-button\n      (click)=\"onOpen($event)\"\n      [matTooltip]=\"'label.open' | translate\"\n      class=\"dialog-button\"\n      type=\"button\"\n      color=\"default\">\n        <mat-icon aria-label=\"Swap between Reference and Render images\" color=\"primary\" contrastFontWithBg >fullscreen</mat-icon>\n      </button>\n\n    </div>\n\n  </div>\n</div>\n`,\n  styles: [`.product-spinner-wrapper{display:block;position:relative}.product-spinner-wrapper:hover .frame{opacity:1}.product-spinner-wrapper:hover .overlay{display:none}.product-spinner-wrapper .frame{display:block;width:100%;background-size:contain;background-repeat:no-repeat;background-position:center center;opacity:.5;transition:opacity .3s ease;cursor:move}.product-spinner-wrapper .frame.image-only{opacity:1;cursor:pointer}.product-spinner-wrapper .frame .current-scene{display:block}.product-spinner-wrapper .frame .next-scene{display:none}.product-spinner-wrapper .frame img{width:100%}.product-spinner-wrapper .overlay{position:absolute;padding:10px;width:20%;margin-left:40%;margin-top:40%;z-index:1;opacity:.4;transition:opacity .2s ease}.product-spinner-wrapper .frame.loader{width:50%;margin:auto}.product-spinner-wrapper .dialog-button{position:absolute;top:0;right:0}.product-spinner-wrapper .loader-percentage{position:relative;top:47%;width:100%;text-align:center;opacity:.5}`]\n})\nexport class DecProductSpinComponent implements OnInit {\n\n  frameShown: number;\n  scenes: string[];\n  loadingImages: boolean;\n  placeholderScene: string;\n  started: boolean;\n  totalImagesLoaded: number;\n  loadingImage = LOADING_IMAGE;\n\n  @Input() looping = false;\n  @Input() onlyModal = false;\n  @Input() FALLBACK_IMAGE: string = FALLBACK_IMAGE;\n  @Input() startInCenter = false;\n  @Input() showOpenDialogButton = true;\n\n  @Input()\n  set spin(spin: any) {\n    if (spin) {\n      const scenes = this.loadScenes(spin);\n\n      const scenesChanged = !this.scenes || (scenes && this.scenes.join() !== scenes.join());\n\n      if (scenesChanged) {\n        this.resetScenesData(scenes);\n        // this.resetStartPositionBasedOnCompany(spin, scenes);\n      }\n\n      this._spin = spin;\n\n    }\n  }\n\n  get spin(): any {\n    return this._spin;\n  }\n\n  @Output() open = new EventEmitter<any>();\n\n  private scenesLen = 0;\n  private mouseDown = false;\n  private lastMouseEvent: MouseEvent;\n  private containerWidth: number;\n  private interval: number;\n  private positionDiff: number;\n  private _spin: any;\n\n  /*\n  * Listening for mouse events\n  * mouseup in ngOnInit because it used doccument as reference\n  */\n\n  // avoid drag\n  @HostListener('dragstart', ['$event'])\n  onDragStart(event) {\n    event.stopPropagation();\n    event.preventDefault();\n    return false;\n  }\n\n  // mousedown\n  @HostListener('mousedown', ['$event'])\n  onMousedown(event) {\n    event.stopPropagation();\n    this.mouseDown = true;\n    this.lastMouseEvent = event;\n  }\n\n  // mousemove\n  @HostListener('mousemove', ['$event'])\n  onMousemove(event: MouseEvent) {\n    if (this.mouseDown && this.started) {\n\n      this.calculatePosition(event);\n\n      // The width is divided by the amount of images. Moving from 0 to 100 will turn 360Â°\n      if (Math.abs(this.positionDiff) >= this.interval) {\n        if (this.positionDiff < 0) {\n          this.goRight();\n        } else {\n          this.goLeft();\n        }\n        this.lastMouseEvent = event;\n      }\n    }\n  }\n\n  constructor(private renderer: Renderer) {}\n\n  ngOnInit() {\n\n    this.frameShown = 0;\n\n    this.renderer.listenGlobal('document', 'mouseup', (event) => {\n      if (this.mouseDown) {\n        this.mouseDown = false;\n      }\n    });\n\n  }\n\n  markAsLoaded = (event) => {\n    this.totalImagesLoaded++;\n    if (this.totalImagesLoaded === this.scenesLen) {\n      this.placeholderScene = this.scenes[0];\n      this.loadingImages = false;\n    }\n  }\n\n  goLeft = () => {\n    if (this.scenes[this.frameShown - 1]) {\n      this.frameShown--;\n    } else if (this.looping) {\n      this.frameShown = this.scenesLen - 1;\n    }\n  }\n\n  goRight = () => {\n    if (this.scenes[this.frameShown + 1]) {\n      this.frameShown++;\n    } else if (this.looping) {\n      this.frameShown = 0;\n    }\n  }\n\n  start = ($event): void => {\n    this.placeholderScene = LOADING_IMAGE;\n    this.totalImagesLoaded = 0;\n    this.loadingImages = true;\n    this.started = true;\n  }\n\n  loaderPercentage = () => {\n    return (this.scenesLen - this.totalImagesLoaded) > 0 ? ((100 / this.scenesLen) * this.totalImagesLoaded).toFixed(1) : 0;\n  }\n\n  onOpen($event) {\n\n    this.open.emit($event);\n\n  }\n\n  /*\n   *\n   * IMPORTANT\n   *\n   * resetStartPositionBasedOnCompany\n   *\n   * This method is responsible for ensuring the Business Rule of the spin sequence\n   * The Home Depot aka customer 100, have a particular behavior starting 180Âº in the middle\n   *\n  */\n  private resetStartPositionBasedOnCompany(spin, scenes) {\n\n    this.startInCenter = spin.company.id === 100 ? true : false;\n\n    this.startInCenter = this.startInCenter && scenes.length <= 16;\n\n  }\n\n  private resetScenesData(scenes) {\n    this.placeholderScene = scenes[0];\n    this.scenesLen = scenes.length;\n    this.scenes = scenes;\n  }\n\n  private loadScenes(spin) {\n    try {\n      const scenes = this.getUrlsFromSysFiles(spin.data.shots);\n      return scenes && scenes.length > 0 ? scenes : [FALLBACK_IMAGE];\n    } catch (error) {\n      return [FALLBACK_IMAGE];\n    }\n  }\n\n  private calculatePosition(event) {\n    const target: any = event['target'];\n\n    if (this.containerWidth !== target.clientWidth) {\n      this.containerWidth =  target.clientWidth;\n      this.interval = (this.containerWidth / this.scenesLen) / 1.6;\n    }\n\n    this.positionDiff = event.clientX - this.lastMouseEvent.clientX;\n  }\n\n  private getUrlsFromSysFiles(sysFiles) {\n    if (!sysFiles) {\n      return;\n    } else {\n      return sysFiles.map(file => {\n        return file.renderFile.fileUrl;\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatButtonModule, MatIconModule, MatTooltipModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { DecProductSpinComponent } from './product-spin.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecProductSpinComponent\n  ],\n  exports: [\n    DecProductSpinComponent\n  ],\n})\n\nexport class DecProductSpinModule { }\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-toolbar-title',\n  template: `<div [routerLink]=\"routerLink\" class=\"dec-sidenav-toolbar-title\">\n  <ng-content></ng-content>\n</div>\n`,\n  styles: [`.dec-sidenav-toolbar-title{outline:0}`]\n})\nexport class DecSidenavToolbarTitleComponent implements OnInit {\n\n  @Input() routerLink;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import {Component, Input, Output, EventEmitter, ContentChild, AfterViewInit, OnInit} from '@angular/core';\nimport { DecSidenavToolbarTitleComponent } from './../dec-sidenav-toolbar-title/dec-sidenav-toolbar-title.component';\n\n@Component({\n  selector: 'dec-sidenav-toolbar',\n  template: `<mat-toolbar [color]=\"color\" *ngIf=\"initialized\">\n\n  <span class=\"items-icon item-left\" *ngIf=\"leftMenuTriggerVisible\" (click)=\"toggleLeftMenu.emit()\">\n    &#9776;\n  </span>\n\n  <span *ngIf=\"customTitle\">\n    <ng-content select=\"dec-sidenav-toolbar-title\"></ng-content>\n  </span>\n\n  <div class=\"ribbon {{ribbon}}\" *ngIf=\"notProduction\">\n    <span>{{label | translate}}</span>\n  </div>\n\n  <span class=\"dec-sidenav-toolbar-custom-content\">\n    <ng-content></ng-content>\n  </span>\n\n  <span class=\"items-spacer\"></span>\n\n  <span class=\"items-icon item-right\" *ngIf=\"rightMenuTriggerVisible\" (click)=\"toggleRightMenu.emit()\">\n    &#9776;\n  </span>\n\n</mat-toolbar>\n`,\n  styles: [`.items-spacer{flex:1 1 auto}.items-icon{cursor:pointer;-webkit-transform:scale(1.2,.8);transform:scale(1.2,.8)}.items-icon.item-right{padding-left:14px}.items-icon.item-left{padding-right:14px}.dec-sidenav-toolbar-custom-content{padding:0 16px;width:100%}.ribbon{transition:all .3s ease;text-transform:lowercase;text-align:center;position:relative;line-height:64px;margin-left:4px;padding:0 20px;height:64px;width:155px;color:#fff;left:20px;top:0}.ribbon.ribbon-hidden{display:none}.ribbon::before{content:'';position:fixed;width:100vw;height:4px;z-index:2;top:64px;left:0}@media screen and (max-width:599px){.ribbon::before{top:56px}}`]\n})\nexport class DecSidenavToolbarComponent implements AfterViewInit, OnInit {\n\n  initialized;\n\n  notProduction = true;\n  ribbon = '';\n  label = '';\n\n  @Input() color;\n\n  @Input() environment;\n\n  @Input() leftMenuTriggerVisible = true;\n\n  @Input() rightMenuTriggerVisible = true;\n\n  @Output() toggleLeftMenu: EventEmitter<any> = new EventEmitter<any>();\n\n  @Output() toggleRightMenu: EventEmitter<any> = new EventEmitter<any>();\n\n  @ContentChild(DecSidenavToolbarTitleComponent) customTitle: DecSidenavToolbarTitleComponent;\n\n  constructor() { }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.initialized = true;\n    }, 1);\n  }\n\n  ngOnInit(): void {\n    if (this.environment === 'local') {\n      this.ribbon = 'ribbon-green';\n      this.label = 'label.local';\n    } else if (this.environment === 'development') {\n      this.ribbon = 'ribbon-blue';\n      this.label = 'label.development';\n    } else if (this.environment === 'qa') {\n      this.ribbon = 'ribbon-red';\n      this.label = 'label.qa';\n    } else if (this.environment === 'active') {\n      this.ribbon = 'ribbon-green';\n      this.label = 'label.active';\n    } else {\n      this.notProduction = false;\n      this.ribbon = 'ribbon-hidden';\n    }\n  }\n}\n","import { Component, ViewChild, TemplateRef, ContentChildren, QueryList, AfterViewInit, Input } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'dec-sidenav-menu-item',\n  template: `<ng-template let-treeLevel=\"treeLevel\" #template>\n\n  <mat-list-item class=\"click dec-sidenav-menu-item\"\n  (click)=\"subitems.length ? toggleSubmenu() : openLink()\"\n  [ngStyle]=\"{backgroundColor: 'rgba(0, 0, 0, ' + treeLevel/6 + ')'}\">\n\n    <div class=\"item-wrapper\">\n\n      <div [ngStyle]=\"{paddingLeft: treeLevel * 16 + 'px'}\" class=\"item-content\">\n        <ng-content></ng-content>\n      </div>\n\n      <a *ngIf=\"subitems.length\" class=\"text-right\">\n        <ng-container [ngSwitch]=\"showSubmenu\">\n          <span *ngSwitchCase=\"false\"><i class=\"arrow down\"></i></span>\n          <span *ngSwitchCase=\"true\"><i class=\"arrow up\"></i></span>\n        </ng-container>\n      </a>\n    </div>\n\n  </mat-list-item>\n\n  <div class=\"subitem-menu\" *ngIf=\"showSubmenu\">\n\n    <dec-sidenav-menu [items]=\"subitems\" [treeLevel]=\"treeLevel\"></dec-sidenav-menu>\n\n  </div>\n\n</ng-template>\n`,\n  styles: [`.dec-sidenav-menu-item{height:56px!important;outline:0}.dec-sidenav-menu-item .item-wrapper{width:100%;display:flex;flex-flow:row no-wrap;justify-content:space-between}.dec-sidenav-menu-item .item-wrapper .item-content ::ng-deep .mat-icon,.dec-sidenav-menu-item .item-wrapper .item-content ::ng-deep i{vertical-align:middle;margin-bottom:5px;margin-right:8px}.dec-sidenav-menu-item .item-wrapper .right{transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}.dec-sidenav-menu-item .item-wrapper .left{transform:rotate(135deg);-webkit-transform:rotate(135deg)}.dec-sidenav-menu-item .item-wrapper .up{transform:rotate(-135deg);-webkit-transform:rotate(-135deg)}.dec-sidenav-menu-item .item-wrapper .down{transform:rotate(45deg);-webkit-transform:rotate(45deg)}.dec-sidenav-menu-item .text-right{text-align:right}.dec-sidenav-menu-item .click{cursor:pointer}.dec-sidenav-menu-item i{border:solid #000;border-width:0 2px 2px 0;display:inline-block;padding:4px}`]\n})\nexport class DecSidenavMenuItemComponent implements AfterViewInit {\n\n  @Input() routerLink;\n\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n\n  @ContentChildren(DecSidenavMenuItemComponent, {descendants: false}) _subitems: QueryList<DecSidenavMenuItemComponent>;\n\n  started;\n\n  showSubmenu = false;\n\n  constructor(\n    private router: Router\n  ) { }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.started = true;\n    }, 1);\n  }\n\n  get subitems() {\n    const subitems = this._subitems.toArray();\n    subitems.splice(0, 1); // removes itself\n    return subitems;\n  }\n\n  toggleSubmenu() {\n    this.showSubmenu = !this.showSubmenu;\n  }\n\n  openLink() {\n    if (this.routerLink) {\n      if (typeof this.routerLink === 'string') {\n        const isNaked = this.routerLink.startsWith('//');\n        const isHttp = this.routerLink.startsWith('http://');\n        const isHttps = this.routerLink.startsWith('https://');\n        if (isNaked || isHttp || isHttps) {\n          window.location.href = this.routerLink;\n        } else {\n          this.router.navigate([this.routerLink]);\n        }\n      } else if (Array.isArray(this.routerLink)) {\n        this.router.navigate(this.routerLink);\n      }\n    }\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-menu-title',\n  template: `<ng-content></ng-content>\n`,\n  styles: [``]\n})\nexport class DecSidenavMenuTitleComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Injectable } from '@angular/core';\n\nexport const STORAGE_DOMAIN = 'decSidenavConfig';\n\n@Injectable()\nexport class DecSidenavService {\n\n  constructor() {}\n\n  setSidenavVisibility(name, visibility) {\n\n    const config = this.getSidenavConfig();\n\n    config[name] = visibility;\n\n    this.setSidenavConfig(config);\n\n  }\n\n  getSidenavVisibility(name) {\n\n    const config = this.getSidenavConfig();\n\n    return config[name];\n\n  }\n\n  private setSidenavConfig(conf) {\n\n    const confString = JSON.stringify(conf);\n\n    localStorage.setItem(STORAGE_DOMAIN, confString);\n\n  }\n\n  private getSidenavConfig() {\n\n    const data = localStorage.getItem(STORAGE_DOMAIN);\n\n    if (data) {\n\n      return JSON.parse(data);\n\n    } else {\n\n      const newConfig: any = {};\n\n      this.setSidenavConfig(newConfig);\n\n      return newConfig;\n\n    }\n\n  }\n\n}\n","import { Component, ContentChildren, QueryList, Input, ContentChild, Output, EventEmitter } from '@angular/core';\nimport { DecSidenavMenuItemComponent } from './../dec-sidenav-menu-item/dec-sidenav-menu-item.component';\nimport { DecSidenavMenuTitleComponent } from './../dec-sidenav-menu-title/dec-sidenav-menu-title.component';\nimport { BehaviorSubject } from 'rxjs';\nimport { DecSidenavService } from './../sidenav.service';\n\n@Component({\n  selector: 'dec-sidenav-menu-left',\n  template: `<ng-container *ngIf=\"customTitle\">\n  <div class=\"menu-title\">\n    <ng-content select=\"dec-dec-sidenav-menu-title\"></ng-content>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"items\">\n  <dec-sidenav-menu [items]=\"items.toArray()\"></dec-sidenav-menu>\n</ng-container>`,\n  styles: [`.menu-title{padding:16px;font-size:24px;font-weight:700}`]\n})\nexport class DecSidenavMenuLeftComponent {\n\n  readonly leftMenuVisible = new BehaviorSubject<boolean>(true);\n\n  readonly leftMenuMode = new BehaviorSubject<string>('side');\n\n  @Input()\n  set open(v: any) {\n    const currentValue = this.leftMenuVisible.value;\n    if (v !== currentValue) {\n      this.leftMenuVisible.next(v);\n      this.decSidenavService.setSidenavVisibility('leftMenuHidden', !v);\n    }\n  }\n\n  get open() {\n    return this.leftMenuVisible.value;\n  }\n\n  @Input()\n  set mode(v: any) {\n    const currentValue = this.leftMenuMode.value;\n\n    if (v !== currentValue) {\n      this.leftMenuMode.next(v);\n    }\n  }\n\n  get mode() {\n    return this.leftMenuMode.value;\n  }\n\n  @Input() persistVisibilityMode: boolean;\n\n  @ContentChildren(DecSidenavMenuItemComponent, {descendants: false}) items: QueryList<DecSidenavMenuItemComponent>;\n\n  @ContentChild(DecSidenavMenuTitleComponent) customTitle: DecSidenavMenuTitleComponent;\n\n  @Output() openedChange = new EventEmitter<boolean>();\n\n  @Output() modeChange = new EventEmitter<string>();\n\n  constructor(\n    private decSidenavService: DecSidenavService\n  ) {\n    this.subscribeAndExposeSidenavEvents();\n  }\n\n  private subscribeAndExposeSidenavEvents() {\n\n    this.leftMenuVisible.subscribe(value => {\n      this.openedChange.emit(value);\n    });\n\n    this.leftMenuMode.subscribe(value => {\n      this.modeChange.emit(value);\n    });\n\n  }\n\n}\n","import { Component, ContentChildren, QueryList, Input, ContentChild, Output, EventEmitter } from '@angular/core';\nimport { DecSidenavMenuItemComponent } from './../dec-sidenav-menu-item/dec-sidenav-menu-item.component';\nimport { DecSidenavMenuTitleComponent } from './../dec-sidenav-menu-title/dec-sidenav-menu-title.component';\nimport { BehaviorSubject } from 'rxjs';\nimport { DecSidenavService } from './../sidenav.service';\n\n@Component({\n  selector: 'dec-sidenav-menu-right',\n  template: `<ng-container *ngIf=\"customTitle\">\n  <div class=\"menu-title\">\n    <ng-content select=\"dec-dec-sidenav-menu-title\"></ng-content>\n  </div>\n</ng-container>\n\n<ng-container *ngIf=\"items\">\n  <dec-sidenav-menu [items]=\"items.toArray()\"></dec-sidenav-menu>\n</ng-container>`,\n  styles: [`.menu-title{padding:16px;font-size:24px;font-weight:700}`]\n})\nexport class DecSidenavMenuRightComponent {\n\n  readonly rightMenuVisible = new BehaviorSubject<boolean>(true);\n\n  readonly rightMenuMode = new BehaviorSubject<string>('side');\n\n  @Input()\n  set open(v: any) {\n    const currentValue = this.rightMenuVisible.value;\n\n    if (v !== currentValue) {\n      this.rightMenuVisible.next(v);\n      this.decSidenavService.setSidenavVisibility('rightMenuHidden', !v);\n    }\n  }\n\n  get open() {\n    return this.rightMenuVisible.value;\n  }\n\n  @Input()\n  set mode(v: any) {\n    const currentValue = this.rightMenuMode.value;\n\n    if (v !== currentValue) {\n      this.rightMenuMode.next(v);\n    }\n  }\n\n  get mode() {\n    return this.rightMenuMode.value;\n  }\n\n  @Input() persistVisibilityMode: boolean;\n\n  @ContentChildren(DecSidenavMenuItemComponent, {descendants: false}) items: QueryList<DecSidenavMenuItemComponent>;\n\n  @ContentChild(DecSidenavMenuTitleComponent) customTitle: DecSidenavMenuTitleComponent;\n\n  @Output() openedChange = new EventEmitter<boolean>();\n\n  @Output() modeChange = new EventEmitter<string>();\n\n  constructor(\n    private decSidenavService: DecSidenavService\n  ) {\n    this.subscribeAndExposeSidenavEvents();\n  }\n\n  private subscribeAndExposeSidenavEvents() {\n\n    this.rightMenuVisible.subscribe(value => {\n      this.openedChange.emit(value);\n    });\n\n    this.rightMenuMode.subscribe(value => {\n      this.modeChange.emit(value);\n    });\n\n  }\n\n}\n","import { Component, Input, ContentChild, AfterViewInit, ViewChild } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { DecSidenavToolbarComponent } from './dec-sidenav-toolbar/dec-sidenav-toolbar.component';\nimport { DecSidenavMenuLeftComponent } from './dec-sidenav-menu-left/dec-sidenav-menu-left.component';\nimport { DecSidenavMenuRightComponent } from './dec-sidenav-menu-right/dec-sidenav-menu-right.component';\nimport { MatSidenav } from '@angular/material';\nimport { DecSidenavService } from './sidenav.service';\n\n@Component({\n  selector: 'dec-sidenav',\n  template: `<div class=\"dec-sidenav-wraper\">\n  <!-- TOOLBAR -->\n  <ng-container *ngIf=\"toolbar\">\n    <ng-content select=\"dec-sidenav-toolbar\"></ng-content>\n  </ng-container>\n  <!-- / TOOLBAR -->\n\n  <!-- PROGRESS BAR -->\n  <div class=\"progress-bar-wrapper\" *ngIf=\"progressBarVisible | async\">\n    <mat-progress-bar mode=\"indeterminate\" color=\"accent\"></mat-progress-bar>\n  </div>\n  <!-- / PROGRESS BAR -->\n\n  <mat-sidenav-container [ngClass]=\"{'with-toolbar': toolbar}\">\n\n    <!-- LEFT MENU -->\n    <mat-sidenav *ngIf=\"leftMenu\"\n    [mode]=\"leftMenu.leftMenuMode | async\"\n    [opened]=\"leftMenu.leftMenuVisible | async\"\n    position=\"start\"\n    (openedChange)=\"leftSidenavOpenedChange($event)\"\n    #leftSidenav>\n      <ng-content select=\"dec-sidenav-menu-left\"></ng-content>\n    </mat-sidenav>\n    <!-- / LEFT MENU -->\n\n    <!-- CONTENT -->\n    <ng-content select=\"dec-sidenav-content\"></ng-content>\n    <!-- / CONTENT -->\n\n    <!-- RIGHT MENU -->\n    <mat-sidenav *ngIf=\"rightMenu\"\n    [mode]=\"rightMenu.rightMenuMode | async\"\n    [opened]=\"rightMenu.rightMenuVisible | async\"\n    position=\"end\"\n    (openedChange)=\"rightSidenavOpenedChange($event)\"\n    #rightSidenav>\n      <ng-content select=\"dec-sidenav-menu-right\"></ng-content>\n    </mat-sidenav>\n    <!-- / RIGHT MENU -->\n\n  </mat-sidenav-container>\n\n</div>\n`,\n  styles: [`.dec-sidenav-wraper .mat-sidenav-container{height:100vh}.dec-sidenav-wraper .mat-sidenav-container.with-toolbar{height:calc(100vh - 64px)}.dec-sidenav-wraper .mat-sidenav-container .mat-sidenav{width:256px}.dec-sidenav-wraper .progress-bar-wrapper{position:fixed;top:60px;left:0;width:100%}`]\n})\nexport class DecSidenavComponent implements AfterViewInit {\n\n  readonly progressBarVisible = new BehaviorSubject<boolean>(false);\n\n  @ContentChild(DecSidenavToolbarComponent) toolbar: DecSidenavToolbarComponent;\n\n  @ContentChild(DecSidenavMenuLeftComponent)\n  set leftMenu(v: DecSidenavMenuLeftComponent) {\n    this._leftMenu = v;\n    if (v) {\n      this.setInitialLeftMenuVisibilityModes();\n    }\n  }\n  get leftMenu() {\n    return this._leftMenu;\n  }\n\n  @ContentChild(DecSidenavMenuRightComponent)\n  set rightMenu(v: DecSidenavMenuRightComponent) {\n    this._rightMenu = v;\n    if (v) {\n      this.setInitialRightMenuVisibilityModes();\n    }\n  }\n  get rightMenu() {\n    return this._rightMenu;\n  }\n\n  @ViewChild('leftSidenav') leftSidenav: MatSidenav;\n\n  @ViewChild('rightSidenav') rightSidenav: MatSidenav;\n\n  private _leftMenu: DecSidenavMenuLeftComponent;\n\n  private _rightMenu: DecSidenavMenuRightComponent;\n\n  @Input()\n  set loading(v: any) {\n    const currentValue = this.progressBarVisible.value;\n\n    if (v !== currentValue) {\n      this.progressBarVisible.next(v);\n    }\n  }\n\n  get loading() {\n    return this.progressBarVisible.value;\n  }\n\n  constructor(\n    private decSidenavService: DecSidenavService\n  ) {}\n\n  ngAfterViewInit() {\n\n    this.detectAndShowChildComponents();\n\n    this.subscribeToToolbarEvents();\n\n  }\n\n  // API //\n  openBothMenus() {\n    this.openLeftMenu();\n    this.openRightMenu();\n  }\n\n  openLeftMenu() {\n    this.leftMenu.leftMenuVisible.next(true);\n  }\n\n  openRightMenu() {\n    this.rightMenu.rightMenuVisible.next(true);\n  }\n\n  closeBothMenus() {\n    this.closeLeftMenu();\n    this.closeRightMenu();\n  }\n\n  closeLeftMenu() {\n    this.leftMenu.leftMenuVisible.next(false);\n  }\n\n  closeRightMenu() {\n    this.rightMenu.rightMenuVisible.next(false);\n  }\n\n  toggleBothMenus() {\n    this.toggleLeftMenu();\n    this.toggleRightMenu();\n  }\n\n  toggleLeftMenu() {\n    this.leftMenu.open = !this.leftMenu.leftMenuVisible.value;\n  }\n\n  toggleRightMenu() {\n    this.rightMenu.open = !this.rightMenu.rightMenuVisible.value;\n  }\n\n  setBothMenusMode(mode: 'over' | 'push' | 'side' = 'side') {\n    this.setLeftMenuMode(mode);\n    this.setRightMenuMode(mode);\n  }\n\n  setLeftMenuMode(mode: 'over' | 'push' | 'side' = 'side') {\n    this.leftMenu.leftMenuMode.next(mode);\n  }\n\n  setRightMenuMode(mode: 'over' | 'push' | 'side' = 'side') {\n    this.rightMenu.rightMenuMode.next(mode);\n  }\n\n  toggleProgressBar() {\n    this.loading = !this.progressBarVisible.value;\n  }\n\n  showProgressBar() {\n    this.progressBarVisible.next(true);\n  }\n\n  hideProgressBar() {\n    this.progressBarVisible.next(false);\n  }\n\n  leftSidenavOpenedChange(openedStatus) {\n    this.leftMenu.open = openedStatus;\n    this.leftMenu.leftMenuVisible.next(openedStatus);\n  }\n\n  rightSidenavOpenedChange(openedStatus) {\n    this.rightMenu.open = openedStatus;\n    this.rightMenu.rightMenuVisible.next(openedStatus);\n  }\n\n  private detectAndShowChildComponents() {\n\n    this.toolbar.leftMenuTriggerVisible = this.leftMenu ? true : false;\n\n    this.toolbar.rightMenuTriggerVisible = this.rightMenu ? true : false;\n\n  }\n\n  private subscribeToToolbarEvents() {\n\n    if (this.toolbar) {\n\n      this.toolbar.toggleLeftMenu.subscribe(() => {\n        this.leftSidenav.toggle();\n      });\n\n      this.toolbar.toggleRightMenu.subscribe(() => {\n        this.rightSidenav.toggle();\n      });\n\n    }\n\n  }\n\n  private setInitialRightMenuVisibilityModes() {\n    this.rightMenu.rightMenuVisible.next(!this.decSidenavService.getSidenavVisibility('rightMenuHidden'));\n  }\n\n  private setInitialLeftMenuVisibilityModes() {\n    this.leftMenu.leftMenuVisible.next(!this.decSidenavService.getSidenavVisibility('leftMenuHidden'));\n  }\n\n}\n","import { Component, OnInit, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-content',\n  template: `<div class=\"dec-sidenav-container-wrapper\">\n  <ng-content></ng-content>\n</div>\n`,\n  styles: [`.dec-sidenav-container-wrapper{min-width:1024px;padding:32px}`]\n})\nexport class DecSidenavContentComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'dec-sidenav-menu',\n  template: `<mat-list>\n  <ng-container *ngFor=\"let item of items\">\n    <ng-container *ngIf=\"item.started && item.template ? true : false\">\n      <ng-template\n      [ngTemplateOutlet]=\"item.template\"\n      [ngTemplateOutletContext]=\"{treeLevel: treeLevel + 1}\"\n      ></ng-template>\n    </ng-container>\n  </ng-container>\n</mat-list>\n`,\n  styles: [`.mat-list{padding-top:0}`]\n})\nexport class DecSidenavMenuComponent {\n\n  @Input() items = [];\n\n  @Input() treeLevel = -1;\n\n  constructor() { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSidenavComponent } from './sidenav.component';\nimport { MatSidenavModule, MatListModule, MatIconModule, MatToolbarModule, MatProgressBarModule } from '@angular/material';\nimport { RouterModule } from '@angular/router';\nimport { DecSidenavContentComponent } from './dec-sidenav-content/dec-sidenav-content.component';\nimport { DecSidenavMenuItemComponent } from './dec-sidenav-menu-item/dec-sidenav-menu-item.component';\nimport { DecSidenavMenuLeftComponent } from './dec-sidenav-menu-left/dec-sidenav-menu-left.component';\nimport { DecSidenavMenuRightComponent } from './dec-sidenav-menu-right/dec-sidenav-menu-right.component';\nimport { DecSidenavMenuComponent } from './dec-sidenav-menu/dec-sidenav-menu.component';\nimport { DecSidenavMenuTitleComponent } from './dec-sidenav-menu-title/dec-sidenav-menu-title.component';\nimport { DecSidenavToolbarComponent } from './dec-sidenav-toolbar/dec-sidenav-toolbar.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { DecSidenavToolbarTitleComponent } from './dec-sidenav-toolbar-title/dec-sidenav-toolbar-title.component';\nimport { DecSidenavService } from './sidenav.service';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatSidenavModule,\n    MatListModule,\n    MatIconModule,\n    MatToolbarModule,\n    MatProgressBarModule,\n    RouterModule,\n    HttpClientModule,\n    TranslateModule,\n  ],\n  declarations: [\n    DecSidenavComponent,\n    DecSidenavContentComponent,\n    DecSidenavMenuItemComponent,\n    DecSidenavMenuLeftComponent,\n    DecSidenavMenuRightComponent,\n    DecSidenavMenuComponent,\n    DecSidenavMenuTitleComponent,\n    DecSidenavToolbarComponent,\n    DecSidenavToolbarTitleComponent,\n  ],\n  exports: [\n    DecSidenavComponent,\n    DecSidenavContentComponent,\n    DecSidenavMenuItemComponent,\n    DecSidenavMenuLeftComponent,\n    DecSidenavMenuRightComponent,\n    DecSidenavMenuTitleComponent,\n    DecSidenavToolbarComponent,\n    DecSidenavToolbarTitleComponent,\n  ],\n  providers: [\n    DecSidenavService,\n  ]\n})\nexport class DecSidenavModule { }\n","import { Component, Input } from '@angular/core';\nimport { Step } from './dec-steps-list.models';\n\n@Component({\n  selector: 'dec-steps-list',\n  template: `<div class=\"history-container\" [ngClass]=\"{'limited-height': maxHeight}\" [style.maxHeight]=\"maxHeight || '100%'\">\n\n  <div fxLayout=\"row\" fxLayoutAlign=\"start center\" fxLayoutGap=\"8px\" class=\"dec-color-grey-dark\">\n\n    <mat-icon fxFlex=\"24px\">{{icon}}</mat-icon>\n\n    <span class=\"bigger-font\">{{ title }}</span>\n\n  </div>\n\n  <br>\n\n  <div fxLayout=\"column\" fxLayoutGap=\"16px\">\n\n    <div class=\"history-item\" *ngFor=\"let item of stepsList; let i = index\">\n\n      <div fxLayout=\"row\" fxLayoutGap=\"8px\" fxLayoutAlign=\"left start\" class=\"dec-color-grey\">\n\n        <mat-icon class=\"smaller-icon dec-color-grey-dark\" fxFlex=\"24px\">{{ i === stepsList.length - 1 ? 'radio_button_unchecked' : 'lens' }}</mat-icon>\n\n        <div fxLayout=\"column\" fxLayoutGap=\"4px\">\n\n          <div>\n\n            <strong *ngIf=\"item.title\">{{ item.title }}</strong>\n\n            <span *ngIf=\"item.date\">\n              {{ item.date | date }}\n              <span *ngIf=\"showTime\"> | {{ item.date | date: 'mediumTime' }}</span>\n            </span>\n\n          </div>\n\n          <div *ngIf=\"item.description\" class=\"dec-color-grey-dark\">\n            <strong class=\"dec-color-black\">{{ item.description }}</strong>\n          </div>\n\n        </div>\n\n      </div>\n\n    </div>\n\n  </div>\n\n\n</div>\n`,\n  styles: [`.mat-tab-body-content{padding:16px 0}.mat-form-field-prefix{margin-right:8px!important}.mat-form-field-suffix{margin-left:8px!important}.mat-elevation-z0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.mat-elevation-z1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.mat-elevation-z2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.mat-elevation-z3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.mat-elevation-z4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.mat-elevation-z5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.mat-elevation-z6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-elevation-z7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}.mat-elevation-z8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.mat-elevation-z9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)}.mat-elevation-z10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)}.mat-elevation-z11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)}.mat-elevation-z12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.mat-elevation-z13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)}.mat-elevation-z14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)}.mat-elevation-z15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}.mat-elevation-z16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}.mat-elevation-z17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)}.mat-elevation-z18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)}.mat-elevation-z19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)}.mat-elevation-z20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)}.mat-elevation-z21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)}.mat-elevation-z22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)}.mat-elevation-z23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)}.mat-elevation-z24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)}.mat-badge-content{font-weight:600;font-size:12px;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-badge-small .mat-badge-content{font-size:6px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography h1{font:400 24px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography h2{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography h3{font:400 16px/28px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography h4{font:400 15px/24px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 16px}.mat-h5,.mat-typography h5{font:400 11.62px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-h6,.mat-typography h6{font:400 9.38px/20px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 12px}.mat-body-2,.mat-body-strong{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-body,.mat-body-1,.mat-typography{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-body p,.mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-caption,.mat-small{font:400 12px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 56px;letter-spacing:-.05em}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.02em}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px;letter-spacing:-.005em}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Roboto,\"Helvetica Neue\",sans-serif;margin:0 0 64px}.mat-bottom-sheet-container{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-card-title{font-size:24px;font-weight:400}.mat-card-content,.mat-card-header .mat-card-title,.mat-card-subtitle{font-size:14px}.mat-checkbox{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:13px;line-height:18px}.mat-chip .mat-chip-remove.mat-icon,.mat-chip .mat-chip-trailing-icon.mat-icon{font-size:18px}.mat-table{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif}.mat-expansion-panel-header{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field{width:100%;font-size:inherit;font-weight:400;line-height:1.125;font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.34375em) scale(.75);transform:translateY(-1.34375em) scale(.75);width:133.33333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.34374em) scale(.75);transform:translateY(-1.34374em) scale(.75);width:133.33334%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.66667em;top:calc(100% - 1.79167em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);-ms-transform:translateY(-1.28125em) scale(.75);width:133.33333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);-ms-transform:translateY(-1.28124em) scale(.75);width:133.33334%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);-ms-transform:translateY(-1.28123em) scale(.75);width:133.33335%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.54167em;top:calc(100% - 1.66667em)}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-.59375em) scale(.75);transform:translateY(-.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-.59374em) scale(.75);transform:translateY(-.59374em) scale(.75);width:133.33334%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-outline{bottom:1.34375em}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{-webkit-transform:translateY(-1.59375em) scale(.75);transform:translateY(-1.59375em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{-webkit-transform:translateY(-1.59374em) scale(.75);transform:translateY(-1.59374em) scale(.75);width:133.33334%}.mat-grid-tile-footer,.mat-grid-tile-header{font-size:14px}.mat-grid-tile-footer .mat-line,.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2),.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font:400 14px/20px Roboto,\"Helvetica Neue\",sans-serif}.mat-slider-thumb-label-text{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-stepper-horizontal,.mat-stepper-vertical{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tab-label,.mat-tab-link{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Roboto,\"Helvetica Neue\",sans-serif;margin:0}.mat-tooltip{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:9px;padding-bottom:9px}.mat-list-item,.mat-list-option{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-list .mat-list-item,.mat-nav-list .mat-list-item,.mat-selection-list .mat-list-item{font-size:16px}.mat-list .mat-list-item .mat-line,.mat-nav-list .mat-list-item .mat-line,.mat-selection-list .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-list-option,.mat-nav-list .mat-list-option,.mat-selection-list .mat-list-option{font-size:16px}.mat-list .mat-list-option .mat-line,.mat-nav-list .mat-list-option .mat-line,.mat-selection-list .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list .mat-subheader,.mat-nav-list .mat-subheader,.mat-selection-list .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px;font-weight:500}.mat-list[dense] .mat-list-item,.mat-nav-list[dense] .mat-list-item,.mat-selection-list[dense] .mat-list-item{font-size:12px}.mat-list[dense] .mat-list-item .mat-line,.mat-nav-list[dense] .mat-list-item .mat-line,.mat-selection-list[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-list[dense] .mat-list-option,.mat-nav-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option,.mat-selection-list[dense] .mat-list-item .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option{font-size:12px}.mat-list[dense] .mat-list-option .mat-line,.mat-nav-list[dense] .mat-list-option .mat-line,.mat-selection-list[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-nav-list[dense] .mat-list-option .mat-line:nth-child(n+2),.mat-selection-list[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list[dense] .mat-subheader,.mat-nav-list[dense] .mat-subheader,.mat-selection-list[dense] .mat-subheader{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Roboto,\"Helvetica Neue\",sans-serif}.mat-simple-snackbar{font-family:Roboto,\"Helvetica Neue\",sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Roboto,\"Helvetica Neue\",sans-serif}.mat-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden}@media screen and (-ms-high-contrast:active){.mat-ripple{display:none}}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,-webkit-transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1);transition:opacity,transform 0s cubic-bezier(0,0,.2,1),-webkit-transform 0s cubic-bezier(0,0,.2,1);-webkit-transform:scale(0);transform:scale(0)}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;outline:0;-webkit-appearance:none;-moz-appearance:none}.cdk-global-overlay-wrapper,.cdk-overlay-container{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}@media screen and (-ms-high-contrast:active){.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.288)}.cdk-overlay-transparent-backdrop,.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-text-field-autofill-monitored:-webkit-autofill{-webkit-animation-name:cdk-text-field-autofill-start;animation-name:cdk-text-field-autofill-start}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){-webkit-animation-name:cdk-text-field-autofill-end;animation-name:cdk-text-field-autofill-end}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.history-container{margin:1.5em 0}.history-container.limited-height{overflow-y:auto}.history-container .history-item:not(:last-child){position:relative}.history-container .history-item:not(:last-child)::before{content:\"\";position:absolute;height:3em;width:2px;background-color:#91979c;left:11px;top:14px}.history-container .history-item .smaller-icon{font-size:16px;display:flex;justify-content:center;margin-top:2px}`]\n})\nexport class DecStepsListComponent {\n\n  @Input() icon = 'history';\n\n  @Input() title = '';\n\n  @Input() showTime: boolean;\n\n  @Input() maxHeight;\n\n  @Input() stepsList: Step[] = [];\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecStepsListComponent } from './dec-steps-list.component';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { MatIconModule } from '@angular/material';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FlexLayoutModule,\n    MatIconModule,\n  ],\n  declarations: [DecStepsListComponent],\n  exports: [DecStepsListComponent],\n})\nexport class DecStepsListModule { }\n","import { Component, OnInit, forwardRef, Input } from '@angular/core';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\n//  Used to extend ngForms functions\nexport const CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecStringArrayInputComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-string-array-input',\n  template: `<ng-container [ngSwitch]=\"mode == 'input'\">\n\n  <mat-form-field *ngSwitchCase=\"true\">\n    <input matInput\n    type=\"text\"\n    [name]=\"name\"\n    [(ngModel)]=\"valueAsString\"\n    [placeholder]=\"placeholder\">\n  </mat-form-field>\n\n  <mat-form-field *ngSwitchCase=\"false\">\n    <textarea matInput\n    [rows]=\"rows\"\n    [name]=\"name\"\n    [(ngModel)]=\"valueAsString\"\n    [placeholder]=\"placeholder\">\n    </textarea>\n  </mat-form-field>\n\n</ng-container>\n`,\n  styles: [``],\n  providers: [CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecStringArrayInputComponent implements OnInit {\n\n  @Input() name;\n\n  @Input() placeholder;\n\n  @Input() mode = 'textarea';\n\n  @Input() rows = 3;\n\n  /*\n  ** ngModel API\n  */\n\n  // Get accessor\n  get value(): string[] {\n\n    return this.innerArray;\n\n  }\n\n  // Set accessor including call the onchange callback\n  set value(v: string[]) {\n\n    if (v !== this.innerArray) {\n\n      this.innerArray = v;\n\n      this.onChangeCallback(v);\n\n    }\n\n  }\n\n  get valueAsString(): string {\n\n    return this.getArrayAsString();\n\n  }\n\n  // Set accessor including call the onchange callback\n  set valueAsString(v: string) {\n\n    if (v !== this.innerArray) {\n\n      this.value = this.stringToArray(v);\n\n    }\n\n  }\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerArray: any = '';\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  //\n  getArrayAsString() {\n\n    return this.arrayToString(this.value);\n\n  }\n\n  // From ControlValueAccessor interface\n  writeValue(value: string[]) {\n\n    if (value !== this.value) {\n\n      this.value = value;\n\n    }\n\n  }\n\n  // From ControlValueAccessor interface\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  // From ControlValueAccessor interface\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  private stringToArray(stringOfArray: string): string[] {\n    if (stringOfArray) {\n\n      const regExp = /[^,\\s][^,\\s]*[^,\\s]*/g;\n\n      return stringOfArray.match(regExp);\n\n    }\n  }\n\n  private arrayToString(arrayOfstring: string[]): string {\n\n    if (arrayOfstring) {\n\n      return arrayOfstring.join(', ');\n\n    }\n\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatInputModule } from '@angular/material';\nimport { FormsModule } from '@angular/forms';\nimport { DecStringArrayInputComponent } from './dec-string-array-input.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatInputModule,\n    FormsModule\n  ],\n  declarations: [DecStringArrayInputComponent],\n  exports: [DecStringArrayInputComponent],\n})\nexport class DecStringArrayInputModule { }\n","import { AfterViewInit, Component, ContentChild, Input, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-tab',\n  template: ``,\n  styles: [``]\n})\nexport class DecTabComponent implements AfterViewInit {\n\n  @Input() label: string;\n\n  @Input() name: string;\n\n  @Input() total: string;\n\n  @ContentChild(TemplateRef) content: TemplateRef<DecTabComponent>;\n\n  @Input() disabled: boolean;\n\n  constructor() {}\n\n  ngAfterViewInit() {\n    this.ensureTabName();\n  }\n\n  private ensureTabName = () => {\n    if (!this.name) {\n      throw new Error('DecTabComponentError: The <dec-tab> component must have an unique name. Please, ensure that you have passed an unique namme to the component.');\n    }\n  }\n}\n","import { Component, OnInit, Input, ContentChild, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'dec-tab-menu',\n  template: `<p>\n  tab-menu works!\n</p>\n`,\n  styles: [``]\n})\nexport class DecTabMenuComponent implements OnInit {\n\n  @Input() activeTab: string;\n\n  @ContentChild(TemplateRef) content: TemplateRef<DecTabMenuComponent>;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { AfterViewInit, Component, EventEmitter, Input, OnDestroy, OnInit, Output, ContentChildren, QueryList, ContentChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { DecTabComponent } from './tab/tab.component';\nimport { DecTabMenuComponent } from './tab-menu/tab-menu.component';\n\n@Component({\n  selector: 'dec-tabs',\n  template: `<div *ngIf=\"!hidden\">\n\n  <!-- TABS -->\n  <mat-tab-group [selectedIndex]=\"activeTabIndex\" (focusChange)=\"onChangeTab($event)\" [dynamicHeight]=\"true\">\n\n    <!-- TAB -->\n    <mat-tab *ngFor=\"let tab of tabs;\" [disabled]=\"tab.disabled\">\n\n      <!-- TAB LABEL -->\n      <ng-template mat-tab-label>\n        {{ tab.label }}\n        <span class=\"badge badge-pill badge-small\" *ngIf=\"tab.total >= 0\">{{ parseTotal(tab.total) }}</span>\n      </ng-template>\n\n      <!-- TAB CONTENT WRAPPER -->\n      <ng-container *ngIf=\"shoulTabBeDisplayed(tab)\">\n\n        <!-- TAB MENU -->\n        <div *ngIf=\"tabMenuComponent\" class=\"menu-wrapper\">\n          <ng-container *ngTemplateOutlet=\"tabMenuComponent.content; context: { activeTab: activeTab }\"></ng-container>\n        </div>\n\n        <!-- TABS CONTENT -->\n        <div [ngClass]=\"{'tab-padding': padding}\">\n\n          <ng-container *ngTemplateOutlet=\"tab.content\"></ng-container>\n\n        </div>\n\n      </ng-container>\n\n    </mat-tab>\n\n  </mat-tab-group>\n\n</div>\n`,\n  styles: [`.menu-wrapper{text-align:right;padding:8px 0}.tab-padding{padding:16px 0}`]\n})\nexport class DecTabsComponent implements OnInit, AfterViewInit, OnDestroy {\n\n  @ContentChildren(DecTabComponent) tabs: QueryList<DecTabComponent>;\n\n  @ContentChild(DecTabMenuComponent) tabMenuComponent: DecTabMenuComponent;\n\n  @Input() hidden; // hides the tabs group to reload its contents\n\n  @Input() persist = true;\n\n  @Input() destroyOnBlur = false;\n\n  @Input() name: string;\n\n  @Input() padding = true;\n\n  @Input()\n  set activeTab(v: string) {\n    if (v && this._activeTab !== v) {\n      this._activeTab = v;\n      this.persistTab(v);\n    }\n  }\n  get activeTab() {\n    return this._activeTab;\n  }\n\n  @Output() activeTabChange: EventEmitter<string> = new EventEmitter<string>();\n\n  get activeTabIndex(): number {\n    return this._activeTabIndex;\n  }\n\n  get activeTabObject(): any {\n    return this._activeTabObject;\n  }\n\n  private _activeTab: string;\n\n  private _activeTabIndex: number;\n\n  private _activeTabObject: any;\n\n  private activatedTabs: any = {};\n\n  private queryParamsSubscription: Subscription;\n\n  private pathFromRoot = '';\n\n  constructor(private route: ActivatedRoute, private router: Router) {}\n\n  ngOnInit() {\n    this.ensureUniqueName();\n    this.watchTabInUrlQuery();\n  }\n\n  ngAfterViewInit() {\n    this.ensureUniqueTabNames()\n    .then(() => {\n      const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n      if (queryParams && queryParams[this.componentTabName()]) {\n        const currentTab = queryParams[this.componentTabName()];\n        this.selectTab(currentTab);\n      } else {\n        this.startSelectedTab();\n      }\n    });\n\n  }\n\n  ngOnDestroy() {\n    this.stopWatchingTabInUrlQuery();\n  }\n\n  shoulTabBeDisplayed(tab) {\n    const isSelected = this._activeTabObject === tab;\n    const isActivated = this.activatedTabs[tab.name];\n    return isSelected || (!this.destroyOnBlur && isActivated);\n  }\n\n  onChangeTab($event) {\n    const activeTabObject = this.tabs.toArray()[$event.index];\n    this.activeTab = activeTabObject.name;\n  }\n\n  parseTotal(total) {\n\n    return total !== null && total >= 0 ?  total : '?';\n\n  }\n\n  reset() {\n\n    this.hidden = true;\n\n    setTimeout(() => {\n\n      this.hidden = false;\n\n    }, 10);\n\n  }\n\n  private componentTabName() {\n    return this.name + '-tab';\n  }\n\n  private ensureUniqueName = () => {\n    if (!this.name) {\n      throw new Error('DecTabComponentError: The tab component must have an unique name. Please, ensure that you have passed an unique namme to the component.');\n    }\n  }\n\n  /* ensureUniqueTabNames\n   * This method prevents the use of the same name for more than one tab\n   * what would ending up conflicting the tabs activation once this is done via tab name\n  */\n\n  private ensureUniqueTabNames = () => {\n    return new Promise<any>((res, rej) => {\n      const names = {};\n      this.tabs.toArray().forEach(tab => {\n        if (!names[tab.name]) {\n          names[tab.name] = true;\n        } else {\n           throw new Error(`DecTabComponentError: The <dec-tabs> component must have an unique name. The name ${tab.name} was used more than once.`);\n        }\n      });\n      res();\n    });\n  }\n\n  private persistTab(tab) {\n    if (this.persist) {\n      const queryParams: Params = Object.assign({}, this.route.snapshot.queryParams);\n      queryParams[this.componentTabName()] = tab;\n      this.router.navigate(['.'], { relativeTo: this.route, queryParams: queryParams, replaceUrl: true });\n    }\n  }\n\n  private selectTab = (tabName) => {\n    if (this.tabs) {\n      this.activeTab = tabName;\n      this.activatedTabs[tabName] = true;\n      this._activeTabObject = this.tabs.toArray().filter(tab => tab.name === tabName)[0];\n      this._activeTabIndex = this.tabs.toArray().indexOf(this._activeTabObject);\n      this.activeTabChange.emit(tabName);\n    }\n  }\n\n  private startSelectedTab() {\n    const activeTab = this.activeTab || this.tabs.toArray()[0].name;\n    setTimeout(() => { // avoid change after component checked error\n      this.selectTab(activeTab);\n    }, 1);\n  }\n\n  private watchTabInUrlQuery() {\n    this.queryParamsSubscription = this.route.queryParams\n    .subscribe((params) => {\n      const tab: string = params[this.componentTabName()];\n      this.selectTab(tab);\n    });\n  }\n\n  private stopWatchingTabInUrlQuery() {\n    this.queryParamsSubscription.unsubscribe();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTabsModule } from '@angular/material';\nimport { DecTabComponent } from './tab.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatTabsModule\n  ],\n  declarations: [DecTabComponent],\n  exports: [DecTabComponent],\n})\nexport class DecTabModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MatTabsModule } from '@angular/material';\nimport { DecTabsComponent } from './tabs.component';\nimport { DecTabModule } from './tab/tab.module';\nimport { DecTabMenuComponent } from './tab-menu/tab-menu.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    DecTabModule\n  ],\n  declarations: [DecTabsComponent, DecTabMenuComponent],\n  exports: [\n    DecTabsComponent,\n    DecTabMenuComponent,\n    DecTabModule\n  ],\n})\nexport class DecTabsModule { }\n","import { Component, EventEmitter, Input, Output, ViewChild, ElementRef, forwardRef } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { HttpEventType, HttpResponse } from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { UploadProgress } from './upload.models';\n\nconst UPLOAD_ENDPOINT = '/upload';\n\n//  Return an empty function to be used as default trigger functions\nconst noop = () => {\n};\n\nexport const DEC_UPLOAD_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => DecUploadComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'dec-upload',\n  template: `<ng-container [ngSwitch]=\"(progresses && progresses.length) ? true : false\">\n  <ng-container *ngSwitchCase=\"false\">\n    <span (click)=\"openFileSelection()\" class=\"click\">\n      <ng-content></ng-content>\n    </span>\n  </ng-container>\n  <ng-container *ngSwitchCase=\"true\">\n    <div *ngFor=\"let uploadProgress of progresses\" class=\"dec-upload-progress-wrapper\">\n      <mat-progress-bar\n        color=\"primary\"\n        [mode]=\"getProgressbarMode(uploadProgress)\"\n        [value]=\"getProgressValueBasedOnMode(uploadProgress)\">\n      </mat-progress-bar>\n      <div class=\"text-center\">\n        <small>\n          {{ uploadProgress.value }}% - {{ uploadProgress.fileName }}\n        </small>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n\n\n<input type=\"file\" #inputFile (change)=\"filesChanged($event)\" [multiple]=\"multiple\" [disabled]=\"disabled\">\n\n`,\n  styles: [`.click{cursor:pointer}input{display:none}.text-center{text-align:center}.dec-upload-progress-wrapper{padding:8px 0}`],\n  providers: [DEC_UPLOAD_CONTROL_VALUE_ACCESSOR]\n})\nexport class DecUploadComponent implements ControlValueAccessor {\n\n  progresses: UploadProgress[] = [];\n\n  @Input() disabled: boolean;\n\n  @Input() multiple: boolean;\n\n  @Output() error = new EventEmitter();\n\n  @Output() uploaded = new EventEmitter();\n\n  @Output() progress = new EventEmitter();\n\n  @ViewChild('inputFile') inputFile: ElementRef;\n\n\n  /*\n  ** ngModel propertie\n  ** Used to two way data bind using [(ngModel)]\n  */\n  //  The internal data model\n  private innerValue: any[];\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onTouchedCallback: () => void = noop;\n  //  Placeholders for the callbacks which are later provided by the Control Value Accessor\n  private onChangeCallback: (_: any) => void = noop;\n\n  constructor(private service: DecApiService) {}\n\n  /*\n  ** ngModel VALUE\n  */\n  set value(v: any) {\n    if (v !== this.innerValue) {\n      this.innerValue = v;\n      this.onChangeCallback(v);\n    }\n  }\n  get value(): any {\n    return this.innerValue;\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  onValueChanged(event: any) {\n    this.value = event.toString();\n  }\n\n  writeValue(v: any[]) {\n    this.value = v;\n  }\n\n\n  filesChanged(event) {\n    for (let x = 0; x < event.target.files.length; x++) {\n      this.uploadFile(event.target.files[x], x);\n    }\n  }\n\n  openFileSelection() {\n    this.inputFile.nativeElement.click();\n  }\n\n  getProgressbarMode(progress) {\n\n    let mode;\n\n    switch (progress.value) {\n      case 0:\n        mode = 'buffer';\n        break;\n      case 100:\n        mode = 'indeterminate';\n        break;\n      default:\n        mode = 'determinate';\n        break;\n    }\n\n    return mode;\n\n  }\n\n  getProgressValueBasedOnMode(progress) {\n    const mode = this.getProgressbarMode(progress);\n    const value = mode === 'buffer' ? 0 : progress.value;\n    return value;\n  }\n\n  private uploadFile(file, index) {\n    if (file) {\n      const progress: UploadProgress = {\n        fileIndex: index,\n        fileName: file.name,\n        value: 0,\n      };\n      this.progresses.push(progress);\n      this.service.upload(UPLOAD_ENDPOINT, [file])\n      .pipe(\n        catchError(error => {\n        console.log('catchError', error);\n          progress.error = error.message;\n          this.error.emit('message.error.unexpected');\n          this.detectUploadEnd();\n          return throwError(error.message);\n        })\n      )\n      .subscribe(event => {\n        if (event.type === HttpEventType.UploadProgress) {\n          const percentDone = Math.round((100 * event.loaded) / event.total);\n          progress.value = percentDone === 100 ? percentDone : parseFloat(percentDone.toFixed(2));\n        } else if (event instanceof HttpResponse) {\n          progress.value = 100;\n          progress.file = event.body;\n          this.detectUploadEnd();\n        }\n        this.progress.emit(this.progresses);\n      });\n    }\n  }\n\n  private detectUploadEnd() {\n\n    const stillUploading = this.progresses.filter((progress) => {\n      return progress.value < 100;\n    });\n\n    if (!stillUploading.length) {\n      this.emitUploadedFiles();\n      this.clearInputFile();\n      this.clearProgresses();\n    }\n  }\n\n  private clearInputFile() {\n    this.inputFile.nativeElement.value = '';\n  }\n\n  private clearProgresses() {\n    this.progresses = [];\n  }\n\n  private emitUploadedFiles() {\n    const files = this.progresses.map((uploadProgress: UploadProgress) => {\n      return uploadProgress.file;\n    });\n    this.value = [...files];\n    this.uploaded.emit(this.value);\n  }\n\n}\n","import { CommonModule } from '@angular/common';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { InjectionToken, ModuleWithProviders, NgModule } from '@angular/core';\nimport { ServiceConfig } from './decora-api.model';\nimport { DecApiService } from './decora-api.service';\n\nexport const DECORA_API_SERVICE_CONFIG = new InjectionToken<ServiceConfig>('DECORA_API_SERVICE_CONFIG');\n\nexport function InitDecApiService(http: HttpClient, serviceConfig: ServiceConfig) {\n  return new DecApiService(http, serviceConfig);\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HttpClientModule\n  ]\n})\nexport class DecApiModule {\n  static forRoot(config: ServiceConfig): ModuleWithProviders {\n    return {\n      ngModule: DecApiModule,\n      providers: [\n        { provide: DECORA_API_SERVICE_CONFIG, useValue: config },\n        {\n          provide: DecApiService,\n          useFactory: InitDecApiService,\n          deps: [HttpClient, DECORA_API_SERVICE_CONFIG]\n        }\n      ]\n    };\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { MatProgressBarModule } from '@angular/material';\nimport { DecUploadComponent } from './upload.component';\nimport { DecApiModule } from './../../services/api/decora-api.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatProgressBarModule,\n    DecApiModule,\n  ],\n  declarations: [\n    DecUploadComponent\n  ],\n  exports: [\n    DecUploadComponent\n  ]\n})\nexport class DecUploadModule {}\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanActivateChild, CanLoad, Route, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { DecApiService } from './../services/api/decora-api.service';\nimport { map } from 'rxjs/operators';\n\n\n@Injectable()\nexport class DecAuthGuard implements CanLoad, CanActivate, CanActivateChild {\n\n  constructor(\n    private decoraApi: DecApiService\n  ) {}\n\n  canLoad(route: Route): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.isAuthenticated();\n  }\n\n  private isAuthenticated(): Observable<boolean> {\n    return this.decoraApi.fetchCurrentLoggedUser()\n    .pipe(\n      map((user: any) => {\n        return (user && user.id) ? true : false;\n      })\n    ) as Observable<boolean>;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecAuthGuard } from './auth-guard.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecAuthGuard\n  ]\n})\nexport class DecGuardModule { }\n","export class UserAuthData {\n  public id: string;\n  public email: string;\n  public name: string;\n  public country: string;\n  public company: string;\n  public role: number;\n  public permissions: Array<string>;\n\n  constructor(user: any = {}) {\n    this.id = user.id || undefined;\n    this.email = user.email || undefined;\n    this.name = user.name || undefined;\n    this.country = user.country || undefined;\n    this.company = user.company || undefined;\n    this.role = user.role || undefined;\n    this.permissions = user.permissions || undefined;\n  }\n}\n\nexport interface LoginData {\n  email: string;\n  password: string;\n  keepLogged: boolean;\n}\n\nexport interface FacebookLoginData {\n  keepLogged: boolean;\n  facebookToken: string;\n}\n\nexport interface ServiceConfig {\n  host: string;\n  authHost?: string;\n  useMockApi?: boolean;\n  mockApiHost?: string;\n}\n\n\n\n/*\n  * FilterGroups\n  *\n  * an Array of filter group\n  */\nexport type FilterGroups = FilterGroup[];\n\n/*\n  * Filters\n  *\n  * an Array of filter\n  */\nexport type Filters = Filter[];\n\n/*\n  * FilterData\n  *\n  * Filter configuration\n  */\nexport interface FilterData {\n  endpoint: string;\n  payload: DecFilter;\n  cbk?: Function;\n  clear?: boolean;\n}\n\n/*\n  * Filter\n  *\n  * Filter configuration\n  */\nexport interface DecFilter {\n  filterGroups?: FilterGroups;\n  projectView?: any;\n  columns?: any;\n  page?: number;\n  limit?: number;\n  textSearch?: string;\n}\n\n/*\n  * Filter\n  *\n  * Filter configuration\n  */\nexport interface SerializedDecFilter {\n  filter?: string;\n  projectView?: string;\n  columns?: string;\n  page?: number;\n  limit?: number;\n  textSearch?: string;\n}\n\n/*\n  * Filter\n  *\n  * Signle filter\n  */\nexport interface Filter {\n  property: string;\n  value: string | string[];\n}\n\n/*\n  * FilterGroup\n  *\n  * Group of Filter\n  */\nexport interface FilterGroup {\n  filters: Filters;\n}\n\n/*\n  * ColumnsSortConfig\n  *\n  * Configuration to sort columns\n  */\nexport interface ColumnsSortConfig {\n  property: string;\n  order: {\n    type: 'asc' | 'desc'\n  };\n}\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar, MatSnackBarRef, SimpleSnackBar } from '@angular/material';\nimport { TranslateService } from '@ngx-translate/core';\n\n\nexport type MessageType = 'success' | 'primary' | 'info' | 'warn' | 'error';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DecSnackBarService {\n\n  constructor(public snackBarService: MatSnackBar,\n    private translate: TranslateService) { }\n\n  open(message: string, type: MessageType, duration = 4e3): MatSnackBarRef<SimpleSnackBar> {\n    const msg = this.translate.instant(message);\n    const snackClass = this.getClass(type);\n\n    return this.snackBarService.open(msg, '', {\n      duration: duration,\n      panelClass: snackClass\n    });\n  }\n\n  getClass(type: MessageType) {\n    switch (type) {\n      case 'success':\n        return 'snack-success';\n      case 'primary':\n        return 'snack-primary';\n      case 'info':\n        return 'snack-info';\n      case 'warn':\n        return 'snack-warn';\n      case 'error':\n        return 'snack-error';\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecSnackBarService } from './dec-snack-bar.service';\nimport { MatSnackBarModule } from '@angular/material';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatSnackBarModule,\n    TranslateModule\n  ],\n  providers: [\n    DecSnackBarService\n  ]\n})\nexport class DecSnackBarModule { }\n","import { Injectable } from '@angular/core';\nimport { DecApiService } from './../../services/api/decora-api.service';\nimport { CanLoad, CanActivate, CanActivateChild, Route, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { of, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DecPermissionGuard implements CanLoad, CanActivate, CanActivateChild {\n\n  constructor(private decoraApi: DecApiService,\n              private router: Router) { }\n\n  canLoad(route: Route) {\n    if (route.data && !route.data.permissions) {\n      this.notAllowed();\n      return of(false);\n    }\n\n    const permissions = route.data.permissions;\n    return this.hasAccess(permissions);\n  }\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    if (route.data && !route.data.permissions) {\n      this.notAllowed();\n      return of(false);\n    }\n\n    const permissions = route.data.permissions;\n    return this.hasAccess(permissions);\n  }\n\n  canActivateChild(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    return this.canActivate(route, state);\n  }\n\n  notAllowed() {\n    this.router.navigate(['/forbiden']);\n  }\n\n  hasAccess(permissions) {\n    return this.decoraApi.user$\n    .pipe(\n      map(user => {\n        if (user) {\n          const allowed = this.isAllowedAccess(user.permissions, permissions);\n          if (!allowed) {\n            this.notAllowed();\n          } else {\n            return true;\n          }\n        }\n      })\n    );\n  }\n\n  private isAllowedAccess(userPermissions: string[], currentPermissions: string[]) {\n    try {\n      const matchingRole = currentPermissions.find((userRole) => {\n        return userPermissions.find((alowedRole) => {\n          return alowedRole === userRole;\n        }) ? true : false;\n      });\n      return matchingRole ? true : false;\n    } catch (error) {\n      return false;\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecPermissionGuard } from './dec-permission-guard.service';\n\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecPermissionGuard\n  ]\n})\nexport class DecPermissionGuardModule { }\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { OpenConnection } from './ws-client.models';\n\n@Injectable()\nexport class DecWsClientService {\n\n  private connection: {\n    [key: string]: OpenConnection\n  } = {};\n\n  constructor() {}\n\n  connect(url) {\n\n    const connection = this.connection[url];\n\n    if (connection) {\n\n      return connection;\n\n    } else {\n\n      return this.connectToWs(url);\n\n    }\n\n  }\n\n  private connectToWs(url): OpenConnection {\n\n    const connection = this.openConnection(url);\n\n    this.connection[url] = connection;\n\n    return connection;\n\n  }\n\n\n  private openConnection(url: string, connection?: OpenConnection): OpenConnection {\n\n    if (connection) {\n\n      connection.channel = new WebSocket(url);\n\n    } else {\n\n      connection = connection ? connection : {\n        channel: new WebSocket(url),\n        messages: new BehaviorSubject<string[]>([]),\n      };\n\n    }\n\n    connection.channel.onclose = () => this.openConnection(url, connection);\n\n    connection.channel.onerror = () => this.openConnection(url, connection);\n\n    connection.channel.onmessage = (a) => {\n\n      const currentMessages = connection.messages.getValue();\n\n      currentMessages.unshift(a.data);\n\n      connection.messages.next(currentMessages);\n\n    };\n\n    return connection;\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DecWsClientService } from './ws-client.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    DecWsClientService\n  ]\n})\nexport class DecWsClientModule { }\n"]}