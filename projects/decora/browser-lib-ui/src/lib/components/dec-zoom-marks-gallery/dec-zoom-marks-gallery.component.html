<div class="gallery-size" fxLayout="column" fxLayoutGap="32px" fxLayoutAlign="space-between start">

  <dec-zoom-marks fxFlex class="gallery-size" [marker]="markedObj" [qaMode]="qaModeActive" (openZoomArea)="onOpenZoomArea($event)"
    minZoomLevel="1" maxZoomLevel="8" stepZoomLevel="0.1"></dec-zoom-marks>

  <div class="gallery-size" fxLayout="row" fxLayoutAlign="center center">
    <ngu-carousel class="carousel-wrapper" [inputs]="carouselConfig" (initData)="onInitDataFn($event)" (onMove)="onMoveFn($event)">

      <ngu-item NguCarouselItem *ngFor="let image of markedObjs; let i = index;" [class.active]="image == markedObj">
        <div class="image-container">
          <span *ngIf="(image?.tags && image?.tags?.length > 0) || 
                       (image?.zoomAreas && image?.zoomAreas?.length > 0)" class="has-comment">!</span>
          <img [decImage]="image.file" [decImageSize]="{width:300, height:300}" (click)="onSelectImage($event,image, i)">
        </div>
      </ngu-item>

      <mat-icon NguCarouselPrev class="left-previous" [ngClass]="{'disabled': isFirst}">chevron_left</mat-icon>

      <mat-icon NguCarouselNext class="right-next" [ngClass]="{'disabled': isLast}">chevron_right</mat-icon>

    </ngu-carousel>
  </div>

  <div *ngIf="showTags" class="container-comments" fxLayout="column" fxLayoutGap="16px">
    <div fxLayout="column" fxLayoutAlign="start start">
      <h3 fxLayout="row" fxLayoutAlign="start start">
        <dec-icon class="dec-icon-size dec-color-grey" font="mat">bookmarks</dec-icon>
        <span class="dec-icon-text-size-zoom-area-tags"> Tags </span> <br /> <br />
      </h3>
      <span class="qa-name" *ngIf="userAgent">
          {{ userAgent.reviewer ? 'Review' : 'QA' }}: {{ userAgent.date | date:'medium' }} - #{{userAgent.userId}} {{userAgent.userName}}
        </span>
    </div>
    <dec-markdowns-comment [renders]="markedObjs" [qaMode]="qaModeActive" [decZoomMarksComponent]="zoomMarks"></dec-markdowns-comment>

    <div fxLayout="row" fxLayoutAlign="start start">
      <h3 fxLayout="row" fxLayoutAlign="start start">
        <dec-icon class="dec-icon-size dec-color-grey" font="mat">error</dec-icon>
        <span class="dec-icon-text-size-zoom-area"> Zoom areas </span>
      </h3>
    </div>
    <dec-markdowns-zoom-area [renders]="markedObjs"></dec-markdowns-zoom-area>
  </div>
</div>